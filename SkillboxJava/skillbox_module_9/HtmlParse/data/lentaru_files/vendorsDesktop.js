/*! For license information please see vendorsDesktop.66fc2d28.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(t,e,n){(function(r){var i,o;!function(s){var a="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r;i=[n(11),n(1),e],void 0===(o=function(t,e,n){a.Backbone=function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,r){n.each(e,(function(e,i){n[i]&&(t.prototype[i]=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],a(t,this),i)};case 4:return function(t,i,o){return n[e](this[r],a(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}}(e,i,r))}))},a=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?u(t):n.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},l=/\s+/,f=function(t,e,r,i,o){var s,a=0;if(r&&"object"===typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(s=n.keys(r);a<s.length;a++)e=f(t,e,s[a],r[s[a]],o)}else if(r&&l.test(r))for(s=r.split(l);a<s.length;a++)e=t(e,s[a],i,o);else e=t(e,r,i,o);return e};c.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,r,i){(t._events=f(p,t._events||{},e,n,{context:r,ctx:t,listening:i}),i)&&((t._listeners||(t._listeners={}))[i.id]=i);return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[i];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[i]={obj:t,objId:i,id:a,listeningTo:o,count:0}}return h(t,e,r,this,s),this};var p=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return t};c.off=function(t,e,n){return this._events?(this._events=f(d,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(e,r,this)}return this};var d=function(t,e,r,i){if(t){var o,s=0,a=i.context,u=i.listeners;if(e||r||a){for(var c=e?[e]:n.keys(t);s<c.length;s++){var l=t[e=c[s]];if(!l)break;for(var f=[],h=0;h<l.length;h++){var p=l[h];r&&r!==p.callback&&r!==p.callback._callback||a&&a!==p.context?f.push(p):(o=p.listening)&&0===--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}f.length?t[e]=f:delete t[e]}return t}for(var d=n.keys(u);s<d.length;s++)delete u[(o=u[d[s]]).id],delete o.listeningTo[o.objId]}};c.once=function(t,e,r){var i=f(g,{},t,e,n.bind(this.off,this));return"string"===typeof t&&null==r&&(e=void 0),this.on(i,e,r)},c.listenToOnce=function(t,e,r){var i=f(g,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var g=function(t,e,r,i){if(r){var o=t[e]=n.once((function(){i(e,o),r.apply(this,arguments)}));o._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return f(v,this._events,t,void 0,n),this};var v=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&m(i,r),o&&m(o,[e].concat(r))}return t},m=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var y=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"===typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,s=r.silent,a=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,f=this._previousAttributes;for(var h in i)e=i[h],n.isEqual(c[h],e)||a.push(h),n.isEqual(f[h],e)?delete l[h]:l[h]=e,o?delete c[h]:c[h]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=r);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],r)}if(u)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var o=t[i];n.isEqual(e[i],o)||(r[i]=o)}return!!n.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},L(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"===typeof t?(i=t,r=e):(i={})[t]=e;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,a=r.success,u=this.attributes;r.success=function(t){s.attributes=u;var e=r.parse?s.parse(t,r):t;if(o&&(e=n.extend({},i,e)),e&&!s.set(e,r))return!1;a&&a.call(r.context,s,t,r),s.trigger("sync",s,t,r)},L(this,r),i&&o&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(L(this,t),s=this.sync("delete",this,t)),i||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||j();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}}),s(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},_={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},x=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){(e=n.extend({},_,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,s,a=[],u=[],c=[],l=[],f={},h=e.add,p=e.merge,d=e.remove,g=!1,v=this.comparator&&null==i&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){o=t[s];var y=this.get(o);if(y){if(p&&o!==y){var b=this._isModel(o)?o.attributes:o;e.parse&&(b=y.parse(b,e)),y.set(b,e),c.push(y),v&&!g&&(g=y.hasChanged(m))}f[y.cid]||(f[y.cid]=!0,a.push(y)),t[s]=y}else h&&(o=t[s]=this._prepareModel(o,e))&&(u.push(o),this._addReference(o,e),f[o.cid]=!0,a.push(o))}if(d){for(s=0;s<this.length;s++)f[(o=this.models[s]).cid]||l.push(o);l.length&&this._removeModels(l,e)}var w=!1,E=!v&&h&&d;if(a.length&&E?(w=this.length!==a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,x(this.models,a,0),this.length=this.models.length):u.length&&(v&&(g=!0),x(this.models,u,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(s=0;s<u.length;s++)null!=i&&(e.index=i+s),(o=u[s]).trigger("add",o,this,e);(g||w)&&this.trigger("sort",this,e),(u.length||l.length||c.length)&&(e.changes={added:u,removed:l,merged:c},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},L(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var s=this.modelId(i.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}}),s(b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var E=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,k)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(S);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var o=M[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||j()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var c=i.xhr=e.ajax(n.extend(s,i));return r.trigger("request",r,c,i),c};var M={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var T=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,I=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(T.prototype,c,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,(function(n){var s=o._extractParameters(t,n);!1!==o.execute(i,s,r)&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),e.history.trigger("route",o,r,s))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(N,"\\$&").replace(O,"(?:$1)?").replace(C,(function(t,e){return e?t:"([^/?]+)"})).replace(I,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var A=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,D=/#.*$/;A.started=!1,n.extend(A.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(R,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");if(A.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(P,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!A.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(D,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new A;y.extend=b.extend=T.extend=E.extend=A.extend=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};var j=function(){throw new Error('A "url" property or function must be specified')},L=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}(a,n,t,e)}.apply(e,i))||(t.exports=o)}()}).call(this,n(5))},function(t,e,n){var r,i,o;i="undefined"!==typeof window?window:this,o=function(n,i){var o=[],s=o.slice,a=o.concat,u=o.push,c=o.indexOf,l={},f=l.toString,h=l.hasOwnProperty,p={},d=n.document,g=function(t,e){return new g.fn.init(t,e)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,y=/-([\da-z])/gi,b=function(t,e){return e.toUpperCase()};function _(t){var e="length"in t&&t.length,n=g.type(t);return"function"!==n&&!g.isWindow(t)&&(!(1!==t.nodeType||!e)||"array"===n||0===e||"number"===typeof e&&e>0&&e-1 in t)}g.fn=g.prototype={jquery:"2.1.4",constructor:g,selector:"",length:0,toArray:function(){return s.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:s.call(this)},pushStack:function(t){var e=g.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return g.each(this,t,e)},map:function(t){return this.pushStack(g.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:u,sort:o.sort,splice:o.splice},g.extend=g.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"===typeof s&&(c=s,s=arguments[a]||{},a++),"object"===typeof s||g.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(r=t[e])&&(c&&r&&(g.isPlainObject(r)||(i=g.isArray(r)))?(i?(i=!1,o=n&&g.isArray(n)?n:[]):o=n&&g.isPlainObject(n)?n:{},s[e]=g.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},g.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===g.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!g.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===g.type(t)&&!t.nodeType&&!g.isWindow(t)&&!(t.constructor&&!h.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"===typeof t||"function"===typeof t?l[f.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=g.trim(t))&&(1===t.indexOf("use strict")?((e=d.createElement("script")).text=t,d.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(m,"ms-").replace(y,b)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r=0,i=t.length,o=_(t);if(n){if(o)for(;r<i&&!1!==e.apply(t[r],n);r++);else for(r in t)if(!1===e.apply(t[r],n))break}else if(o)for(;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(v,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(_(Object(t))?g.merge(n,"string"===typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var r,i=0,o=t.length,s=[];if(_(t))for(;i<o;i++)null!=(r=e(t[i],i,n))&&s.push(r);else for(i in t)null!=(r=e(t[i],i,n))&&s.push(r);return a.apply([],s)},guid:1,proxy:function(t,e){var n,r,i;if("string"===typeof e&&(n=t[e],e=t,t=n),g.isFunction(t))return r=s.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(s.call(arguments)))}).guid=t.guid=t.guid||g.guid++,i},now:Date.now,support:p}),g.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){l["[object "+e+"]"]=e.toLowerCase()}));var w=function(t){var e,n,r,i,o,s,a,u,c,l,f,h,p,d,g,v,m,y,b,_="sizzle"+1*new Date,w=t.document,x=0,E=0,S=st(),k=st(),M=st(),T=function(t,e){return t===e&&(f=!0),0},O=1<<31,C={}.hasOwnProperty,I=[],N=I.pop,A=I.push,R=I.push,P=I.slice,D=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",U=B.replace("w","w#"),F="\\["+L+"*("+B+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+L+"*\\]",V=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(L+"+","g"),z=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),W=new RegExp("^"+L+"*,"+L+"*"),Y=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),G=new RegExp(V),$=new RegExp("^"+U+"$"),K={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),rt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},it=function(){h()};try{R.apply(I=P.call(w.childNodes),w.childNodes),I[w.childNodes.length].nodeType}catch(xt){R={apply:I.length?function(t,e){A.apply(t,P.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function ot(t,e,r,i){var o,a,c,l,f,d,m,y,x,E;if((e?e.ownerDocument||e:w)!==p&&h(e),r=r||[],l=(e=e||p).nodeType,"string"!==typeof t||!t||1!==l&&9!==l&&11!==l)return r;if(!i&&g){if(11!==l&&(o=Q.exec(t)))if(c=o[1]){if(9===l){if(!(a=e.getElementById(c))||!a.parentNode)return r;if(a.id===c)return r.push(a),r}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(c))&&b(e,a)&&a.id===c)return r.push(a),r}else{if(o[2])return R.apply(r,e.getElementsByTagName(t)),r;if((c=o[3])&&n.getElementsByClassName)return R.apply(r,e.getElementsByClassName(c)),r}if(n.qsa&&(!v||!v.test(t))){if(y=m=_,x=e,E=1!==l&&t,1===l&&"object"!==e.nodeName.toLowerCase()){for(d=s(t),(m=e.getAttribute("id"))?y=m.replace(et,"\\$&"):e.setAttribute("id",y),y="[id='"+y+"'] ",f=d.length;f--;)d[f]=y+vt(d[f]);x=tt.test(t)&&dt(e.parentNode)||e,E=d.join(",")}if(E)try{return R.apply(r,x.querySelectorAll(E)),r}catch(S){}finally{m||e.removeAttribute("id")}}}return u(t.replace(z,"$1"),e,r,i)}function st(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function at(t){return t[_]=!0,t}function ut(t){var e=p.createElement("div");try{return!!t(e)}catch(xt){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),i=t.length;i--;)r.attrHandle[n[i]]=e}function lt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||O)-(~t.sourceIndex||O);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return at((function(e){return e=+e,at((function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function dt(t){return t&&"undefined"!==typeof t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},h=ot.setDocument=function(t){var e,i,s=t?t.ownerDocument||t:w;return s!==p&&9===s.nodeType&&s.documentElement?(p=s,d=s.documentElement,(i=s.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",it,!1):i.attachEvent&&i.attachEvent("onunload",it)),g=!o(s),n.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ut((function(t){return t.appendChild(s.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(s.getElementsByClassName),n.getById=ut((function(t){return d.appendChild(t).id=_,!s.getElementsByName||!s.getElementsByName(_).length})),n.getById?(r.find.ID=function(t,e){if("undefined"!==typeof e.getElementById&&g){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(t){var e=t.replace(nt,rt);return function(t){return t.getAttribute("id")===e}}):(delete r.find.ID,r.filter.ID=function(t){var e=t.replace(nt,rt);return function(t){var n="undefined"!==typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),r.find.TAG=n.getElementsByTagName?function(t,e){return"undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(g)return e.getElementsByClassName(t)},m=[],v=[],(n.qsa=Z.test(s.querySelectorAll))&&(ut((function(t){d.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+L+"*(?:value|"+j+")"),t.querySelectorAll("[id~="+_+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||v.push(".#.+[+~]")})),ut((function(t){var e=s.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+L+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Z.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ut((function(t){n.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),m.push("!=",V)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=Z.test(d.compareDocumentPosition),b=e||Z.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return f=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===s||t.ownerDocument===w&&b(w,t)?-1:e===s||e.ownerDocument===w&&b(w,e)?1:l?D(l,t)-D(l,e):0:4&r?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!i||!o)return t===s?-1:e===s?1:i?-1:o?1:l?D(l,t)-D(l,e):0;if(i===o)return lt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?lt(a[r],u[r]):a[r]===w?-1:u[r]===w?1:0},s):p},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&h(t),e=e.replace(q,"='$1']"),n.matchesSelector&&g&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(xt){}return ot(e,p,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==p&&h(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==p&&h(t);var i=r.attrHandle[e.toLowerCase()],o=i&&C.call(r.attrHandle,e.toLowerCase())?i(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,r=[],i=0,o=0;if(f=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(T),f){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return l=null,t},i=ot.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=ot.selectors={cacheLength:50,createPseudo:at,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(nt,rt),t[3]=(t[3]||t[4]||t[5]||"").replace(nt,rt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return K.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&G.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(nt,rt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&S(t,(function(t){return e.test("string"===typeof t.className&&t.className||"undefined"!==typeof t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=ot.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,h,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(p=(c=(l=v[_]||(v[_]={}))[t]||[])[0]===x&&c[1],h=c[0]===x&&c[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(h=p=0)||d.pop();)if(1===f.nodeType&&++h&&f===e){l[t]=[x,p,h];break}}else if(y&&(c=(e[_]||(e[_]={}))[t])&&c[0]===x)h=c[1];else for(;(f=++p&&f&&f[g]||(h=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++h||(y&&((f[_]||(f[_]={}))[t]=[x,h]),f!==e)););return(h-=i)===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return i[_]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?at((function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=D(t,o[s])]=!(n[r]=o[s])})):function(t){return i(t,0,n)}):i}},pseudos:{not:at((function(t){var e=[],n=[],r=a(t.replace(z,"$1"));return r[_]?at((function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:at((function(t){return function(e){return ot(t,e).length>0}})),contains:at((function(t){return t=t.replace(nt,rt),function(e){return(e.textContent||e.innerText||i(e)).indexOf(t)>-1}})),lang:at((function(t){return $.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(nt,rt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt((function(){return[0]})),last:pt((function(t,e){return[e-1]})),eq:pt((function(t,e,n){return[n<0?n+e:n]})),even:pt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:pt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:pt((function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t})),gt:pt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ht(e);function gt(){}function vt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function mt(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=E++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,c=[x,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if((a=(u=e[_]||(e[_]={}))[r])&&a[0]===x&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=t(e,n,s))return!0}}}function yt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function bt(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function _t(t,e,n,r,i,o){return r&&!r[_]&&(r=_t(r)),i&&!i[_]&&(i=_t(i,o)),at((function(o,s,a,u){var c,l,f,h=[],p=[],d=s.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)ot(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:bt(g,h,t,a,u),m=n?i||(o?t:d||r)?[]:s:v;if(n&&n(v,m,a,u),r)for(c=bt(m,p),r(c,[],a,u),l=c.length;l--;)(f=c[l])&&(m[p[l]]=!(v[p[l]]=f));if(o){if(i||t){if(i){for(c=[],l=m.length;l--;)(f=m[l])&&c.push(v[l]=f);i(null,m=[],c,u)}for(l=m.length;l--;)(f=m[l])&&(c=i?D(o,f):h[l])>-1&&(o[c]=!(s[c]=f))}}else m=bt(m===s?m.splice(d,m.length):m),i?i(null,s,m,u):R.apply(s,m)}))}function wt(t){for(var e,n,i,o=t.length,s=r.relative[t[0].type],a=s||r.relative[" "],u=s?1:0,l=mt((function(t){return t===e}),a,!0),f=mt((function(t){return D(e,t)>-1}),a,!0),h=[function(t,n,r){var i=!s&&(r||n!==c)||((e=n).nodeType?l(t,n,r):f(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])h=[mt(yt(h),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[_]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return _t(u>1&&yt(h),u>1&&vt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(z,"$1"),n,u<i&&wt(t.slice(u,i)),i<o&&wt(t=t.slice(i)),i<o&&vt(t))}h.push(n)}return yt(h)}return gt.prototype=r.filters=r.pseudos,r.setFilters=new gt,s=ot.tokenize=function(t,e){var n,i,o,s,a,u,c,l=k[t+" "];if(l)return e?0:l.slice(0);for(a=t,u=[],c=r.preFilter;a;){for(s in n&&!(i=W.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),n=!1,(i=Y.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),a=a.slice(n.length)),r.filter)!(i=K[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):k(t,u).slice(0)},a=ot.compile=function(t,e){var n,i=[],o=[],a=M[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=wt(e[n]))[_]?i.push(a):o.push(a);(a=M(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,s,a,u,l){var f,h,d,g=0,v="0",m=o&&[],y=[],b=c,_=o||i&&r.find.TAG("*",l),w=x+=null==b?1:Math.random()||.1,E=_.length;for(l&&(c=s!==p&&s);v!==E&&null!=(f=_[v]);v++){if(i&&f){for(h=0;d=t[h++];)if(d(f,s,a)){u.push(f);break}l&&(x=w)}n&&((f=!d&&f)&&g--,o&&m.push(f))}if(g+=v,n&&v!==g){for(h=0;d=e[h++];)d(m,y,s,a);if(o){if(g>0)for(;v--;)m[v]||y[v]||(y[v]=N.call(u));y=bt(y)}R.apply(u,y),l&&!o&&y.length>0&&g+e.length>1&&ot.uniqueSort(u)}return l&&(x=w,c=b),m};return n?at(o):o}(o,i))).selector=t}return a},u=ot.select=function(t,e,i,o){var u,c,l,f,h,p="function"===typeof t&&t,d=!o&&s(t=p.selector||t);if(i=i||[],1===d.length){if((c=d[0]=d[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&n.getById&&9===e.nodeType&&g&&r.relative[c[1].type]){if(!(e=(r.find.ID(l.matches[0].replace(nt,rt),e)||[])[0]))return i;p&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(u=K.needsContext.test(t)?0:c.length;u--&&(l=c[u],!r.relative[f=l.type]);)if((h=r.find[f])&&(o=h(l.matches[0].replace(nt,rt),tt.test(c[0].type)&&dt(e.parentNode)||e))){if(c.splice(u,1),!(t=o.length&&vt(c)))return R.apply(i,o),i;break}}return(p||a(t,d))(o,e,!g,i,tt.test(t)&&dt(e.parentNode)||e),i},n.sortStable=_.split("").sort(T).join("")===_,n.detectDuplicates=!!f,h(),n.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(p.createElement("div"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ct("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ct("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||ct(j,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),ot}(n);g.find=w,g.expr=w.selectors,g.expr[":"]=g.expr.pseudos,g.unique=w.uniqueSort,g.text=w.getText,g.isXMLDoc=w.isXML,g.contains=w.contains;var x=g.expr.match.needsContext,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^.[^:#\[\.,]*$/;function k(t,e,n){if(g.isFunction(e))return g.grep(t,(function(t,r){return!!e.call(t,r,t)!==n}));if(e.nodeType)return g.grep(t,(function(t){return t===e!==n}));if("string"===typeof e){if(S.test(e))return g.filter(e,t,n);e=g.filter(e,t)}return g.grep(t,(function(t){return c.call(e,t)>=0!==n}))}g.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?g.find.matchesSelector(r,t)?[r]:[]:g.find.matches(t,g.grep(e,(function(t){return 1===t.nodeType})))},g.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!==typeof t)return this.pushStack(g(t).filter((function(){for(e=0;e<n;e++)if(g.contains(i[e],this))return!0})));for(e=0;e<n;e++)g.find(t,i[e],r);return(r=this.pushStack(n>1?g.unique(r):r)).selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(k(this,t||[],!1))},not:function(t){return this.pushStack(k(this,t||[],!0))},is:function(t){return!!k(this,"string"===typeof t&&x.test(t)?g(t):t||[],!1).length}});var M,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(t,e){var n,r;if(!t)return this;if("string"===typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:T.exec(t))||!n[1]&&e)return!e||e.jquery?(e||M).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof g?e[0]:e,g.merge(this,g.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:d,!0)),E.test(n[1])&&g.isPlainObject(e))for(n in e)g.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(r=d.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=d,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):g.isFunction(t)?"undefined"!==typeof M.ready?M.ready(t):t(g):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),g.makeArray(t,this))}).prototype=g.fn,M=g(d);var O=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}g.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&g(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),g.fn.extend({has:function(t){var e=g(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(g.contains(this,e[t]))return!0}))},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=x.test(t)||"string"!==typeof t?g(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?g.unique(o):o)},index:function(t){return t?"string"===typeof t?c.call(g(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(g.unique(g.merge(this.get(),g(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),g.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return g.dir(t,"parentNode")},parentsUntil:function(t,e,n){return g.dir(t,"parentNode",n)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return g.dir(t,"nextSibling")},prevAll:function(t){return g.dir(t,"previousSibling")},nextUntil:function(t,e,n){return g.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return g.dir(t,"previousSibling",n)},siblings:function(t){return g.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return g.sibling(t.firstChild)},contents:function(t){return t.contentDocument||g.merge([],t.childNodes)}},(function(t,e){g.fn[t]=function(n,r){var i=g.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"===typeof r&&(i=g.filter(r,i)),this.length>1&&(C[t]||g.unique(i),O.test(t)&&i.reverse()),this.pushStack(i)}}));var N,A=/\S+/g,R={};function P(){d.removeEventListener("DOMContentLoaded",P,!1),n.removeEventListener("load",P,!1),g.ready()}g.Callbacks=function(t){t="string"===typeof t?R[t]||function(t){var e=R[t]={};return g.each(t.match(A)||[],(function(t,n){e[n]=!0})),e}(t):g.extend({},t);var e,n,r,i,o,s,a=[],u=!t.once&&[],c=function(f){for(e=t.memory&&f,n=!0,s=i||0,i=0,o=a.length,r=!0;a&&s<o;s++)if(!1===a[s].apply(f[0],f[1])&&t.stopOnFalse){e=!1;break}r=!1,a&&(u?u.length&&c(u.shift()):e?a=[]:l.disable())},l={add:function(){if(a){var n=a.length;!function e(n){g.each(n,(function(n,r){var i=g.type(r);"function"===i?t.unique&&l.has(r)||a.push(r):r&&r.length&&"string"!==i&&e(r)}))}(arguments),r?o=a.length:e&&(i=n,c(e))}return this},remove:function(){return a&&g.each(arguments,(function(t,e){for(var n;(n=g.inArray(e,a,n))>-1;)a.splice(n,1),r&&(n<=o&&o--,n<=s&&s--)})),this},has:function(t){return t?g.inArray(t,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=u=e=void 0,this},disabled:function(){return!a},lock:function(){return u=void 0,e||l.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!a||n&&!u||(e=[t,(e=e||[]).slice?e.slice():e],r?u.push(e):c(e)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},g.extend({Deferred:function(t){var e=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return g.Deferred((function(n){g.each(e,(function(e,o){var s=g.isFunction(t[e])&&t[e];i[o[1]]((function(){var t=s&&s.apply(this,arguments);t&&g.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?g.extend(t,r):r}},i={};return r.pipe=r.then,g.each(e,(function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add((function(){n=a}),e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith})),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=s.call(arguments),a=o.length,u=1!==a||t&&g.isFunction(t.promise)?a:0,c=1===u?t:g.Deferred(),l=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?s.call(arguments):i,r===e?c.notifyWith(n,r):--u||c.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);i<a;i++)o[i]&&g.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(c.reject).progress(l(i,n,e)):--u;return u||c.resolveWith(r,o),c.promise()}}),g.fn.ready=function(t){return g.ready.promise().done(t),this},g.extend({isReady:!1,readyWait:1,holdReady:function(t){t?g.readyWait++:g.ready(!0)},ready:function(t){(!0===t?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==t&&--g.readyWait>0||(N.resolveWith(d,[g]),g.fn.triggerHandler&&(g(d).triggerHandler("ready"),g(d).off("ready"))))}}),g.ready.promise=function(t){return N||(N=g.Deferred(),"complete"===d.readyState?setTimeout(g.ready):(d.addEventListener("DOMContentLoaded",P,!1),n.addEventListener("load",P,!1))),N.promise(t)},g.ready.promise();var D=g.access=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===g.type(n))for(a in i=!0,n)g.access(t,e,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,g.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(g(t),n)})),e))for(;a<u;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o};function j(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=g.expando+j.uid++}g.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},j.uid=1,j.accepts=g.acceptData,j.prototype={key:function(t){if(!j.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=j.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,g.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"===typeof e)o[e]=n;else if(g.isEmptyObject(o))g.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"===typeof e&&void 0===n?void 0!==(r=this.get(t,e))?r:this.get(t,g.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{g.isArray(e)?r=e.concat(e.map(g.camelCase)):(i=g.camelCase(e),r=e in s?[e,i]:(r=i)in s?[r]:r.match(A)||[]),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(t){return!g.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var L=new j,B=new j,U=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,F=/([A-Z])/g;function V(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(F,"-$1").toLowerCase(),"string"===typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:U.test(n)?g.parseJSON(n):n)}catch(i){}B.set(t,e,n)}else n=void 0;return n}g.extend({hasData:function(t){return B.hasData(t)||L.hasData(t)},data:function(t,e,n){return B.access(t,e,n)},removeData:function(t,e){B.remove(t,e)},_data:function(t,e,n){return L.access(t,e,n)},_removeData:function(t,e){L.remove(t,e)}}),g.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=B.get(o),1===o.nodeType&&!L.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=g.camelCase(r.slice(5)),V(o,r,i[r]));L.set(o,"hasDataAttrs",!0)}return i}return"object"===typeof t?this.each((function(){B.set(this,t)})):D(this,(function(e){var n,r=g.camelCase(t);if(o&&void 0===e)return void 0!==(n=B.get(o,t))?n:void 0!==(n=B.get(o,r))?n:void 0!==(n=V(o,r,void 0))?n:void 0;this.each((function(){var n=B.get(this,r);B.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&B.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){B.remove(this,t)}))}}),g.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=L.get(t,e),n&&(!r||g.isArray(n)?r=L.access(t,e,g.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=g.queue(t,e),r=n.length,i=n.shift(),o=g._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,(function(){g.dequeue(t,e)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return L.get(t,n)||L.access(t,n,{empty:g.Callbacks("once memory").add((function(){L.remove(t,[e+"queue",n])}))})}}),g.fn.extend({queue:function(t,e){var n=2;return"string"!==typeof t&&(e=t,t="fx",n--),arguments.length<n?g.queue(this[0],t):void 0===e?this:this.each((function(){var n=g.queue(this,t,e);g._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&g.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){g.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=g.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!==typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=L.get(o[s],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var H=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],W=function(t,e){return t=e||t,"none"===g.css(t,"display")||!g.contains(t.ownerDocument,t)},Y=/^(?:checkbox|radio)$/i;!function(){var t=d.createDocumentFragment().appendChild(d.createElement("div")),e=d.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),p.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}(),p.focusinBubbles="onfocusin"in n;var q=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,K=/^([^.]*)(?:\.(.+)|)$/;function X(){return!0}function J(){return!1}function Z(){try{return d.activeElement}catch(t){}}g.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,f,h,p,d,v,m=L.get(t);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=g.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!==typeof g&&g.event.triggered!==e.type?g.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(A)||[""]).length;c--;)p=v=(a=K.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),p&&(f=g.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,f=g.event.special[p]||{},l=g.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&g.expr.match.needsContext.test(i),namespace:d.join(".")},o),(h=u[p])||((h=u[p]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,d,s)||t.addEventListener&&t.addEventListener(p,s,!1)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),g.event.global[p]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,f,h,p,d,v,m=L.hasData(t)&&L.get(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(A)||[""]).length;c--;)if(p=v=(a=K.exec(e[c])||[])[1],d=(a[2]||"").split(".").sort(),p){for(f=g.event.special[p]||{},h=u[p=(r?f.delegateType:f.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)l=h[o],!i&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));s&&!h.length&&(f.teardown&&!1!==f.teardown.call(t,d,m.handle)||g.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)g.event.remove(t,p+e[c],n,r,!0);g.isEmptyObject(u)&&(delete m.handle,L.remove(t,"events"))}},trigger:function(t,e,r,i){var o,s,a,u,c,l,f,p=[r||d],v=h.call(t,"type")?t.type:t,m=h.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||d,3!==r.nodeType&&8!==r.nodeType&&!$.test(v+g.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,(t=t[g.expando]?t:new g.Event(v,"object"===typeof t&&t)).isTrigger=i?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:g.makeArray(e,[t]),f=g.event.special[v]||{},i||!f.trigger||!1!==f.trigger.apply(r,e))){if(!i&&!f.noBubble&&!g.isWindow(r)){for(u=f.delegateType||v,$.test(u+v)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||d)&&p.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||v,(l=(L.get(s,"events")||{})[t.type]&&L.get(s,"handle"))&&l.apply(s,e),(l=c&&s[c])&&l.apply&&g.acceptData(s)&&(t.result=l.apply(s,e),!1===t.result&&t.preventDefault());return t.type=v,i||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),e)||!g.acceptData(r)||c&&g.isFunction(r[v])&&!g.isWindow(r)&&((a=r[c])&&(r[c]=null),g.event.triggered=v,r[v](),g.event.triggered=void 0,a&&(r[c]=a)),t.result}},dispatch:function(t){t=g.event.fix(t);var e,n,r,i,o,a=[],u=s.call(arguments),c=(L.get(this,"events")||{})[t.type]||[],l=g.event.special[t.type]||{};if(u[0]=t,t.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(a=g.event.handlers.call(this,t,c),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(r=((g.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==t.type){for(r=[],n=0;n<a;n++)void 0===r[i=(o=e[n]).selector+" "]&&(r[i]=o.needsContext?g(i,this).index(u)>=0:g.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||d).documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[g.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=G.test(i)?this.mouseHooks:q.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new g.Event(o),e=r.length;e--;)t[n=r[e]]=o[n];return t.target||(t.target=d),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Z()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Z()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(t){return g.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=g.extend(new g.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?g.event.trigger(i,null,e):g.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},g.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},g.Event=function(t,e){if(!(this instanceof g.Event))return new g.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?X:J):this.type=t,e&&g.extend(this,e),this.timeStamp=t&&t.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=X,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=X,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=X,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){g.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||g.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),p.focusinBubbles||g.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){g.event.simulate(e,t.target,g.event.fix(t),!0)};g.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=L.access(r,e);i||r.addEventListener(t,n,!0),L.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=L.access(r,e)-1;i?L.access(r,e,i):(r.removeEventListener(t,n,!0),L.remove(r,e))}}})),g.fn.extend({on:function(t,e,n,r,i){var o,s;if("object"===typeof t){for(s in"string"!==typeof e&&(n=n||e,e=void 0),t)this.on(s,e,n,t[s],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"===typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),!1===r)r=J;else if(!r)return this;return 1===i&&(o=r,(r=function(t){return g().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=g.guid++)),this.each((function(){g.event.add(this,t,r,n,e)}))},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,g(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!==typeof e||(n=e,e=void 0),!1===n&&(n=J),this.each((function(){g.event.remove(this,t,n,e)}))},trigger:function(t,e){return this.each((function(){g.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return g.event.trigger(t,e,n,!0)}});var Q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,tt=/<([\w:]+)/,et=/<|&#?\w+;/,nt=/<(?:script|style|link)/i,rt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^$|\/(?:java|ecma)script/i,ot=/^true\/(.*)/,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ut(t,e){return g.nodeName(t,"table")&&g.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function ct(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function lt(t){var e=ot.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function ft(t,e){for(var n=0,r=t.length;n<r;n++)L.set(t[n],"globalEval",!e||L.get(e[n],"globalEval"))}function ht(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(L.hasData(t)&&(o=L.access(t),s=L.set(e,o),c=o.events))for(i in delete s.handle,s.events={},c)for(n=0,r=c[i].length;n<r;n++)g.event.add(e,i,c[i][n]);B.hasData(t)&&(a=B.access(t),u=g.extend({},a),B.set(e,u))}}function pt(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&g.nodeName(t,e)?g.merge([t],n):n}function dt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Y.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}at.optgroup=at.option,at.tbody=at.tfoot=at.colgroup=at.caption=at.thead,at.th=at.td,g.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=g.contains(t.ownerDocument,t);if(!p.noCloneChecked&&(1===t.nodeType||11===t.nodeType)&&!g.isXMLDoc(t))for(s=pt(a),r=0,i=(o=pt(t)).length;r<i;r++)dt(o[r],s[r]);if(e)if(n)for(o=o||pt(t),s=s||pt(a),r=0,i=o.length;r<i;r++)ht(o[r],s[r]);else ht(t,a);return(s=pt(a,"script")).length>0&&ft(s,!u&&pt(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,u,c,l=e.createDocumentFragment(),f=[],h=0,p=t.length;h<p;h++)if((i=t[h])||0===i)if("object"===g.type(i))g.merge(f,i.nodeType?[i]:i);else if(et.test(i)){for(o=o||l.appendChild(e.createElement("div")),s=(tt.exec(i)||["",""])[1].toLowerCase(),a=at[s]||at._default,o.innerHTML=a[1]+i.replace(Q,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;g.merge(f,o.childNodes),(o=l.firstChild).textContent=""}else f.push(e.createTextNode(i));for(l.textContent="",h=0;i=f[h++];)if((!r||-1===g.inArray(i,r))&&(u=g.contains(i.ownerDocument,i),o=pt(l.appendChild(i),"script"),u&&ft(o),n))for(c=0;i=o[c++];)it.test(i.type||"")&&n.push(i);return l},cleanData:function(t){for(var e,n,r,i,o=g.event.special,s=0;void 0!==(n=t[s]);s++){if(g.acceptData(n)&&(i=n[L.expando])&&(e=L.cache[i])){if(e.events)for(r in e.events)o[r]?g.event.remove(n,r):g.removeEvent(n,r,e.handle);L.cache[i]&&delete L.cache[i]}delete B.cache[n[B.expando]]}}}),g.fn.extend({text:function(t){return D(this,(function(t){return void 0===t?g.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return this.domManip(arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ut(this,t).appendChild(t)}))},prepend:function(){return this.domManip(arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=ut(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return this.domManip(arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return this.domManip(arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},remove:function(t,e){for(var n,r=t?g.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||g.cleanData(pt(n)),n.parentNode&&(e&&g.contains(n.ownerDocument,n)&&ft(pt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(g.cleanData(pt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return g.clone(this,t,e)}))},html:function(t){return D(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"===typeof t&&!nt.test(t)&&!at[(tt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Q,"<$1></$2>");try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(g.cleanData(pt(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,(function(e){t=this.parentNode,g.cleanData(pt(this)),t&&t.replaceChild(e,this)})),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=a.apply([],t);var n,r,i,o,s,u,c=0,l=this.length,f=this,h=l-1,d=t[0],v=g.isFunction(d);if(v||l>1&&"string"===typeof d&&!p.checkClone&&rt.test(d))return this.each((function(n){var r=f.eq(n);v&&(t[0]=d.call(this,n,r.html())),r.domManip(t,e)}));if(l&&(r=(n=g.buildFragment(t,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(o=(i=g.map(pt(n,"script"),ct)).length;c<l;c++)s=n,c!==h&&(s=g.clone(s,!0,!0),o&&g.merge(i,pt(s,"script"))),e.call(this[c],s,c);if(o)for(u=i[i.length-1].ownerDocument,g.map(i,lt),c=0;c<o;c++)s=i[c],it.test(s.type||"")&&!L.access(s,"globalEval")&&g.contains(u,s)&&(s.src?g._evalUrl&&g._evalUrl(s.src):g.globalEval(s.textContent.replace(st,"")))}return this}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){g.fn[t]=function(t){for(var n,r=[],i=g(t),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),g(i[s])[e](n),u.apply(r,n.get());return this.pushStack(r)}}));var gt,vt={};function mt(t,e){var r,i=g(e.createElement(t)).appendTo(e.body),o=n.getDefaultComputedStyle&&(r=n.getDefaultComputedStyle(i[0]))?r.display:g.css(i[0],"display");return i.detach(),o}function yt(t){var e=d,n=vt[t];return n||("none"!==(n=mt(t,e))&&n||((e=(gt=(gt||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=mt(t,e),gt.detach()),vt[t]=n),n}var bt=/^margin/,_t=new RegExp("^("+H+")(?!px)[a-z%]+$","i"),wt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):n.getComputedStyle(t,null)};function xt(t,e,n){var r,i,o,s,a=t.style;return(n=n||wt(t))&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||g.contains(t.ownerDocument,t)||(s=g.style(t,e)),_t.test(s)&&bt.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Et(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){var t,e,r=d.documentElement,i=d.createElement("div"),o=d.createElement("div");function s(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var s=n.getComputedStyle(o,null);t="1%"!==s.top,e="4px"===s.width,r.removeChild(i)}o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),n.getComputedStyle&&g.extend(p,{pixelPosition:function(){return s(),t},boxSizingReliable:function(){return null==e&&s(),e},reliableMarginRight:function(){var t,e=o.appendChild(d.createElement("div"));return e.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",o.style.width="1px",r.appendChild(i),t=!parseFloat(n.getComputedStyle(e,null).marginRight),r.removeChild(i),o.removeChild(e),t}}))}(),g.swap=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=s[o];return i};var St=/^(none|table(?!-c[ea]).+)/,kt=new RegExp("^("+H+")(.*)$","i"),Mt=new RegExp("^([+-])=("+H+")","i"),Tt={position:"absolute",visibility:"hidden",display:"block"},Ot={letterSpacing:"0",fontWeight:"400"},Ct=["Webkit","O","Moz","ms"];function It(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Ct.length;i--;)if((e=Ct[i]+n)in t)return e;return r}function Nt(t,e,n){var r=kt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function At(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=g.css(t,n+z[o],!0,i)),r?("content"===n&&(s-=g.css(t,"padding"+z[o],!0,i)),"margin"!==n&&(s-=g.css(t,"border"+z[o]+"Width",!0,i))):(s+=g.css(t,"padding"+z[o],!0,i),"padding"!==n&&(s+=g.css(t,"border"+z[o]+"Width",!0,i)));return s}function Rt(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=wt(t),s="border-box"===g.css(t,"boxSizing",!1,o);if(i<=0||null==i){if(((i=xt(t,e,o))<0||null==i)&&(i=t.style[e]),_t.test(i))return i;r=s&&(p.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+At(t,e,n||(s?"border":"content"),r,o)+"px"}function Pt(t,e){for(var n,r,i,o=[],s=0,a=t.length;s<a;s++)(r=t[s]).style&&(o[s]=L.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&W(r)&&(o[s]=L.access(r,"olddisplay",yt(r.nodeName)))):(i=W(r),"none"===n&&i||L.set(r,"olddisplay",i?n:g.css(r,"display"))));for(s=0;s<a;s++)(r=t[s]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function Dt(t,e,n,r,i){return new Dt.prototype.init(t,e,n,r,i)}g.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=xt(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=g.camelCase(e),u=t.style;if(e=g.cssProps[a]||(g.cssProps[a]=It(u,a)),s=g.cssHooks[e]||g.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e];"string"===(o=typeof n)&&(i=Mt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(g.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||g.cssNumber[a]||(n+="px"),p.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n))}},css:function(t,e,n,r){var i,o,s,a=g.camelCase(e);return e=g.cssProps[a]||(g.cssProps[a]=It(t.style,a)),(s=g.cssHooks[e]||g.cssHooks[a])&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=xt(t,e,r)),"normal"===i&&e in Ot&&(i=Ot[e]),""===n||n?(o=parseFloat(i),!0===n||g.isNumeric(o)?o||0:i):i}}),g.each(["height","width"],(function(t,e){g.cssHooks[e]={get:function(t,n,r){if(n)return St.test(g.css(t,"display"))&&0===t.offsetWidth?g.swap(t,Tt,(function(){return Rt(t,e,r)})):Rt(t,e,r)},set:function(t,n,r){var i=r&&wt(t);return Nt(0,n,r?At(t,e,r,"border-box"===g.css(t,"boxSizing",!1,i),i):0)}}})),g.cssHooks.marginRight=Et(p.reliableMarginRight,(function(t,e){if(e)return g.swap(t,{display:"inline-block"},xt,[t,"marginRight"])})),g.each({margin:"",padding:"",border:"Width"},(function(t,e){g.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"===typeof n?n.split(" "):[n];r<4;r++)i[t+z[r]+e]=o[r]||o[r-2]||o[0];return i}},bt.test(t)||(g.cssHooks[t+e].set=Nt)})),g.fn.extend({css:function(t,e){return D(this,(function(t,e,n){var r,i,o={},s=0;if(g.isArray(e)){for(r=wt(t),i=e.length;s<i;s++)o[e[s]]=g.css(t,e[s],!1,r);return o}return void 0!==n?g.style(t,e,n):g.css(t,e)}),t,e,arguments.length>1)},show:function(){return Pt(this,!0)},hide:function(){return Pt(this)},toggle:function(t){return"boolean"===typeof t?t?this.show():this.hide():this.each((function(){W(this)?g(this).show():g(this).hide()}))}}),g.Tween=Dt,Dt.prototype={constructor:Dt,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(g.cssNumber[n]?"":"px")},cur:function(){var t=Dt.propHooks[this.prop];return t&&t.get?t.get(this):Dt.propHooks._default.get(this)},run:function(t){var e,n=Dt.propHooks[this.prop];return this.options.duration?this.pos=e=g.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Dt.propHooks._default.set(this),this}},Dt.prototype.init.prototype=Dt.prototype,Dt.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=g.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){g.fx.step[t.prop]?g.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[g.cssProps[t.prop]]||g.cssHooks[t.prop])?g.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},Dt.propHooks.scrollTop=Dt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},g.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},g.fx=Dt.prototype.init,g.fx.step={};var jt,Lt,Bt=/^(?:toggle|show|hide)$/,Ut=new RegExp("^(?:([+-])=|)("+H+")([a-z%]*)$","i"),Ft=/queueHooks$/,Vt=[function(t,e,n){var r,i,o,s,a,u,c,l=this,f={},h=t.style,p=t.nodeType&&W(t),d=L.get(t,"fxshow");for(r in n.queue||(null==(a=g._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,l.always((function(){l.always((function(){a.unqueued--,g.queue(t,"fx").length||a.empty.fire()}))}))),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=g.css(t,"display"))?L.get(t,"olddisplay")||yt(t.nodeName):c)&&"none"===g.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),e)if(i=e[r],Bt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!d||void 0===d[r])continue;p=!0}f[r]=d&&d[r]||g.style(t,r)}else c=void 0;if(g.isEmptyObject(f))"inline"===("none"===c?yt(t.nodeName):c)&&(h.display=c);else for(r in d?"hidden"in d&&(p=d.hidden):d=L.access(t,"fxshow",{}),o&&(d.hidden=!p),p?g(t).show():l.done((function(){g(t).hide()})),l.done((function(){var e;for(e in L.remove(t,"fxshow"),f)g.style(t,e,f[e])})),f)s=Yt(p?d[r]:0,r,l),r in d||(d[r]=s.start,p&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}],Ht={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Ut.exec(e),o=i&&i[3]||(g.cssNumber[t]?"":"px"),s=(g.cssNumber[t]||"px"!==o&&+r)&&Ut.exec(g.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do{s/=a=a||".5",g.style(n.elem,t,s+o)}while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};function zt(){return setTimeout((function(){jt=void 0})),jt=g.now()}function Wt(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=z[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function Yt(t,e,n){for(var r,i=(Ht[e]||[]).concat(Ht["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function qt(t,e,n){var r,i,o=0,s=Vt.length,a=g.Deferred().always((function(){delete u.elem})),u=function(){if(i)return!1;for(var e=jt||zt(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(t,[c,r,n]),r<1&&s?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:g.extend({},e),opts:g.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:jt||zt(),duration:n.duration,tweens:[],createTween:function(e,n){var r=g.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),l=c.props;for(function(t,e){var n,r,i,o,s;for(n in t)if(i=e[r=g.camelCase(n)],o=t[n],g.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=g.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);o<s;o++)if(r=Vt[o].call(c,t,l,c.opts))return r;return g.map(l,Yt,c),g.isFunction(c.opts.start)&&c.opts.start.call(t,c),g.fx.timer(g.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}g.Animation=g.extend(qt,{tweener:function(t,e){g.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;r<i;r++)n=t[r],Ht[n]=Ht[n]||[],Ht[n].unshift(e)},prefilter:function(t,e){e?Vt.unshift(t):Vt.push(t)}}),g.speed=function(t,e,n){var r=t&&"object"===typeof t?g.extend({},t):{complete:n||!n&&e||g.isFunction(t)&&t,duration:t,easing:n&&e||e&&!g.isFunction(e)&&e};return r.duration=g.fx.off?0:"number"===typeof r.duration?r.duration:r.duration in g.fx.speeds?g.fx.speeds[r.duration]:g.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g.isFunction(r.old)&&r.old.call(this),r.queue&&g.dequeue(this,r.queue)},r},g.fn.extend({fadeTo:function(t,e,n,r){return this.filter(W).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=g.isEmptyObject(t),o=g.speed(e,n,r),s=function(){var e=qt(this,g.extend({},t),o);(i||L.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!==typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,i=null!=t&&t+"queueHooks",o=g.timers,s=L.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Ft.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||g.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=L.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=g.timers,s=r?r.length:0;for(n.finish=!0,g.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),g.each(["toggle","show","hide"],(function(t,e){var n=g.fn[e];g.fn[e]=function(t,r,i){return null==t||"boolean"===typeof t?n.apply(this,arguments):this.animate(Wt(e,!0),t,r,i)}})),g.each({slideDown:Wt("show"),slideUp:Wt("hide"),slideToggle:Wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){g.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),g.timers=[],g.fx.tick=function(){var t,e=0,n=g.timers;for(jt=g.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||g.fx.stop(),jt=void 0},g.fx.timer=function(t){g.timers.push(t),t()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){Lt||(Lt=setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){clearInterval(Lt),Lt=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(t,e){return t=g.fx&&g.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}}))},function(){var t=d.createElement("input"),e=d.createElement("select"),n=e.appendChild(d.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=n.selected,e.disabled=!0,p.optDisabled=!n.disabled,(t=d.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var Gt,$t=g.expr.attrHandle;g.fn.extend({attr:function(t,e){return D(this,g.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){g.removeAttr(this,t)}))}}),g.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return"undefined"===typeof t.getAttribute?g.prop(t,e,n):(1===o&&g.isXMLDoc(t)||(e=e.toLowerCase(),r=g.attrHooks[e]||(g.expr.match.bool.test(e)?Gt:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=g.find.attr(t,e))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void g.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(A);if(o&&1===t.nodeType)for(;n=o[i++];)r=g.propFix[n]||n,g.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&g.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),Gt={set:function(t,e,n){return!1===e?g.removeAttr(t,n):t.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=$t[e]||g.find.attr;$t[e]=function(t,e,r){var i,o;return r||(o=$t[e],$t[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,$t[e]=o),i}}));var Kt=/^(?:input|select|textarea|button)$/i;g.fn.extend({prop:function(t,e){return D(this,g.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[g.propFix[t]||t]}))}}),g.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!g.isXMLDoc(t))&&(e=g.propFix[e]||e,i=g.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Kt.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),p.optSelected||(g.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){g.propFix[this.toLowerCase()]=this}));var Xt=/[\t\r\n\f]/g;g.fn.extend({addClass:function(t){var e,n,r,i,o,s,a="string"===typeof t&&t,u=0,c=this.length;if(g.isFunction(t))return this.each((function(e){g(this).addClass(t.call(this,e,this.className))}));if(a)for(e=(t||"").match(A)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Xt," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=g.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,r,i,o,s,a=0===arguments.length||"string"===typeof t&&t,u=0,c=this.length;if(g.isFunction(t))return this.each((function(e){g(this).removeClass(t.call(this,e,this.className))}));if(a)for(e=(t||"").match(A)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Xt," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=t?g.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"===typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):g.isFunction(t)?this.each((function(n){g(this).toggleClass(t.call(this,n,this.className,e),e)})):this.each((function(){if("string"===n)for(var e,r=0,i=g(this),o=t.match(A)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else"undefined"!==n&&"boolean"!==n||(this.className&&L.set(this,"__className__",this.className),this.className=this.className||!1===t?"":L.get(this,"__className__")||"")}))},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Xt," ").indexOf(e)>=0)return!0;return!1}});var Jt=/\r/g;g.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=g.isFunction(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,g(this).val()):t)?i="":"number"===typeof i?i+="":g.isArray(i)&&(i=g.map(i,(function(t){return null==t?"":t+""}))),(e=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=g.valHooks[i.type]||g.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"===typeof(n=i.value)?n.replace(Jt,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(t){var e=g.find.attr(t,"value");return null!=e?e:g.trim(g.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||i<0,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(((n=r[u]).selected||u===i)&&(p.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(e=g(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=g.makeArray(e),s=i.length;s--;)((r=i[s]).selected=g.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),g.each(["radio","checkbox"],(function(){g.valHooks[this]={set:function(t,e){if(g.isArray(e))return t.checked=g.inArray(g(t).val(),e)>=0}},p.checkOn||(g.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(t,e){g.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),g.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Zt=g.now(),Qt=/\?/;g.parseJSON=function(t){return JSON.parse(t+"")},g.parseXML=function(t){var e;if(!t||"string"!==typeof t)return null;try{e=(new DOMParser).parseFromString(t,"text/xml")}catch(n){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+t),e};var te=/#.*$/,ee=/([?&])_=[^&]*/,ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,re=/^(?:GET|HEAD)$/,ie=/^\/\//,oe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,se={},ae={},ue="*/".concat("*"),ce=n.location.href,le=oe.exec(ce.toLowerCase())||[];function fe(t){return function(e,n){"string"!==typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(A)||[];if(g.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function he(t,e,n,r){var i={},o=t===ae;function s(a){var u;return i[a]=!0,g.each(t[a]||[],(function(t,a){var c=a(e,n,r);return"string"!==typeof c||o||i[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),s(c),!1)})),u}return s(e.dataTypes[0])||!i["*"]&&s("*")}function pe(t,e){var n,r,i=g.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&g.extend(!0,t,r),t}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ce,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(le[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?pe(pe(t,g.ajaxSettings),e):pe(g.ajaxSettings,t)},ajaxPrefilter:fe(se),ajaxTransport:fe(ae),ajax:function(t,e){"object"===typeof t&&(e=t,t=void 0),e=e||{};var n,r,i,o,s,a,u,c,l=g.ajaxSetup({},e),f=l.context||l,h=l.context&&(f.nodeType||f.jquery)?g(f):g.event,p=g.Deferred(),d=g.Callbacks("once memory"),v=l.statusCode||{},m={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!o)for(o={};e=ne.exec(i);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?i:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,m[t]=e),this},overrideMimeType:function(t){return b||(l.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return n&&n.abort(e),x(0,e),this}};if(p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((t||l.url||ce)+"").replace(te,"").replace(ie,le[1]+"//"),l.type=e.method||e.type||l.method||l.type,l.dataTypes=g.trim(l.dataType||"*").toLowerCase().match(A)||[""],null==l.crossDomain&&(a=oe.exec(l.url.toLowerCase()),l.crossDomain=!(!a||a[1]===le[1]&&a[2]===le[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(le[3]||("http:"===le[1]?"80":"443")))),l.data&&l.processData&&"string"!==typeof l.data&&(l.data=g.param(l.data,l.traditional)),he(se,l,e,w),2===b)return w;for(c in(u=g.event&&l.global)&&0===g.active++&&g.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!re.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(Qt.test(r)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=ee.test(r)?r.replace(ee,"$1_="+Zt++):r+(Qt.test(r)?"&":"?")+"_="+Zt++)),l.ifModified&&(g.lastModified[r]&&w.setRequestHeader("If-Modified-Since",g.lastModified[r]),g.etag[r]&&w.setRequestHeader("If-None-Match",g.etag[r])),(l.data&&l.hasContent&&!1!==l.contentType||e.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ue+"; q=0.01":""):l.accepts["*"]),l.headers)w.setRequestHeader(c,l.headers[c]);if(l.beforeSend&&(!1===l.beforeSend.call(f,w,l)||2===b))return w.abort();for(c in _="abort",{success:1,error:1,complete:1})w[c](l[c]);if(n=he(ae,l,e,w)){w.readyState=1,u&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(s=setTimeout((function(){w.abort("timeout")}),l.timeout));try{b=1,n.send(m,x)}catch(E){if(!(b<2))throw E;x(-1,E)}}else x(-1,"No Transport");function x(t,e,o,a){var c,m,y,_,x,S=e;2!==b&&(b=2,s&&clearTimeout(s),n=void 0,i=a||"",w.readyState=t>0?4:0,c=t>=200&&t<300||304===t,o&&(_=function(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(l,w,o)),_=function(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=c[u+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(E){return{state:"parsererror",error:s?E:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(l,_,w,c),c?(l.ifModified&&((x=w.getResponseHeader("Last-Modified"))&&(g.lastModified[r]=x),(x=w.getResponseHeader("etag"))&&(g.etag[r]=x)),204===t||"HEAD"===l.type?S="nocontent":304===t?S="notmodified":(S=_.state,m=_.data,c=!(y=_.error))):(y=S,!t&&S||(S="error",t<0&&(t=0))),w.status=t,w.statusText=(e||S)+"",c?p.resolveWith(f,[m,S,w]):p.rejectWith(f,[w,S,y]),w.statusCode(v),v=void 0,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[w,l,c?m:y]),d.fireWith(f,[w,S]),u&&(h.trigger("ajaxComplete",[w,l]),--g.active||g.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,n){return g.get(t,e,n,"json")},getScript:function(t,e){return g.get(t,void 0,e,"script")}}),g.each(["get","post"],(function(t,e){g[e]=function(t,n,r,i){return g.isFunction(n)&&(i=i||r,r=n,n=void 0),g.ajax({url:t,type:e,dataType:i,data:n,success:r})}})),g._evalUrl=function(t){return g.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(t){var e;return g.isFunction(t)?this.each((function(e){g(this).wrapAll(t.call(this,e))})):(this[0]&&(e=g(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this)},wrapInner:function(t){return g.isFunction(t)?this.each((function(e){g(this).wrapInner(t.call(this,e))})):this.each((function(){var e=g(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=g.isFunction(t);return this.each((function(n){g(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(){return this.parent().each((function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)})).end()}}),g.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},g.expr.filters.visible=function(t){return!g.expr.filters.hidden(t)};var de=/%20/g,ge=/\[\]$/,ve=/\r?\n/g,me=/^(?:submit|button|image|reset|file)$/i,ye=/^(?:input|select|textarea|keygen)/i;function be(t,e,n,r){var i;if(g.isArray(e))g.each(e,(function(e,i){n||ge.test(t)?r(t,i):be(t+"["+("object"===typeof i?e:"")+"]",i,n,r)}));else if(n||"object"!==g.type(e))r(t,e);else for(i in e)be(t+"["+i+"]",e[i],n,r)}g.param=function(t,e){var n,r=[],i=function(t,e){e=g.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=g.ajaxSettings&&g.ajaxSettings.traditional),g.isArray(t)||t.jquery&&!g.isPlainObject(t))g.each(t,(function(){i(this.name,this.value)}));else for(n in t)be(n,t[n],e,i);return r.join("&").replace(de,"+")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=g.prop(this,"elements");return t?g.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!g(this).is(":disabled")&&ye.test(this.nodeName)&&!me.test(t)&&(this.checked||!Y.test(t))})).map((function(t,e){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,(function(t){return{name:e.name,value:t.replace(ve,"\r\n")}})):{name:e.name,value:n.replace(ve,"\r\n")}})).get()}}),g.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var _e=0,we={},xe={0:200,1223:204},Ee=g.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",(function(){for(var t in we)we[t]()})),p.cors=!!Ee&&"withCredentials"in Ee,p.ajax=Ee=!!Ee,g.ajaxTransport((function(t){var e;if(p.cors||Ee&&!t.crossDomain)return{send:function(n,r){var i,o=t.xhr(),s=++_e;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];for(i in t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete we[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(xe[o.status]||o.status,o.statusText,"string"===typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=we[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}})),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return g.globalEval(t),t}}}),g.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),g.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain)return{send:function(r,i){e=g("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),d.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Se=[],ke=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Se.pop()||g.expando+"_"+Zt++;return this[t]=!0,t}}),g.ajaxPrefilter("json jsonp",(function(t,e,r){var i,o,s,a=!1!==t.jsonp&&(ke.test(t.url)?"url":"string"===typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ke.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ke,"$1"+i):!1!==t.jsonp&&(t.url+=(Qt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||g.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always((function(){n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Se.push(i)),s&&g.isFunction(o)&&o(s[0]),s=o=void 0})),"script"})),g.parseHTML=function(t,e,n){if(!t||"string"!==typeof t)return null;"boolean"===typeof e&&(n=e,e=!1),e=e||d;var r=E.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=g.buildFragment([t],e,i),i&&i.length&&g(i).remove(),g.merge([],r.childNodes))};var Me=g.fn.load;g.fn.load=function(t,e,n){if("string"!==typeof t&&Me)return Me.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>=0&&(r=g.trim(t.slice(a)),t=t.slice(0,a)),g.isFunction(e)?(n=e,e=void 0):e&&"object"===typeof e&&(i="POST"),s.length>0&&g.ajax({url:t,type:i,dataType:"html",data:e}).done((function(t){o=arguments,s.html(r?g("<div>").append(g.parseHTML(t)).find(r):t)})).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){g.fn[e]=function(t){return this.on(e,t)}})),g.expr.filters.animated=function(t){return g.grep(g.timers,(function(e){return t===e.elem})).length};var Te=n.document.documentElement;function Oe(t){return g.isWindow(t)?t:9===t.nodeType&&t.defaultView}g.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c=g.css(t,"position"),l=g(t),f={};"static"===c&&(t.style.position="relative"),a=l.offset(),o=g.css(t,"top"),u=g.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(s=(r=l.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),g.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+i),"using"in e?e.using.call(t,f):l.css(f)}},g.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){g.offset.setOffset(this,t,e)}));var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(e=o.documentElement,g.contains(e,r)?("undefined"!==typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=Oe(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===g.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),g.nodeName(t[0],"html")||(r=t.offset()),r.top+=g.css(t[0],"borderTopWidth",!0),r.left+=g.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-g.css(n,"marginTop",!0),left:e.left-r.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent||Te;t&&!g.nodeName(t,"html")&&"static"===g.css(t,"position");)t=t.offsetParent;return t||Te}))}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var r="pageYOffset"===e;g.fn[t]=function(i){return D(this,(function(t,i,o){var s=Oe(t);if(void 0===o)return s?s[e]:t[i];s?s.scrollTo(r?n.pageXOffset:o,r?o:n.pageYOffset):t[i]=o}),t,i,arguments.length,null)}})),g.each(["top","left"],(function(t,e){g.cssHooks[e]=Et(p.pixelPosition,(function(t,n){if(n)return n=xt(t,e),_t.test(n)?g(t).position()[e]+"px":n}))})),g.each({Height:"height",Width:"width"},(function(t,e){g.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){g.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!==typeof r),s=n||(!0===r||!0===i?"margin":"border");return D(this,(function(e,n,r){var i;return g.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?g.css(e,n,s):g.style(e,n,r,s)}),e,o?r:void 0,o,null)}}))})),g.fn.size=function(){return this.length},g.fn.andSelf=g.fn.addBack,void 0===(r=function(){return g}.apply(e,[]))||(t.exports=r);var Ce=n.jQuery,Ie=n.$;return g.noConflict=function(t){return n.$===g&&(n.$=Ie),t&&n.jQuery===g&&(n.jQuery=Ce),g},"undefined"===typeof i&&(n.jQuery=n.$=g),g},"object"===typeof t.exports?t.exports=i.document?o(i,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return o(t)}:o(i)},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return Array.isArray(t)?function(t,e){for(var n,r="",o="",s=Array.isArray(e),a=0;a<t.length;a++)(n=i(t[a]))&&(s&&e[a]&&(n=u(n)),r=r+o+n,o=" ");return r}(t,e):t&&"object"===typeof t?function(t){var e="",n="";for(var i in t)i&&t[i]&&r.call(t,i)&&(e=e+n+i,n=" ");return e}(t):t||""}function o(t){if(!t)return"";if("object"===typeof t){var e="";for(var n in t)r.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function s(t,e,n,r){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(r?t:t+'="'+t+'"');var i=typeof e;return"object"!==i&&"function"!==i||"function"!==typeof e.toJSON||(e=e.toJSON()),"string"===typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=u(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.merge=function t(e,n){if(1===arguments.length){for(var r=e[0],i=1;i<e.length;i++)r=t(r,e[i]);return r}for(var s in n)if("class"===s){var a=e[s]||[];e[s]=(Array.isArray(a)?a:[a]).concat(n[s]||[])}else if("style"===s){a=(a=o(e[s]))&&";"!==a[a.length-1]?a+";":a;var u=o(n[s]);u=u&&";"!==u[u.length-1]?u+";":u,e[s]=a+u}else e[s]=n[s];return e},e.classes=i,e.style=o,e.attr=s,e.attrs=function(t,e){var n="";for(var a in t)if(r.call(t,a)){var u=t[a];if("class"===a){u=i(u),n=s(a,u,!1,e)+n;continue}"style"===a&&(u=o(u)),n+=s(a,u,!1,e)}return n};var a=/["&<>]/;function u(t){var e=""+t,n=a.exec(e);if(!n)return t;var r,i,o,s="";for(r=n.index,i=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}i!==r&&(s+=e.substring(i,r)),i=r+1,s+=o}return i!==r?s+e.substring(i,r):s}e.escape=u,e.rethrow=function t(e,r,i,o){if(!(e instanceof Error))throw e;if(("undefined"!=typeof window||!r)&&!o)throw e.message+=" on line "+i,e;try{o=o||n(182).readFileSync(r,"utf8")}catch(l){t(e,null,i)}var s=3,a=o.split("\n"),u=Math.max(i-s,0),c=Math.min(a.length,i+s);s=a.slice(u,c).map((function(t,e){var n=e+u+1;return(n==i?"  > ":"    ")+n+"| "+t})).join("\n");throw e.path=r,e.message=(r||"Pug")+":"+i+"\n"+s+"\n\n"+e.message,e}},function(t,e,n){"use strict";var r=n(130);t.exports=new r},function(t,e,n){"use strict";t.exports.validate=n(154),t.exports.openWindow=n(155),t.exports.ScriptLoader=n(156),t.exports.url=function(t){return Object.keys(t).map((function(e){return[e,t[e]].map(encodeURIComponent).join("=")})).join("&")},t.exports.parseQueryString=function(){var t=location.search.replace(/=/g,'":"');return(t=t.replace(/&/g,'","'))?JSON.parse('{"'.concat(t.slice(1),'"}')):null},t.exports.formatPath=function(t){return("/"!==t[0]?"/":"")+t+("/"!==t[t.length-1]?"/":"")},t.exports.createCookie=function(t,e,n){var r="";if(void 0!==n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),r="; expires=".concat(i.toGMTString())}document.cookie="".concat(t,"=").concat(e).concat(r,"; path=/")},t.exports.getCookie=function(t){var e=document.cookie.match(new RegExp("(?:^|; )".concat(t,"=(.*?)(?:;|$)")));return e&&e[1]},t.exports.request=function(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.open(t.method||"GET",t.url),t.headers&&Object.keys(t.headers).forEach((function(e){r.setRequestHeader(e,t.headers[e])})),r.onload=function(){r.status>=200&&r.status<300?e(r.response):n(r.statusText)},r.onerror=function(){return n(r.statusText)},r.send(t.body)}))},t.exports.getDevice=function(){var t=window.navigator;return{isIos:t.userAgent.match(/iphone|ipad/i),isChrome:t.userAgent.match(/Chrome/i)&&/Google Inc/.test(t.vendor)&&!t.userAgent.match(/OPR/),isSafari:window.navigator.userAgent.match(/safari/i)&&/Apple Computer/.test(t.vendor),isFirefox:"undefined"!==typeof InstallTrigger}},t.exports.isScrolledIntoView=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;if(!t)return!1;var n=e/100,r=Math.max(document.documentElement.clientHeight,window.innerHeight),i=t.getBoundingClientRect(),o=i.top+n*i.height,s=i.bottom-(1-n)*i.height;return o>=0&&s<r},t.exports.resizeFix=function(){var t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return f})),n.d(e,"__exportStar",(function(){return h})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return x})),n.d(e,"__importDefault",(function(){return E}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){var r,i,o;o=this,r=[n(0),n(11),n(237),n(238)],void 0===(i=function(t,e){return o.Marionette=o.Mn=function(t,e,n){"use strict";var r=t.Marionette,i=t.Mn,o=e.Marionette={};o.VERSION="2.4.7",o.noConflict=function(){return t.Marionette=r,t.Mn=i,this},o.Deferred=e.$.Deferred,o.FEATURES={},o.isEnabled=function(t){return!!o.FEATURES[t]},o.extend=e.Model.extend,o.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},o.mergeOptions=function(t,e){t&&n.extend(this,n.pick(t,e))},o.getOption=function(t,e){if(t&&e)return t.options&&void 0!==t.options[e]?t.options[e]:t[e]},o.proxyGetOption=function(t){return o.getOption(this,t)},o._getValue=function(t,e,r){return n.isFunction(t)&&(t=r?t.apply(e,r):t.call(e)),t},o.normalizeMethods=function(t){return n.reduce(t,(function(t,e,r){return n.isFunction(e)||(e=this[e]),e&&(t[r]=e),t}),{},this)},o.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z-_$0-9]*/g,(function(t){return e[t.slice(4)]}))},o.normalizeUIKeys=function(t,e){return n.reduce(t,(function(t,n,r){return t[o.normalizeUIString(r,e)]=n,t}),{})},o.normalizeUIValues=function(t,e,r){return n.each(t,(function(i,s){n.isString(i)?t[s]=o.normalizeUIString(i,e):n.isObject(i)&&n.isArray(r)&&(n.extend(i,o.normalizeUIValues(n.pick(i,r),e)),n.each(r,(function(t){var r=i[t];n.isString(r)&&(i[t]=o.normalizeUIString(r,e))})))})),t},o.actAsCollection=function(t,e){n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(r){t[r]=function(){var t=n.values(n.result(this,e)),i=[t].concat(n.toArray(arguments));return n[r].apply(n,i)}}))};var s=o.deprecate=function(t,e){n.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||s._cache[t]||(s._warn("Deprecation warning: "+t),s._cache[t]=!0)};s._console="undefined"!==typeof console?console:{},s._warn=function(){var t=s._console.warn||s._console.log||function(){};return t.apply(s._console,arguments)},s._cache={},o._triggerMethod=function(){var t=/(^|:)(\w)/gi;function e(t,e,n){return n.toUpperCase()}return function(r,i,o){var s=arguments.length<3;s&&(i=(o=i)[0]);var a,u="on"+i.replace(t,e),c=r[u];return n.isFunction(c)&&(a=c.apply(r,s?n.rest(o):o)),n.isFunction(r.trigger)&&(s+o.length>1?r.trigger.apply(r,s?o:[i].concat(n.drop(o,0))):r.trigger(i)),a}}(),o.triggerMethod=function(t){return o._triggerMethod(this,arguments)},o.triggerMethodOn=function(t){var e=n.isFunction(t.triggerMethod)?t.triggerMethod:o.triggerMethod;return e.apply(t,n.rest(arguments))},o.MonitorDOMRefresh=function(t){function e(){t._isShown&&t._isRendered&&o.isNodeAttached(t.el)&&o.triggerMethodOn(t,"dom:refresh",t)}t._isDomRefreshMonitored||(t._isDomRefreshMonitored=!0,t.on({show:function(){t._isShown=!0,e()},render:function(){t._isRendered=!0,e()}}))},function(t){function e(e,r,i,o){var s=o.split(/\s+/);n.each(s,(function(n){var o=e[n];if(!o)throw new t.Error('Method "'+n+'" was configured as an event handler, but does not exist.');e.listenTo(r,i,o)}))}function r(t,e,n,r){t.listenTo(e,n,r)}function i(t,e,r,i){var o=i.split(/\s+/);n.each(o,(function(n){var i=t[n];t.stopListening(e,r,i)}))}function o(t,e,n,r){t.stopListening(e,n,r)}function s(e,r,i,o,s){if(r&&i){if(!n.isObject(i))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});i=t._getValue(i,e),n.each(i,(function(t,i){n.isFunction(t)?o(e,r,i,t):s(e,r,i,t)}))}}t.bindEntityEvents=function(t,n,i){s(t,n,i,r,e)},t.unbindEntityEvents=function(t,e,n){s(t,e,n,o,i)},t.proxyBindEntityEvents=function(e,n){return t.bindEntityEvents(this,e,n)},t.proxyUnbindEntityEvents=function(e,n){return t.unbindEntityEvents(this,e,n)}}(o);var a=["description","fileName","lineNumber","name","message","number"];return o.Error=o.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+o.VERSION+"/",constructor:function(t,e){n.isObject(t)?t=(e=t).message:e||(e={});var r=Error.call(this,t);n.extend(this,n.pick(r,a),n.pick(e,a)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,o.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),o.Error.extend=o.extend,o.Callbacks=function(){this._deferred=o.Deferred(),this._callbacks=[]},n.extend(o.Callbacks.prototype,{add:function(t,e){var r=n.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),r.then((function(n){e&&(n.context=e),t.call(n.context,n.options)}))},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=o.Deferred(),this._callbacks=[],n.each(t,(function(t){this.add(t.cb,t.ctx)}),this)}}),o.Controller=function(t){this.options=t||{},n.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,n.extend(o.Controller.prototype,e.Events,{destroy:function(){return o._triggerMethod(this,"before:destroy",arguments),o._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption}),o.Object=function(t){this.options=n.extend({},n.result(this,"options"),t),this.initialize.apply(this,arguments)},o.Object.extend=o.extend,n.extend(o.Object.prototype,e.Events,{initialize:function(){},destroy:function(t){return t=t||{},this.triggerMethod("before:destroy",t),this.triggerMethod("destroy",t),this.stopListening(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Region=o.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new o.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),o.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t),o.MonitorDOMRefresh(t);var r=e||{},i=t!==this.currentView,s=!!r.preventDestroy,a=!!r.forceShow,u=!!this.currentView,c=i&&!s,l=i||a;if(u&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&i&&delete this.currentView._parent,c?this.empty():u&&l&&this.currentView.off("destroy",this.empty,this),l){t.once("destroy",this.empty,this),t._parent=this,this._renderView(t),u&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),o.triggerMethodOn(t,"before:show",t,this,e),u&&this.triggerMethod("swapOut",this.currentView,this,e);var f=o.isNodeAttached(this.el),h=[],p=n.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},r);return f&&p.triggerBeforeAttach&&(h=this._displayedViews(t),this._triggerAttach(h,"before:")),this.attachHtml(t),this.currentView=t,f&&p.triggerAttach&&(h=this._displayedViews(t),this._triggerAttach(h)),u&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),o.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var r=(e||"")+"attach";n.each(t,(function(t){o.triggerMethodOn(t,r,t,this)}),this)},_displayedViews:function(t){return n.union([t],n.result(t,"_getNestedViews")||[])},_renderView:function(t){t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t)},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new o.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new o.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,o._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,n=!!(t||{}).preventDestroy;return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),n||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,n&&this.$el.contents().detach(),this):this},_destroyView:function(){var t=this.currentView;t.isDestroyed||(t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():(t.remove(),t.isDestroyed=!0),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t))},attachView:function(t){return this.currentView&&delete this.currentView._parent,t._parent=this,this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(n.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(n.isFunction(t))return this._buildRegionFromRegionClass(t);throw new o.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var r=t.regionClass||e,i=n.omit(t,"selector","regionClass");return t.selector&&!i.el&&(i.el=t.selector),new r(i)},_buildRegionFromRegionClass:function(t){return new t}}),o.RegionManager=o.Controller.extend({constructor:function(t){this._regions={},this.length=0,o.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=o._getValue(t,this,arguments),n.reduce(t,(function(t,r,i){return n.isString(r)&&(r={selector:r}),r.selector&&(r=n.defaults({},r,e)),t[i]=this.addRegion(i,r),t}),{},this)},addRegion:function(t,e){var n;return n=e instanceof o.Region?e:o.Region.buildRegion(e,o.Region),this.triggerMethod("before:add:region",t,n),n._parent=this,this._store(t,n),this.triggerMethod("add:region",t,n),n},get:function(t){return this._regions[t]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return n.each(this._regions,(function(t,e){this._remove(e,t)}),this),t},emptyRegions:function(){var t=this.getRegions();return n.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),o.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod("remove:region",t,e)}}),o.actAsCollection(o.RegionManager.prototype,"_regions"),o.TemplateCache=function(t){this.templateId=t},n.extend(o.TemplateCache,{templateCaches:{},get:function(t,e){var n=this.templateCaches[t];return n||(n=new o.TemplateCache(t),this.templateCaches[t]=n),n.load(e)},clear:function(){var t,e=n.toArray(arguments),r=e.length;if(r>0)for(t=0;t<r;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),n.extend(o.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t,n){var r=e.$(t);if(!r.length)throw new o.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return r.html()},compileTemplate:function(t,e){return n.template(t,e)}}),o.Renderer={render:function(t,e){if(!t)throw new o.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});return(n.isFunction(t)?t:o.TemplateCache.get(t))(e)}},o.View=e.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(t){this.render=n.bind(this.render,this),t=o._getValue(t,this),this.options=n.extend({},n.result(this,"options"),t),this._behaviors=o.Behaviors(this),e.View.call(this,this.options),o.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,n.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=o._getValue(e,this),n.extend(t,e)},normalizeUIKeys:function(t){var e=n.result(this,"_uiBindings");return o.normalizeUIKeys(t,e||n.result(this,"ui"))},normalizeUIValues:function(t,e){var r=n.result(this,"ui"),i=n.result(this,"_uiBindings");return o.normalizeUIValues(t,i||r,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(t,(function(t,e,n){return t[n]=this._buildViewTrigger(e),t}),{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,(function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))}),this),this},_delegateDOMEvents:function(t){var r=o._getValue(t||this.events,this);r=this.normalizeUIKeys(r),n.isUndefined(t)&&(this.events=r);var i={},s=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),u=n.result(this,"behaviorTriggers")||{};n.extend(i,s,r,a,u),e.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,(function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))}),this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var t=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),n.invoke(this._behaviors,"destroy",t),this},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=n.result(this,"_uiBindings");this.ui={},n.each(t,(function(t,e){this.ui[e]=this.$(t)}),this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,(function(t,e){delete this.ui[e]}),this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=n.defaults({},t,{preventDefault:!0,stopPropagation:!0}),r=n.isObject(t)?e.event:t;return function(t){t&&(t.preventDefault&&e.preventDefault&&t.preventDefault(),t.stopPropagation&&e.stopPropagation&&t.stopPropagation());var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(r,n)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=o._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],n.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=o._triggerMethod,n=this._behaviors,r=0,i=n&&n.length;r<i;r++)e(n[r],t)},_triggerEventOnParentLayout:function(t,e){var r=this._parentLayoutView();if(r){var i=o.getOption(r,"childViewEventPrefix")+":"+t,s=[this].concat(e);o._triggerMethod(r,i,s);var a=o.getOption(r,"childEvents");a=o._getValue(a,r);var u=r.normalizeMethods(a);u&&n.isFunction(u[t])&&u[t].apply(r,s)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?n.reduce(t,(function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t}),t):t},_parentLayoutView:function(){for(var t=this._parent;t;){if(t instanceof o.LayoutView)return t;t=t._parent}},normalizeMethods:o.normalizeMethods,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.ItemView=o.View.extend({constructor:function(){o.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(!1!==t){if(!t)throw new o.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.mixinTemplateHelpers(this.serializeData()),n=o.Renderer.render(t,e,this);return this.attachElContent(n),this}},attachElContent:function(t){return this.$el.html(t),this}}),o.CollectionView=o.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(t){this.once("render",this._initialEvents),this._initChildViewStorage(),o.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var t,e=this._isShown&&o.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),e&&this._triggerBeforeAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),e&&this._triggerAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(t,e,r){var i=n.drop(arguments,3);n.each(t,(function(t){o.triggerMethodOn.apply(t,[t,r,t,e].concat(i))}))},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,e,r){var i=void 0!==r.at&&(r.index||e.indexOf(t));if((this.getOption("filter")||!1===i)&&(i=n.indexOf(this._filteredSortedModels(i),t)),this._shouldAddChild(t,i)){this.destroyEmptyView();var o=this.getChildView(t);this.addChild(t,o,i)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each((function(t){o.triggerMethodOn(t,"before:show",t)}))},_onShowCalled:function(){this.children.each((function(t){o.triggerMethodOn(t,"show",t)}))},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels();if(!e.length&&this._showingEmptyView)return this;if(n.some(e,(function(e){return!t.findByModel(e)})))this.render();else{var r=n.map(e,(function(e,n){var r=t.findByModel(e);return r._index=n,r.el})),i=t.filter((function(t){return!n.contains(r,t.el)}));this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),n.each(i,this.removeChildView,this),this.checkEmpty(),this.triggerMethod("reorder")}},resortView:function(){o.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels();n.find(t,(function(t,e){var n=this.children.findByModel(t);return!n||n._index!==e}),this)&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();n.each(e,(function(e,n){t=this.getChildView(e),this.addChild(e,t,n)}),this)},_filteredSortedModels:function(t){var e,r=this.getViewComparator(),i=this.collection.models;return t=Math.min(Math.max(t,0),i.length-1),r&&(t&&(e=i[t],i=i.slice(0,t).concat(i.slice(t+1))),i=this._sortModelsBy(i,r),e&&i.splice(t,0,e)),this.getOption("filter")&&(i=n.filter(i,(function(t,e){return this._shouldAddChild(t,e)}),this)),i},_sortModelsBy:function(t,e){return"string"===typeof e?n.sortBy(t,(function(t){return t.get(e)}),this):1===e.length?n.sortBy(t,e,this):t.sort(n.bind(e,this))},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new e.Model;this.addEmptyView(n,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var r,i=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el),s=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(s)&&(s=s.call(this,t,this._emptyViewIndex));var a=this.buildChildView(t,e,s);a._parent=this,this.proxyChildEvents(a),a.once("render",(function(){this._isShown&&o.triggerMethodOn(a,"before:show",a),i&&this._triggerBeforeAttach&&(r=this._getViewAndNested(a),this._triggerMethodMany(r,this,"before:attach"))}),this),this.children.add(a),this.renderChildView(a,this._emptyViewIndex),i&&this._triggerAttach&&(r=this._getViewAndNested(a),this._triggerMethodMany(r,this,"attach")),this._isShown&&o.triggerMethodOn(a,"show",a)},getChildView:function(t){var e=this.getOption("childView");if(!e)throw new o.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(t,e,n){var r=this.getOption("childViewOptions");r=o._getValue(r,this,[t,n]);var i=this.buildChildView(t,e,r);return this._updateIndices(i,!0,n),this.triggerMethod("before:add:child",i),this._addChildView(i,n),this.triggerMethod("add:child",i),i._parent=this,i},_updateIndices:function(t,e,n){this.getOption("sort")&&(e&&(t._index=n),this.children.each((function(n){n._index>=t._index&&(n._index+=e?1:-1)})))},_addChildView:function(t,e){var n,r=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el);this.proxyChildEvents(t),t.once("render",(function(){this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"before:show",t),r&&this._triggerBeforeAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"before:attach"))}),this),this.children.add(t),this.renderChildView(t,e),r&&this._triggerAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"attach")),this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"show",t)},renderChildView:function(t,e){return t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t),this.attachHtml(this,t,e),t},buildChildView:function(t,e,r){var i=new e(n.extend({model:t},r));return o.MonitorDOMRefresh(i),i},removeChildView:function(t){return t?(this.triggerMethod("before:remove:child",t),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():t.remove(),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1),t):t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return n.each(this._bufferedChildren,(function(e){t.appendChild(e.el)})),t},attachHtml:function(t,e,n){t.isBuffering?t._bufferedChildren.splice(n,0,e):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){var n;return this.getOption("sort")&&e<this.children.length-1&&(n=this.children.find((function(t){return t._index===e+1}))),!!n&&(n.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),o.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(t){var e=t||{},r=!0,i=this.children.map(n.identity);return n.isUndefined(e.checkEmpty)||(r=e.checkEmpty),this.children.each(this.removeChildView,this),r&&this.checkEmpty(),i},_shouldAddChild:function(t,e){var r=this.getOption("filter");return!n.isFunction(r)||r.call(this,t,e,this.collection)},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",(function(){var r=n.toArray(arguments),i=r[0],o=this.normalizeMethods(n.result(this,"childEvents"));r[0]=e+":"+i,r.splice(1,0,t),"undefined"!==typeof o&&n.isFunction(o[i])&&o[i].apply(this,r.slice(1)),this.triggerMethod.apply(this,r)}))},_getImmediateChildren:function(){return n.values(this.children._views)},_getViewAndNested:function(t){return[t].concat(n.result(t,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(t){return this.getOption("childView")||this.constructor},serializeData:function(){var t={};return this.model&&(t=n.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&o.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),n=o.Renderer.render(e,t,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){this.getChildViewContainer(t).append(e)},_insertAfter:function(t){this.getChildViewContainer(this,t).append(t.el)},_appendReorderedChildren:function(t){this.getChildViewContainer(this).append(t)},getChildViewContainer:function(t,e){if(t.$childViewContainer)return t.$childViewContainer;var n,r=o.getOption(t,"childViewContainer");if(r){var i=o._getValue(r,t);if((n="@"===i.charAt(0)&&t.ui?t.ui[i.substr(4)]:t.$(i)).length<=0)throw new o.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else n=t.$el;return t.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),o.LayoutView=o.ItemView.extend({regionClass:o.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),o.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),o.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(!0===this.getOption("destroyImmediate")&&this.$el.remove(),this.regionManager.destroy(),o.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e,r){var i=this.getRegion(t);return i.show.apply(i,n.rest(arguments))},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var n={};return n[t]=e,this._buildRegions(n)[t]},addRegions:function(t){return this.regions=n.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=o._getValue(this.regions,this,[t])||{};var r=this.getOption.call(t,"regions");r=o._getValue(r,this,[t]),n.extend(e,r),e=this.normalizeUIValues(e,["selector","el"]),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new o.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",(function(t){this.triggerMethod("before:add:region",t)})),this.listenTo(this.regionManager,"add:region",(function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)})),this.listenTo(this.regionManager,"before:remove:region",(function(t){this.triggerMethod("before:remove:region",t)})),this.listenTo(this.regionManager,"remove:region",(function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)}))},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),o.Behavior=o.Object.extend({constructor:function(t,e){this.view=e,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,t),this.ui=n.extend({},n.result(e,"ui"),n.result(this,"ui")),o.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),o.Behaviors=function(t,e){var n=/^(\S+)\s*(.*)$/;function r(t,n){return e.isObject(t.behaviors)?(n=r.parseBehaviors(t,n||e.result(t,"behaviors")),r.wrap(t,n,e.keys(i)),n):{}}var i={behaviorTriggers:function(t,e){return new o(this,e).buildBehaviorTriggers()},behaviorEvents:function(r,i){var o={};return e.each(i,(function(r,i){var a={},u=e.clone(e.result(r,"events"))||{};u=t.normalizeUIKeys(u,s(r));var c=0;e.each(u,(function(t,o){var s=o.match(n),u=s[1]+"."+[this.cid,i,c++," "].join("")+s[2],l=e.isFunction(t)?t:r[t];l&&(a[u]=e.bind(l,r))}),this),o=e.extend(o,a)}),this),o}};function o(t,e){this._view=t,this._behaviors=e,this._triggers={}}function s(t){return t._uiBindings||t.ui}return e.extend(r,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,n){return e.behaviorClass?e.behaviorClass:t._getValue(r.behaviorsLookup,this,[e,n])[n]},parseBehaviors:function(t,n){return e.chain(n).map((function(n,i){var o=new(r.getBehaviorClass(n,i))(n,t),s=r.parseBehaviors(t,e.result(o,"behaviors"));return[o].concat(s)})).flatten().value()},wrap:function(t,n,r){e.each(r,(function(r){t[r]=e.partial(i[r],t[r],n)}))}}),e.extend(o.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,r){var i=e.clone(e.result(n,"triggers"))||{};i=t.normalizeUIKeys(i,s(n)),e.each(i,e.bind(this._setHandlerForBehavior,this,n,r))},_setHandlerForBehavior:function(t,e,n,r){var i=r.replace(/^\S+/,(function(t){return t+".behaviortriggers"+e}));this._triggers[i]=this._view._buildViewTrigger(n)}}),r}(o,n),o.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var n=this.getOption("appRoutes"),r=this._getController();this.processAppRoutes(r,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();this._addAppRoute(n,t,e)},_processOnRoute:function(t,e){if(n.isFunction(this.onRoute)){var r=n.invert(this.getOption("appRoutes"))[t];this.onRoute(t,r,e)}},processAppRoutes:function(t,e){if(e){var r=n.keys(e).reverse();n.each(r,(function(n){this._addAppRoute(t,n,e[n])}),this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,r){var i=t[r];if(!i)throw new o.Error('Method "'+r+'" was not found on the controller');this.route(e,r,n.bind(i,t))},mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,triggerMethod:o.triggerMethod,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Application=o.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new o.Callbacks,this.submodules={},n.extend(this,t),this._initChannel(),o.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var r=o.Module.getClass(e),i=n.toArray(arguments);return i.unshift(this),r.create.apply(r,i)},getRegionManager:function(){return new o.RegionManager},_initializeRegions:function(t){var e=n.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var r=o.getOption(t,"regions");return n.isFunction(r)&&(r=r.call(this,t)),n.extend(e,r),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",(function(){o._triggerMethod(this,"before:add:region",arguments)})),this.listenTo(this._regionManager,"add:region",(function(t,e){this[t]=e,o._triggerMethod(this,"add:region",arguments)})),this.listenTo(this._regionManager,"before:remove:region",(function(){o._triggerMethod(this,"before:remove:region",arguments)})),this.listenTo(this._regionManager,"remove:region",(function(t){delete this[t],o._triggerMethod(this,"remove:region",arguments)}))},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),o.Module=function(t,e,r){this.moduleName=t,this.options=n.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,n.isFunction(this.initialize)&&this.initialize(t,e,this.options)},o.Module.extend=o.extend,n.extend(o.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(n.each(this.submodules,(function(e){e.startWithParent&&e.start(t)})),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,r){if(t){var i=n.flatten([this,this.app,e,o,e.$,n,r]);t.apply(this,i)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks},triggerMethod:o.triggerMethod}),n.extend(o.Module,{create:function(t,e,r){var i=t,o=n.drop(arguments,3),s=(e=e.split(".")).length,a=[];return a[s-1]=r,n.each(e,(function(e,n){var s=i;i=this._getModule(s,e,t,r),this._addModuleDefinition(s,i,a[n],o)}),this),i},_getModule:function(t,e,r,i,o){var s=n.extend({},i),a=this.getClass(i),u=t[e];return u||(u=new a(e,r,s),t[e]=u,t.submodules[e]=u),u},getClass:function(t){var e=o.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,n,r){var i=this._getDefine(n),o=this._getStartWithParent(n,e);i&&e.addDefinition(i,r),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var r;return n.isFunction(t)&&t.prototype instanceof o.Module?(r=e.constructor.prototype.startWithParent,!!n.isUndefined(r)||r):!n.isObject(t)||(r=t.startWithParent,!!n.isUndefined(r)||r)},_getDefine:function(t){return!n.isFunction(t)||t.prototype instanceof o.Module?n.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,n){e.startWithParent=e.startWithParent&&n,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer((function(t){e.startWithParent&&e.start(t)})))}}),o}(o,t,e)}.apply(e,r))||(t.exports=i)},function(t,e,n){"use strict";t.exports=function(t,e,n){if(!e)return t;for(var r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)&&!1===n||t[r]!==e[r]&&(t[r]=e[r]));return t}},function(t,e,n){(function(t,r){var i;(function(){var o,s="3.10.1",a=1,u=2,c=4,l=8,f=16,h=32,p=64,d=128,g=256,v=30,m="...",y=150,b=16,_=200,w=1,x=2,E="Expected a function",S="__lodash_placeholder__",k="[object Arguments]",M="[object Array]",T="[object Boolean]",O="[object Date]",C="[object Error]",I="[object Function]",N="[object Number]",A="[object Object]",R="[object RegExp]",P="[object String]",D="[object ArrayBuffer]",j="[object Float32Array]",L="[object Float64Array]",B="[object Int8Array]",U="[object Int16Array]",F="[object Int32Array]",V="[object Uint8Array]",H="[object Uint8ClampedArray]",z="[object Uint16Array]",W="[object Uint32Array]",Y=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39|#96);/g,K=/[&<>"'`]/g,X=RegExp($.source),J=RegExp(K.source),Z=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,it=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,ot=RegExp(it.source),st=/[\u0300-\u036f\ufe20-\ufe23]/g,at=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ct=/\w*$/,lt=/^0[xX]/,ft=/^\[object .+?Constructor\]$/,ht=/^\d+$/,pt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,dt=/($^)/,gt=/['\n\r\u2028\u2029\\]/g,vt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),mt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],yt=-1,bt={};bt[j]=bt[L]=bt[B]=bt[U]=bt[F]=bt[V]=bt[H]=bt[z]=bt[W]=!0,bt[k]=bt[M]=bt[D]=bt[T]=bt[O]=bt[C]=bt[I]=bt["[object Map]"]=bt[N]=bt[A]=bt[R]=bt["[object Set]"]=bt[P]=bt["[object WeakMap]"]=!1;var _t={};_t[k]=_t[M]=_t[D]=_t[T]=_t[O]=_t[j]=_t[L]=_t[B]=_t[U]=_t[F]=_t[N]=_t[A]=_t[R]=_t[P]=_t[V]=_t[H]=_t[z]=_t[W]=!0,_t[C]=_t[I]=_t["[object Map]"]=_t["[object Set]"]=_t["[object WeakMap]"]=!1;var wt={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},xt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Et={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},St={function:!0,object:!0},kt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Mt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tt=St[typeof e]&&e&&!e.nodeType&&e,Ot=St[typeof t]&&t&&!t.nodeType&&t,Ct=Tt&&Ot&&"object"==typeof r&&r&&r.Object&&r,It=St[typeof self]&&self&&self.Object&&self,Nt=St[typeof window]&&window&&window.Object&&window,At=(Ot&&Ot.exports,Ct||Nt!==(this&&this.window)&&Nt||It||this);function Rt(t,e){if(t!==e){var n=null===t,r=t===o,i=t===t,s=null===e,a=e===o,u=e===e;if(t>e&&!s||!i||n&&!a&&u||r&&u)return 1;if(t<e&&!n||!u||s&&!r&&i||a&&i)return-1}return 0}function Pt(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function Dt(t,e,n){if(e!==e)return Yt(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function jt(t){return"function"==typeof t||!1}function Lt(t){return null==t?"":t+""}function Bt(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function Ut(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function Ft(t,e){return Rt(t.criteria,e.criteria)||t.index-e.index}function Vt(t){return wt[t]}function Ht(t){return xt[t]}function zt(t,e,n){return e?t=kt[t]:n&&(t=Mt[t]),"\\"+t}function Wt(t){return"\\"+Mt[t]}function Yt(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function qt(t){return!!t&&"object"==typeof t}function Gt(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function $t(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=S,o[++i]=n);return o}function Kt(t){for(var e=-1,n=t.length;++e<n&&Gt(t.charCodeAt(e)););return e}function Xt(t){for(var e=t.length;e--&&Gt(t.charCodeAt(e)););return e}function Jt(t){return Et[t]}var Zt=function t(e){var n=(e=e?Zt.defaults(At.Object(),e,Zt.pick(At,mt)):At).Array,r=e.Date,i=e.Error,wt=e.Function,xt=e.Math,Et=e.Number,St=e.Object,kt=e.RegExp,Mt=e.String,Tt=e.TypeError,Ot=n.prototype,Ct=St.prototype,It=Mt.prototype,Nt=wt.prototype.toString,Gt=Ct.hasOwnProperty,Qt=0,te=Ct.toString,ee=At._,ne=kt("^"+Nt.call(Gt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=e.ArrayBuffer,ie=e.clearTimeout,oe=e.parseFloat,se=xt.pow,ae=Ct.propertyIsEnumerable,ue=xr(e,"Set"),ce=e.setTimeout,le=Ot.splice,fe=e.Uint8Array,he=xr(e,"WeakMap"),pe=xt.ceil,de=xr(St,"create"),ge=xt.floor,ve=xr(n,"isArray"),me=e.isFinite,ye=xr(St,"keys"),be=xt.max,_e=xt.min,we=xr(r,"now"),xe=e.parseInt,Ee=xt.random,Se=Et.NEGATIVE_INFINITY,ke=Et.POSITIVE_INFINITY,Me=4294967295,Te=Me-1,Oe=Me>>>1,Ce=9007199254740991,Ie=he&&new he,Ne={};function Ae(t){if(qt(t)&&!$i(t)&&!(t instanceof De)){if(t instanceof Pe)return t;if(Gt.call(t,"__chain__")&&Gt.call(t,"__wrapped__"))return Br(t)}return new Pe(t)}function Re(){}function Pe(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function De(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function je(){this.__data__={}}function Le(t){var e=t?t.length:0;for(this.data={hash:de(null),set:new ue};e--;)this.push(t[e])}function Be(t,e){var n=t.data;return("string"==typeof e||Zi(e)?n.set.has(e):n.hash[e])?0:-1}function Ue(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Fe(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ve(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function He(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[++i]=s)}return o}function ze(t,e){for(var r=-1,i=t.length,o=n(i);++r<i;)o[r]=e(t[r],r,t);return o}function We(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Ye(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function qe(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Ge(t,e,n,r){return t!==o&&Gt.call(r,n)?t:e}function $e(t,e,n){for(var r=-1,i=_o(e),s=i.length;++r<s;){var a=i[r],u=t[a],c=n(u,e[a],a,t,e);(c===c?c===u:u!==u)&&(u!==o||a in t)||(t[a]=c)}return t}function Ke(t,e){return null==e?t:Je(e,_o(e),t)}function Xe(t,e){for(var r=-1,i=null==t,s=!i&&Sr(t),a=s?t.length:0,u=e.length,c=n(u);++r<u;){var l=e[r];c[r]=s?kr(l,a)?t[l]:o:i?o:t[l]}return c}function Je(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function Ze(t,e,n){var r=typeof t;return"function"==r?e===o?t:Ln(t,e,n):null==t?Fo:"object"==r?_n(t):e===o?qo(t):wn(t,e)}function Qe(t,e,n,r,i,s,a){var u;if(n&&(u=i?n(t,r,i):n(t)),u!==o)return u;if(!Zi(t))return t;var c=$i(t);if(c){if(u=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Gt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return Ue(t,u)}else{var l=te.call(t),f=l==I;if(l!=A&&l!=k&&(!f||i))return _t[l]?function(t,e,n){var r=t.constructor;switch(e){case D:return Bn(t);case T:case O:return new r(+t);case j:case L:case B:case U:case F:case V:case H:case z:case W:var i=t.buffer;return new r(n?Bn(i):i,t.byteOffset,t.length);case N:case P:return new r(t);case R:var o=new r(t.source,ct.exec(t));o.lastIndex=t.lastIndex}return o}(t,l,e):i?t:{};if(u=function(t){var e=t.constructor;"function"==typeof e&&e instanceof e||(e=St);return new e}(f?{}:t),!e)return Ke(u,t)}s||(s=[]),a||(a=[]);for(var h=s.length;h--;)if(s[h]==t)return a[h];return s.push(t),a.push(u),(c?Fe:pn)(t,(function(r,i){u[i]=Qe(r,e,n,i,t,s,a)})),u}Ae.support={},Ae.templateSettings={escape:Z,evaluate:Q,interpolate:tt,variable:"",imports:{_:Ae}};var tn=function(){function t(){}return function(e){if(Zi(e)){t.prototype=e;var n=new t;t.prototype=o}return n||{}}}();function en(t,e,n){if("function"!=typeof t)throw new Tt(E);return ce((function(){t.apply(o,n)}),e)}function nn(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,o=br(),s=o==Dt,a=s&&e.length>=_?Yn(e):null,u=e.length;a&&(o=Be,s=!1,e=a);t:for(;++i<n;){var c=t[i];if(s&&c===c){for(var l=u;l--;)if(e[l]===c)continue t;r.push(c)}else o(e,c,0)<0&&r.push(c)}return r}var rn=zn(pn),on=zn(dn,!0);function sn(t,e){var n=!0;return rn(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function an(t,e){var n=[];return rn(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function un(t,e,n,r){var i;return n(t,(function(t,n,o){if(e(t,n,o))return i=r?n:t,!1})),i}function cn(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var s=t[i];qt(s)&&Sr(s)&&(n||$i(s)||Gi(s))?e?cn(s,e,n,r):We(r,s):n||(r[r.length]=s)}return r}var ln=Wn(),fn=Wn(!0);function hn(t,e){return ln(t,e,wo)}function pn(t,e){return ln(t,e,_o)}function dn(t,e){return fn(t,e,_o)}function gn(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];Ji(t[s])&&(o[++i]=s)}return o}function vn(t,e,n){if(null!=t){n!==o&&n in jr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:o}}function mn(t,e,n,r,i,o){return t===e||(null==t||null==e||!Zi(t)&&!qt(e)?t!==t&&e!==e:function(t,e,n,r,i,o,s){var a=$i(t),u=$i(e),c=M,l=M;a||((c=te.call(t))==k?c=A:c!=A&&(a=io(t)));u||((l=te.call(e))==k?l=A:l!=A&&(u=io(e)));var f=c==A,h=l==A,p=c==l;if(p&&!a&&!f)return function(t,e,n){switch(n){case T:case O:return+t==+e;case C:return t.name==e.name&&t.message==e.message;case N:return t!=+t?e!=+e:t==+e;case R:case P:return t==e+""}return!1}(t,e,c);if(!i){var d=f&&Gt.call(t,"__wrapped__"),g=h&&Gt.call(e,"__wrapped__");if(d||g)return n(d?t.value():t,g?e.value():e,r,i,o,s)}if(!p)return!1;o||(o=[]),s||(s=[]);var v=o.length;for(;v--;)if(o[v]==t)return s[v]==e;o.push(t),s.push(e);var m=(a?dr:gr)(t,e,n,r,i,o,s);return o.pop(),s.pop(),m}(t,e,mn,n,r,i,o))}function yn(t,e,n){var r=e.length,i=r,s=!n;if(null==t)return!i;for(t=jr(t);r--;){var a=e[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){var u=(a=e[r])[0],c=t[u],l=a[1];if(s&&a[2]){if(c===o&&!(u in t))return!1}else{var f=n?n(c,l,u):o;if(!(f===o?mn(l,c,n,!0):f))return!1}}return!0}function bn(t,e){var r=-1,i=Sr(t)?n(t.length):[];return rn(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function _n(t){var e=wr(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(r!==o||n in jr(t)))}}return function(t){return yn(t,e)}}function wn(t,e){var n=$i(t),r=Tr(t)&&Ir(e),i=t+"";return t=Lr(t),function(s){if(null==s)return!1;var a=i;if(s=jr(s),(n||!r)&&!(a in s)){if(null==(s=1==t.length?s:vn(s,Tn(t,0,-1))))return!1;a=Gr(t),s=jr(s)}return s[a]===e?e!==o||a in s:mn(e,s[a],o,!0)}}function xn(t){return function(e){return null==e?o:e[t]}}function En(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&kr(r)){var i=r;le.call(t,r,1)}}return t}function Sn(t,e){return t+ge(Ee()*(e-t+1))}function kn(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}var Mn=Ie?function(t,e){return Ie.set(t,e),t}:Fo;function Tn(t,e,r){var i=-1,s=t.length;(e=null==e?0:+e||0)<0&&(e=-e>s?0:s+e),(r=r===o||r>s?s:+r||0)<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var a=n(s);++i<s;)a[i]=t[i+e];return a}function On(t,e){var n;return rn(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function Cn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function In(t,e,n){var r=vr(),i=-1;return e=ze(e,(function(t){return r(t)})),Cn(bn(t,(function(t){return{criteria:ze(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Rt(i[r],o[r]);if(u){if(r>=a)return u;var c=n[r];return u*("asc"===c||!0===c?1:-1)}}return t.index-e.index}(t,e,n)}))}function Nn(t,e){var n=-1,r=br(),i=t.length,o=r==Dt,s=o&&i>=_,a=s?Yn():null,u=[];a?(r=Be,o=!1):(s=!1,a=e?[]:u);t:for(;++n<i;){var c=t[n],l=e?e(c,n,t):c;if(o&&c===c){for(var f=a.length;f--;)if(a[f]===l)continue t;e&&a.push(l),u.push(c)}else r(a,l,0)<0&&((e||s)&&a.push(l),u.push(c))}return u}function An(t,e){for(var r=-1,i=e.length,o=n(i);++r<i;)o[r]=t[e[r]];return o}function Rn(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Tn(t,r?0:o,r?o+1:i):Tn(t,r?o+1:0,r?i:o)}function Pn(t,e){var n=t;n instanceof De&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var o=e[r];n=o.func.apply(o.thisArg,We([n],o.args))}return n}function Dn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=Oe){for(;r<i;){var o=r+i>>>1,s=t[o];(n?s<=e:s<e)&&null!==s?r=o+1:i=o}return i}return jn(t,e,Fo,n)}function jn(t,e,n,r){e=n(e);for(var i=0,s=t?t.length:0,a=e!==e,u=null===e,c=e===o;i<s;){var l=ge((i+s)/2),f=n(t[l]),h=f!==o,p=f===f;if(a)var d=p||r;else d=u?p&&h&&(r||null!=f):c?p&&(r||h):null!=f&&(r?f<=e:f<e);d?i=l+1:s=l}return _e(s,Te)}function Ln(t,e,n){if("function"!=typeof t)return Fo;if(e===o)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function Bn(t){var e=new re(t.byteLength);return new fe(e).set(new fe(t)),e}function Un(t,e,r){for(var i=r.length,o=-1,s=be(t.length-i,0),a=-1,u=e.length,c=n(u+s);++a<u;)c[a]=e[a];for(;++o<i;)c[r[o]]=t[o];for(;s--;)c[a++]=t[o++];return c}function Fn(t,e,r){for(var i=-1,o=r.length,s=-1,a=be(t.length-o,0),u=-1,c=e.length,l=n(a+c);++s<a;)l[s]=t[s];for(var f=s;++u<c;)l[f+u]=e[u];for(;++i<o;)l[f+r[i]]=t[s++];return l}function Vn(t,e){return function(n,r,i){var o=e?e():{};if(r=vr(r,i,3),$i(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];t(o,u,r(u,s,n),n)}else rn(n,(function(e,n,i){t(o,e,r(e,n,i),i)}));return o}}function Hn(t){return Yi((function(e,n){var r=-1,i=null==e?0:n.length,s=i>2?n[i-2]:o,a=i>2?n[2]:o,u=i>1?n[i-1]:o;for("function"==typeof s?(s=Ln(s,u,5),i-=2):i-=(s="function"==typeof u?u:o)?1:0,a&&Mr(n[0],n[1],a)&&(s=i<3?o:s,i=1);++r<i;){var c=n[r];c&&t(e,c,s)}return e}))}function zn(t,e){return function(n,r){var i=n?_r(n):0;if(!Cr(i))return t(n,r);for(var o=e?i:-1,s=jr(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Wn(t){return function(e,n,r){for(var i=jr(e),o=r(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var u=o[a];if(!1===n(i[u],u,i))break}return e}}function Yn(t){return de&&ue?new Le(t):null}function qn(t){return function(e){for(var n=-1,r=Lo(Co(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function Gn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=tn(t.prototype),r=t.apply(n,e);return Zi(r)?r:n}}function $n(t){return function e(n,r,i){i&&Mr(n,r,i)&&(r=o);var s=pr(n,t,o,o,o,o,o,r);return s.placeholder=e.placeholder,s}}function Kn(t,e){return Yi((function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(o,n))}))}function Xn(t,e){return function(n,r,i){if(i&&Mr(n,r,i)&&(r=o),1==(r=vr(r,i,3)).length){var s=function(t,e,n,r){for(var i=-1,o=t.length,s=r,a=s;++i<o;){var u=t[i],c=+e(u);n(c,s)&&(s=c,a=u)}return a}(n=$i(n)?n:Dr(n),r,t,e);if(!n.length||s!==e)return s}return function(t,e,n,r){var i=r,o=i;return rn(t,(function(t,s,a){var u=+e(t,s,a);(n(u,i)||u===r&&u===o)&&(i=u,o=t)})),o}(n,r,t,e)}}function Jn(t,e){return function(n,r,i){if(r=vr(r,i,3),$i(n)){var s=Pt(n,r,e);return s>-1?n[s]:o}return un(n,r,t)}}function Zn(t){return function(e,n,r){return e&&e.length?Pt(e,n=vr(n,r,3),t):-1}}function Qn(t){return function(e,n,r){return un(e,n=vr(n,r,3),t,!0)}}function tr(t){return function(){for(var e,r=arguments.length,i=t?r:-1,s=0,a=n(r);t?i--:++i<r;){var u=a[s++]=arguments[i];if("function"!=typeof u)throw new Tt(E);!e&&Pe.prototype.thru&&"wrapper"==yr(u)&&(e=new Pe([],!0))}for(i=e?-1:r;++i<r;){var c=yr(u=a[i]),f="wrapper"==c?mr(u):o;e=f&&Or(f[0])&&f[1]==(d|l|h|g)&&!f[4].length&&1==f[9]?e[yr(f[0])].apply(e,f[3]):1==u.length&&Or(u)?e[c]():e.thru(u)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&$i(n)&&n.length>=_)return e.plant(n).value();for(var i=0,o=r?a[i].apply(this,t):n;++i<r;)o=a[i].call(this,o);return o}}}function er(t,e){return function(n,r,i){return"function"==typeof r&&i===o&&$i(n)?t(n,r):e(n,Ln(r,i,3))}}function nr(t){return function(e,n,r){return"function"==typeof n&&r===o||(n=Ln(n,r,3)),t(e,n,wo)}}function rr(t){return function(e,n,r){return"function"==typeof n&&r===o||(n=Ln(n,r,3)),t(e,n)}}function ir(t){return function(e,n,r){var i={};return n=vr(n,r,3),pn(e,(function(e,r,o){var s=n(e,r,o);e=t?e:s,i[r=t?s:r]=e})),i}}function or(t){return function(e,n,r){return e=Lt(e),(t?e:"")+cr(e,n,r)+(t?"":e)}}function sr(t){var e=Yi((function(n,r){var i=$t(r,e.placeholder);return pr(n,t,o,r,i)}));return e}function ar(t,e){return function(n,r,i,s){var a=arguments.length<3;return"function"==typeof r&&s===o&&$i(n)?t(n,r,i,a):kn(n,vr(r,s,4),i,a,e)}}function ur(t,e,r,i,s,g,v,m,y,b){var _=e&d,w=e&a,x=e&u,E=e&l,S=e&c,k=e&f,M=x?o:Gn(t);return function c(){for(var l=arguments.length,f=l,d=n(l);f--;)d[f]=arguments[f];if(i&&(d=Un(d,i,s)),g&&(d=Fn(d,g,v)),E||k){var T=c.placeholder,O=$t(d,T);if((l-=O.length)<b){var C=m?Ue(m):o,I=be(b-l,0);e|=E?h:p,e&=~(E?p:h),S||(e&=~(a|u));var N=[t,e,r,E?d:o,E?O:o,E?o:d,E?o:O,C,y,I],A=ur.apply(o,N);return Or(t)&&Rr(A,N),A.placeholder=T,A}}var R=w?r:this,P=x?R[t]:t;return m&&(d=function(t,e){var n=t.length,r=_e(e.length,n),i=Ue(t);for(;r--;){var s=e[r];t[r]=kr(s,n)?i[s]:o}return t}(d,m)),_&&y<d.length&&(d.length=y),this&&this!==At&&this instanceof c&&(P=M||Gn(t)),P.apply(R,d)}}function cr(t,e,n){var r=t.length;if(r>=(e=+e)||!me(e))return"";var i=e-r;return Ro(n=null==n?" ":n+"",pe(i/n.length)).slice(0,i)}function lr(t,e,r,i){var o=e&a,s=Gn(t);return function e(){for(var a=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u);++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++a];return(this&&this!==At&&this instanceof e?s:t).apply(o?r:this,f)}}function fr(t){var e=xt[t];return function(t,n){return(n=n===o?0:+n||0)?(n=se(10,n),e(t*n)/n):e(t)}}function hr(t){return function(e,n,r,i){var o=vr(r);return null==r&&o===Ze?Dn(e,n,t):jn(e,n,o(r,i,1),t)}}function pr(t,e,n,r,i,s,f,v){var m=e&u;if(!m&&"function"!=typeof t)throw new Tt(E);var y=r?r.length:0;if(y||(e&=~(h|p),r=i=o),y-=i?i.length:0,e&p){var b=r,_=i;r=i=o}var w=m?o:mr(t),x=[t,e,n,r,i,b,_,s,f,v];if(w&&(!function(t,e){var n=t[1],r=e[1],i=n|r,o=i<d,s=r==d&&n==l||r==d&&n==g&&t[7].length<=e[8]||r==(d|g)&&n==l;if(!o&&!s)return t;r&a&&(t[2]=e[2],i|=n&a?0:c);var u=e[3];if(u){var f=t[3];t[3]=f?Un(f,u,e[4]):Ue(u),t[4]=f?$t(t[3],S):Ue(e[4])}(u=e[5])&&(f=t[5],t[5]=f?Fn(f,u,e[6]):Ue(u),t[6]=f?$t(t[5],S):Ue(e[6]));(u=e[7])&&(t[7]=Ue(u));r&d&&(t[8]=null==t[8]?e[8]:_e(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(x,w),e=x[1],v=x[9]),x[9]=null==v?m?0:t.length:be(v-y,0)||0,e==a)var k=function(t,e){var n=Gn(t);return function r(){return(this&&this!==At&&this instanceof r?n:t).apply(e,arguments)}}(x[0],x[2]);else k=e!=h&&e!=(a|h)||x[4].length?ur.apply(o,x):lr.apply(o,x);return(w?Mn:Rr)(k,x)}function dr(t,e,n,r,i,s,a){var u=-1,c=t.length,l=e.length;if(c!=l&&!(i&&l>c))return!1;for(;++u<c;){var f=t[u],h=e[u],p=r?r(i?h:f,i?f:h,u):o;if(p!==o){if(p)continue;return!1}if(i){if(!qe(e,(function(t){return f===t||n(f,t,r,i,s,a)})))return!1}else if(f!==h&&!n(f,h,r,i,s,a))return!1}return!0}function gr(t,e,n,r,i,s,a){var u=_o(t),c=u.length;if(c!=_o(e).length&&!i)return!1;for(var l=c;l--;){var f=u[l];if(!(i?f in e:Gt.call(e,f)))return!1}for(var h=i;++l<c;){var p=t[f=u[l]],d=e[f],g=r?r(i?d:p,i?p:d,f):o;if(!(g===o?n(p,d,r,i,s,a):g))return!1;h||(h="constructor"==f)}if(!h){var v=t.constructor,m=e.constructor;if(v!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m))return!1}return!0}function vr(t,e,n){var r=Ae.callback||Uo;return r=r===Uo?Ze:r,n?r(t,e,n):r}var mr=Ie?function(t){return Ie.get(t)}:Yo;function yr(t){for(var e=t.name,n=Ne[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function br(t,e,n){var r=Ae.indexOf||Yr;return r=r===Yr?Dt:r,t?r(t,e,n):r}var _r=xn("length");function wr(t){for(var e=ko(t),n=e.length;n--;)e[n][2]=Ir(e[n][1]);return e}function xr(t,e){var n=null==t?o:t[e];return Qi(n)?n:o}function Er(t,e,n){null==t||Tr(e,t)||(t=1==(e=Lr(e)).length?t:vn(t,Tn(e,0,-1)),e=Gr(e));var r=null==t?t:t[e];return null==r?o:r.apply(t,n)}function Sr(t){return null!=t&&Cr(_r(t))}function kr(t,e){return t="number"==typeof t||ht.test(t)?+t:-1,e=null==e?Ce:e,t>-1&&t%1==0&&t<e}function Mr(t,e,n){if(!Zi(n))return!1;var r=typeof e;if("number"==r?Sr(n)&&kr(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function Tr(t,e){var n=typeof t;return!!("string"==n&&nt.test(t)||"number"==n)||!$i(t)&&(!et.test(t)||null!=e&&t in jr(e))}function Or(t){var e=yr(t);if(!(e in De.prototype))return!1;var n=Ae[e];if(t===n)return!0;var r=mr(n);return!!r&&t===r[0]}function Cr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ce}function Ir(t){return t===t&&!Zi(t)}function Nr(t,e){t=jr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function Ar(t,e){var n={};return hn(t,(function(t,r,i){e(t,r,i)&&(n[r]=t)})),n}var Rr=function(){var t=0,e=0;return function(n,r){var i=Oi(),o=b-(i-e);if(e=i,o>0){if(++t>=y)return n}else t=0;return Mn(n,r)}}();function Pr(t){for(var e=wo(t),n=e.length,r=n&&t.length,i=!!r&&Cr(r)&&($i(t)||Gi(t)),o=-1,s=[];++o<n;){var a=e[o];(i&&kr(a,r)||Gt.call(t,a))&&s.push(a)}return s}function Dr(t){return null==t?[]:Sr(t)?Zi(t)?t:St(t):To(t)}function jr(t){return Zi(t)?t:St(t)}function Lr(t){if($i(t))return t;var e=[];return Lt(t).replace(rt,(function(t,n,r,i){e.push(r?i.replace(at,"$1"):n||t)})),e}function Br(t){return t instanceof De?t.clone():new Pe(t.__wrapped__,t.__chain__,Ue(t.__actions__))}var Ur=Yi((function(t,e){return qt(t)&&Sr(t)?nn(t,cn(e,!1,!0)):[]}));function Fr(t,e,n){return(t?t.length:0)?((n?Mr(t,e,n):null==e)&&(e=1),Tn(t,e<0?0:e)):[]}function Vr(t,e,n){var r=t?t.length:0;return r?((n?Mr(t,e,n):null==e)&&(e=1),Tn(t,0,(e=r-(+e||0))<0?0:e)):[]}var Hr=Zn(),zr=Zn(!0);function Wr(t){return t?t[0]:o}function Yr(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?be(r+n,0):n;else if(n){var i=Dn(t,e);return i<r&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return Dt(t,e,n||0)}var qr=Yi((function(t){for(var e=t.length,r=e,i=n(f),o=br(),s=o==Dt,a=[];r--;){var u=t[r]=Sr(u=t[r])?u:[];i[r]=s&&u.length>=120?Yn(r&&u):null}var c=t[0],l=-1,f=c?c.length:0,h=i[0];t:for(;++l<f;)if(u=c[l],(h?Be(h,u):o(a,u,0))<0){for(r=e;--r;){var p=i[r];if((p?Be(p,u):o(t[r],u,0))<0)continue t}h&&h.push(u),a.push(u)}return a}));function Gr(t){var e=t?t.length:0;return e?t[e-1]:o}var $r=Yi((function(t,e){var n=Xe(t,e=cn(e));return En(t,e.sort(Rt)),n}));function Kr(t){return Fr(t,1)}var Xr=hr(),Jr=hr(!0),Zr=Yi((function(t){return Nn(cn(t,!1,!0))}));function Qr(t,e,n,r){if(!(t?t.length:0))return[];null!=e&&"boolean"!=typeof e&&(n=Mr(t,e,r=n)?o:e,e=!1);var i=vr();return null==n&&i===Ze||(n=i(n,r,3)),e&&br()==Dt?function(t,e){for(var n,r=-1,i=t.length,o=-1,s=[];++r<i;){var a=t[r],u=e?e(a,r,t):a;r&&n===u||(n=u,s[++o]=a)}return s}(t,n):Nn(t,n)}function ti(t){if(!t||!t.length)return[];var e=-1,r=0;t=He(t,(function(t){if(Sr(t))return r=be(t.length,r),!0}));for(var i=n(r);++e<r;)i[e]=ze(t,xn(e));return i}function ei(t,e,n){if(!(t?t.length:0))return[];var r=ti(t);return null==e?r:(e=Ln(e,n,4),ze(r,(function(t){return Ye(t,e,o,!0)})))}var ni=Yi((function(t,e){return Sr(t)?nn(t,e):[]})),ri=Yi(ti);function ii(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||$i(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}var oi=Yi((function(t){var e=t.length,n=e>2?t[e-2]:o,r=e>1?t[e-1]:o;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):o,r=o),t.length=e,ei(t,n,r)}));function si(t){var e=Ae(t);return e.__chain__=!0,e}function ai(t,e,n){return e.call(n,t)}var ui=Yi((function(t){return t=cn(t),this.thru((function(e){return function(t,e){for(var r=-1,i=t.length,o=-1,s=e.length,a=n(i+s);++r<i;)a[r]=t[r];for(;++o<s;)a[r++]=e[o];return a}($i(e)?e:[jr(e)],t)}))})),ci=Yi((function(t,e){return Xe(t,cn(e))})),li=Vn((function(t,e,n){Gt.call(t,n)?++t[n]:t[n]=1}));function fi(t,e,n){var r=$i(t)?Ve:sn;return n&&Mr(t,e,n)&&(e=o),"function"==typeof e&&n===o||(e=vr(e,n,3)),r(t,e)}function hi(t,e,n){return($i(t)?He:an)(t,e=vr(e,n,3))}var pi=Jn(rn),di=Jn(on,!0),gi=er(Fe,rn),vi=er((function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t}),on),mi=Vn((function(t,e,n){Gt.call(t,n)?t[n].push(e):t[n]=[e]}));function yi(t,e,n,r){var i=t?_r(t):0;return Cr(i)||(i=(t=To(t)).length),n="number"!=typeof n||r&&Mr(e,n,r)?0:n<0?be(i+n,0):n||0,"string"==typeof t||!$i(t)&&ro(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&br(t,e,n)>-1}var bi=Vn((function(t,e,n){t[n]=e})),_i=Yi((function(t,e,r){var i=-1,s="function"==typeof e,a=Tr(e),u=Sr(t)?n(t.length):[];return rn(t,(function(t){var n=s?e:a&&null!=t?t[e]:o;u[++i]=n?n.apply(t,r):Er(t,e,r)})),u}));function wi(t,e,n){return($i(t)?ze:bn)(t,e=vr(e,n,3))}var xi=Vn((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Ei=ar(Ye,rn),Si=ar((function(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}),on);function ki(t,e,n){if(n?Mr(t,e,n):null==e)return(r=(t=Dr(t)).length)>0?t[Sn(0,r-1)]:o;var r,i=-1,s=so(t),a=(r=s.length)-1;for(e=_e(e<0?0:+e||0,r);++i<e;){var u=Sn(i,a),c=s[u];s[u]=s[i],s[i]=c}return s.length=e,s}function Mi(t,e,n){var r=$i(t)?qe:On;return n&&Mr(t,e,n)&&(e=o),"function"==typeof e&&n===o||(e=vr(e,n,3)),r(t,e)}var Ti=Yi((function(t,e){if(null==t)return[];var n=e[2];return n&&Mr(e[0],e[1],n)&&(e.length=1),In(t,cn(e),[])})),Oi=we||function(){return(new r).getTime()};function Ci(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Tt(E);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ii=Yi((function(t,e,n){var r=a;if(n.length){var i=$t(n,Ii.placeholder);r|=h}return pr(t,r,e,n,i)})),Ni=Yi((function(t,e){for(var n=-1,r=(e=e.length?cn(e):bo(t)).length;++n<r;){var i=e[n];t[i]=pr(t[i],a,t)}return t})),Ai=Yi((function(t,e,n){var r=a|u;if(n.length){var i=$t(n,Ai.placeholder);r|=h}return pr(e,r,t,n,i)})),Ri=$n(l),Pi=$n(f);function Di(t,e,n){var r,i,s,a,u,c,l,f=0,h=!1,p=!0;if("function"!=typeof t)throw new Tt(E);if(e=e<0?0:+e||0,!0===n){var d=!0;p=!1}else Zi(n)&&(d=!!n.leading,h="maxWait"in n&&be(+n.maxWait||0,e),p="trailing"in n?!!n.trailing:p);function g(e,n){n&&ie(n),i=c=l=o,e&&(f=Oi(),s=t.apply(u,r),c||i||(r=u=o))}function v(){var t=e-(Oi()-a);t<=0||t>e?g(l,i):c=ce(v,t)}function m(){g(p,c)}function y(){if(r=arguments,a=Oi(),u=this,l=p&&(c||!d),!1===h)var n=d&&!c;else{i||d||(f=a);var g=h-(a-f),y=g<=0||g>h;y?(i&&(i=ie(i)),f=a,s=t.apply(u,r)):i||(i=ce(m,g))}return y&&c?c=ie(c):c||e===h||(c=ce(v,e)),n&&(y=!0,s=t.apply(u,r)),!y||c||i||(r=u=o),s}return y.cancel=function(){c&&ie(c),i&&ie(i),f=0,i=c=l=o},y}var ji=Yi((function(t,e){return en(t,1,e)})),Li=Yi((function(t,e,n){return en(t,e,n)})),Bi=tr(),Ui=tr(!0);function Fi(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Tt(E);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new Fi.Cache,n}var Vi=Yi((function(t,e){if(e=cn(e),"function"!=typeof t||!Ve(e,jt))throw new Tt(E);var n=e.length;return Yi((function(r){for(var i=_e(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)}))})),Hi=sr(h),zi=sr(p),Wi=Yi((function(t,e){return pr(t,g,o,o,o,cn(e))}));function Yi(t,e){if("function"!=typeof t)throw new Tt(E);return e=be(e===o?t.length-1:+e||0,0),function(){for(var r=arguments,i=-1,o=be(r.length-e,0),s=n(o);++i<o;)s[i]=r[e+i];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,r[0],s);case 2:return t.call(this,r[0],r[1],s)}var a=n(e+1);for(i=-1;++i<e;)a[i]=r[i];return a[e]=s,t.apply(this,a)}}function qi(t,e){return t>e}function Gi(t){return qt(t)&&Sr(t)&&Gt.call(t,"callee")&&!ae.call(t,"callee")}var $i=ve||function(t){return qt(t)&&Cr(t.length)&&te.call(t)==M};function Ki(t,e,n,r){var i=(n="function"==typeof n?Ln(n,r,3):o)?n(t,e):o;return i===o?mn(t,e,n):!!i}function Xi(t){return qt(t)&&"string"==typeof t.message&&te.call(t)==C}function Ji(t){return Zi(t)&&te.call(t)==I}function Zi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Qi(t){return null!=t&&(Ji(t)?ne.test(Nt.call(t)):qt(t)&&ft.test(t))}function to(t){return"number"==typeof t||qt(t)&&te.call(t)==N}function eo(t){var e,n;return!(!qt(t)||te.call(t)!=A||Gi(t)||!(Gt.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(hn(t,(function(t,e){n=e})),n===o||Gt.call(t,n))}function no(t){return Zi(t)&&te.call(t)==R}function ro(t){return"string"==typeof t||qt(t)&&te.call(t)==P}function io(t){return qt(t)&&Cr(t.length)&&!!bt[te.call(t)]}function oo(t,e){return t<e}function so(t){var e=t?_r(t):0;return Cr(e)?e?Ue(t):[]:To(t)}function ao(t){return Je(t,wo(t))}var uo=Hn((function t(e,n,r,i,s){if(!Zi(e))return e;var a=Sr(n)&&($i(n)||io(n)),u=a?o:_o(n);return Fe(u||n,(function(c,l){if(u&&(c=n[l=c]),qt(c))i||(i=[]),s||(s=[]),function(t,e,n,r,i,s,a){var u=s.length,c=e[n];for(;u--;)if(s[u]==c)return void(t[n]=a[u]);var l=t[n],f=i?i(l,c,n,t,e):o,h=f===o;h&&(f=c,Sr(c)&&($i(c)||io(c))?f=$i(l)?l:Sr(l)?Ue(l):[]:eo(c)||Gi(c)?f=Gi(l)?ao(l):eo(l)?l:{}:h=!1);s.push(c),a.push(f),h?t[n]=r(f,c,i,s,a):(f===f?f!==l:l===l)&&(t[n]=f)}(e,n,l,t,r,i,s);else{var f=e[l],h=r?r(f,c,l,e,n):o,p=h===o;p&&(h=c),h===o&&(!a||l in e)||!p&&(h===h?h===f:f!==f)||(e[l]=h)}})),e})),co=Hn((function(t,e,n){return n?$e(t,e,n):Ke(t,e)})),lo=Kn(co,(function(t,e){return t===o?e:t})),fo=Kn(uo,(function t(e,n){return e===o?n:uo(e,n,t)})),ho=Qn(pn),po=Qn(dn),go=nr(ln),vo=nr(fn),mo=rr(pn),yo=rr(dn);function bo(t){return gn(t,wo(t))}var _o=ye?function(t){var e=null==t?o:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Sr(t)?Pr(t):Zi(t)?ye(t):[]}:Pr;function wo(t){if(null==t)return[];Zi(t)||(t=St(t));var e=t.length;e=e&&Cr(e)&&($i(t)||Gi(t))&&e||0;for(var r=t.constructor,i=-1,o="function"==typeof r&&r.prototype===t,s=n(e),a=e>0;++i<e;)s[i]=i+"";for(var u in t)a&&kr(u,e)||"constructor"==u&&(o||!Gt.call(t,u))||s.push(u);return s}var xo=ir(!0),Eo=ir(),So=Yi((function(t,e){if(null==t)return{};if("function"!=typeof e[0]){e=ze(cn(e),Mt);return Nr(t,nn(wo(t),e))}var n=Ln(e[0],e[1],3);return Ar(t,(function(t,e,r){return!n(t,e,r)}))}));function ko(t){t=jr(t);for(var e=-1,r=_o(t),i=r.length,o=n(i);++e<i;){var s=r[e];o[e]=[s,t[s]]}return o}var Mo=Yi((function(t,e){return null==t?{}:"function"==typeof e[0]?Ar(t,Ln(e[0],e[1],3)):Nr(t,cn(e))}));function To(t){return An(t,_o(t))}var Oo=qn((function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}));function Co(t){return(t=Lt(t))&&t.replace(pt,Vt).replace(st,"")}var Io=qn((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),No=or(),Ao=or(!0);function Ro(t,e){var n="";if(t=Lt(t),(e=+e)<1||!t||!me(e))return n;do{e%2&&(n+=t),e=ge(e/2),t+=t}while(e);return n}var Po=qn((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Do=qn((function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}));function jo(t,e,n){var r=t;return(t=Lt(t))?(n?Mr(r,e,n):null==e)?t.slice(Kt(t),Xt(t)+1):(e+="",t.slice(Bt(t,e),Ut(t,e)+1)):t}function Lo(t,e,n){return n&&Mr(t,e,n)&&(e=o),(t=Lt(t)).match(e||vt)||[]}var Bo=Yi((function(t,e){try{return t.apply(o,e)}catch(n){return Xi(n)?n:new i(n)}}));function Uo(t,e,n){return n&&Mr(t,e,n)&&(e=o),qt(t)?Vo(t):Ze(t,e)}function Fo(t){return t}function Vo(t){return _n(Qe(t,!0))}var Ho=Yi((function(t,e){return function(n){return Er(n,t,e)}})),zo=Yi((function(t,e){return function(n){return Er(t,n,e)}}));function Wo(t,e,n){if(null==n){var r=Zi(e),i=r?_o(e):o,s=i&&i.length?gn(e,i):o;(s?s.length:r)||(s=!1,n=e,e=t,t=this)}s||(s=gn(e,_o(e)));var a=!0,u=-1,c=Ji(t),l=s.length;!1===n?a=!1:Zi(n)&&"chain"in n&&(a=n.chain);for(;++u<l;){var f=s[u],h=e[f];t[f]=h,c&&(t.prototype[f]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__),i=r.__actions__=Ue(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,We([this.value()],arguments))}}(h))}return t}function Yo(){}function qo(t){return Tr(t)?xn(t):function(t){var e=t+"";return t=Lr(t),function(n){return vn(n,t,e)}}(t)}var Go=fr("ceil"),$o=fr("floor"),Ko=Xn(qi,Se),Xo=Xn(oo,ke),Jo=fr("round");return Ae.prototype=Re.prototype,Pe.prototype=tn(Re.prototype),Pe.prototype.constructor=Pe,De.prototype=tn(Re.prototype),De.prototype.constructor=De,je.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},je.prototype.get=function(t){return"__proto__"==t?o:this.__data__[t]},je.prototype.has=function(t){return"__proto__"!=t&&Gt.call(this.__data__,t)},je.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Le.prototype.push=function(t){var e=this.data;"string"==typeof t||Zi(t)?e.set.add(t):e.hash[t]=!0},Fi.Cache=je,Ae.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Tt(E);var n=t;t=e,e=n}return t=me(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},Ae.ary=function(t,e,n){return n&&Mr(t,e,n)&&(e=o),e=t&&null==e?t.length:be(+e||0,0),pr(t,d,o,o,o,o,e)},Ae.assign=co,Ae.at=ci,Ae.before=Ci,Ae.bind=Ii,Ae.bindAll=Ni,Ae.bindKey=Ai,Ae.callback=Uo,Ae.chain=si,Ae.chunk=function(t,e,r){e=(r?Mr(t,e,r):null==e)?1:be(ge(e)||1,1);for(var i=0,o=t?t.length:0,s=-1,a=n(pe(o/e));i<o;)a[++s]=Tn(t,i,i+=e);return a},Ae.compact=function(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i},Ae.constant=function(t){return function(){return t}},Ae.countBy=li,Ae.create=function(t,e,n){var r=tn(t);return n&&Mr(t,e,n)&&(e=o),e?Ke(r,e):r},Ae.curry=Ri,Ae.curryRight=Pi,Ae.debounce=Di,Ae.defaults=lo,Ae.defaultsDeep=fo,Ae.defer=ji,Ae.delay=Li,Ae.difference=Ur,Ae.drop=Fr,Ae.dropRight=Vr,Ae.dropRightWhile=function(t,e,n){return t&&t.length?Rn(t,vr(e,n,3),!0,!0):[]},Ae.dropWhile=function(t,e,n){return t&&t.length?Rn(t,vr(e,n,3),!0):[]},Ae.fill=function(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Mr(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=null==n?0:+n||0)<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:+r||0)<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)t[n++]=e;return t}(t,e,n,r)):[]},Ae.filter=hi,Ae.flatten=function(t,e,n){var r=t?t.length:0;return n&&Mr(t,e,n)&&(e=!1),r?cn(t,e):[]},Ae.flattenDeep=function(t){return(t?t.length:0)?cn(t,!0):[]},Ae.flow=Bi,Ae.flowRight=Ui,Ae.forEach=gi,Ae.forEachRight=vi,Ae.forIn=go,Ae.forInRight=vo,Ae.forOwn=mo,Ae.forOwnRight=yo,Ae.functions=bo,Ae.groupBy=mi,Ae.indexBy=bi,Ae.initial=function(t){return Vr(t,1)},Ae.intersection=qr,Ae.invert=function(t,e,n){n&&Mr(t,e,n)&&(e=o);for(var r=-1,i=_o(t),s=i.length,a={};++r<s;){var u=i[r],c=t[u];e?Gt.call(a,c)?a[c].push(u):a[c]=[u]:a[c]=u}return a},Ae.invoke=_i,Ae.keys=_o,Ae.keysIn=wo,Ae.map=wi,Ae.mapKeys=xo,Ae.mapValues=Eo,Ae.matches=Vo,Ae.matchesProperty=function(t,e){return wn(t,Qe(e,!0))},Ae.memoize=Fi,Ae.merge=uo,Ae.method=Ho,Ae.methodOf=zo,Ae.mixin=Wo,Ae.modArgs=Vi,Ae.negate=function(t){if("function"!=typeof t)throw new Tt(E);return function(){return!t.apply(this,arguments)}},Ae.omit=So,Ae.once=function(t){return Ci(2,t)},Ae.pairs=ko,Ae.partial=Hi,Ae.partialRight=zi,Ae.partition=xi,Ae.pick=Mo,Ae.pluck=function(t,e){return wi(t,qo(e))},Ae.property=qo,Ae.propertyOf=function(t){return function(e){return vn(t,Lr(e),e+"")}},Ae.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=br(),i=t.length;++n<i;)for(var o=0,s=t[n];(o=r(e,s,o))>-1;)le.call(e,o,1);return e},Ae.pullAt=$r,Ae.range=function(t,e,r){r&&Mr(t,e,r)&&(e=r=o),t=+t||0,null==e?(e=t,t=0):e=+e||0;for(var i=-1,s=be(pe((e-t)/((r=null==r?1:+r||0)||1)),0),a=n(s);++i<s;)a[i]=t,t+=r;return a},Ae.rearg=Wi,Ae.reject=function(t,e,n){var r=$i(t)?He:an;return e=vr(e,n,3),r(t,(function(t,n,r){return!e(t,n,r)}))},Ae.remove=function(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],s=t.length;for(e=vr(e,n,3);++i<s;){var a=t[i];e(a,i,t)&&(r.push(a),o.push(i))}return En(t,o),r},Ae.rest=Kr,Ae.restParam=Yi,Ae.set=function(t,e,n){if(null==t)return t;for(var r=e+"",i=-1,o=(e=null!=t[r]||Tr(e,t)?[r]:Lr(e)).length,s=o-1,a=t;null!=a&&++i<o;){var u=e[i];Zi(a)&&(i==s?a[u]=n:null==a[u]&&(a[u]=kr(e[i+1])?[]:{})),a=a[u]}return t},Ae.shuffle=function(t){return ki(t,ke)},Ae.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Mr(t,e,n)&&(e=0,n=r),Tn(t,e,n)):[]},Ae.sortBy=function(t,e,n){if(null==t)return[];n&&Mr(t,e,n)&&(e=o);var r=-1;return e=vr(e,n,3),Cn(bn(t,(function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}})),Ft)},Ae.sortByAll=Ti,Ae.sortByOrder=function(t,e,n,r){return null==t?[]:(r&&Mr(e,n,r)&&(n=o),$i(e)||(e=null==e?[]:[e]),$i(n)||(n=null==n?[]:[n]),In(t,e,n))},Ae.spread=function(t){if("function"!=typeof t)throw new Tt(E);return function(e){return t.apply(this,e)}},Ae.take=function(t,e,n){return(t?t.length:0)?((n?Mr(t,e,n):null==e)&&(e=1),Tn(t,0,e<0?0:e)):[]},Ae.takeRight=function(t,e,n){var r=t?t.length:0;return r?((n?Mr(t,e,n):null==e)&&(e=1),Tn(t,(e=r-(+e||0))<0?0:e)):[]},Ae.takeRightWhile=function(t,e,n){return t&&t.length?Rn(t,vr(e,n,3),!1,!0):[]},Ae.takeWhile=function(t,e,n){return t&&t.length?Rn(t,vr(e,n,3)):[]},Ae.tap=function(t,e,n){return e.call(n,t),t},Ae.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Tt(E);return!1===n?r=!1:Zi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Di(t,e,{leading:r,maxWait:+e,trailing:i})},Ae.thru=ai,Ae.times=function(t,e,r){if((t=ge(t))<1||!me(t))return[];var i=-1,o=n(_e(t,Me));for(e=Ln(e,r,1);++i<t;)i<Me?o[i]=e(i):e(i);return o},Ae.toArray=so,Ae.toPlainObject=ao,Ae.transform=function(t,e,n,r){var i=$i(t)||io(t);if(e=vr(e,r,4),null==n)if(i||Zi(t)){var s=t.constructor;n=i?$i(t)?new s:[]:tn(Ji(s)?s.prototype:o)}else n={};return(i?Fe:pn)(t,(function(t,r,i){return e(n,t,r,i)})),n},Ae.union=Zr,Ae.uniq=Qr,Ae.unzip=ti,Ae.unzipWith=ei,Ae.values=To,Ae.valuesIn=function(t){return An(t,wo(t))},Ae.where=function(t,e){return hi(t,_n(e))},Ae.without=ni,Ae.wrap=function(t,e){return pr(e=null==e?Fo:e,h,o,[t],[])},Ae.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Sr(n))var r=r?We(nn(r,n),nn(n,r)):n}return r?Nn(r):[]},Ae.zip=ri,Ae.zipObject=ii,Ae.zipWith=oi,Ae.backflow=Ui,Ae.collect=wi,Ae.compose=Ui,Ae.each=gi,Ae.eachRight=vi,Ae.extend=co,Ae.iteratee=Uo,Ae.methods=bo,Ae.object=ii,Ae.select=hi,Ae.tail=Kr,Ae.unique=Qr,Wo(Ae,Ae),Ae.add=function(t,e){return(+t||0)+(+e||0)},Ae.attempt=Bo,Ae.camelCase=Oo,Ae.capitalize=function(t){return(t=Lt(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Ae.ceil=Go,Ae.clone=function(t,e,n,r){return e&&"boolean"!=typeof e&&Mr(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?Qe(t,e,Ln(n,r,1)):Qe(t,e)},Ae.cloneDeep=function(t,e,n){return"function"==typeof e?Qe(t,!0,Ln(e,n,1)):Qe(t,!0)},Ae.deburr=Co,Ae.endsWith=function(t,e,n){e+="";var r=(t=Lt(t)).length;return n=n===o?r:_e(n<0?0:+n||0,r),(n-=e.length)>=0&&t.indexOf(e,n)==n},Ae.escape=function(t){return(t=Lt(t))&&J.test(t)?t.replace(K,Ht):t},Ae.escapeRegExp=function(t){return(t=Lt(t))&&ot.test(t)?t.replace(it,zt):t||"(?:)"},Ae.every=fi,Ae.find=pi,Ae.findIndex=Hr,Ae.findKey=ho,Ae.findLast=di,Ae.findLastIndex=zr,Ae.findLastKey=po,Ae.findWhere=function(t,e){return pi(t,_n(e))},Ae.first=Wr,Ae.floor=$o,Ae.get=function(t,e,n){var r=null==t?o:vn(t,Lr(e),e+"");return r===o?n:r},Ae.gt=qi,Ae.gte=function(t,e){return t>=e},Ae.has=function(t,e){if(null==t)return!1;var n=Gt.call(t,e);if(!n&&!Tr(e)){if(null==(t=1==(e=Lr(e)).length?t:vn(t,Tn(e,0,-1))))return!1;e=Gr(e),n=Gt.call(t,e)}return n||Cr(t.length)&&kr(e,t.length)&&($i(t)||Gi(t))},Ae.identity=Fo,Ae.includes=yi,Ae.indexOf=Yr,Ae.inRange=function(t,e,n){return e=+e||0,n===o?(n=e,e=0):n=+n||0,t>=_e(e,n)&&t<be(e,n)},Ae.isArguments=Gi,Ae.isArray=$i,Ae.isBoolean=function(t){return!0===t||!1===t||qt(t)&&te.call(t)==T},Ae.isDate=function(t){return qt(t)&&te.call(t)==O},Ae.isElement=function(t){return!!t&&1===t.nodeType&&qt(t)&&!eo(t)},Ae.isEmpty=function(t){return null==t||(Sr(t)&&($i(t)||ro(t)||Gi(t)||qt(t)&&Ji(t.splice))?!t.length:!_o(t).length)},Ae.isEqual=Ki,Ae.isError=Xi,Ae.isFinite=function(t){return"number"==typeof t&&me(t)},Ae.isFunction=Ji,Ae.isMatch=function(t,e,n,r){return n="function"==typeof n?Ln(n,r,3):o,yn(t,wr(e),n)},Ae.isNaN=function(t){return to(t)&&t!=+t},Ae.isNative=Qi,Ae.isNull=function(t){return null===t},Ae.isNumber=to,Ae.isObject=Zi,Ae.isPlainObject=eo,Ae.isRegExp=no,Ae.isString=ro,Ae.isTypedArray=io,Ae.isUndefined=function(t){return t===o},Ae.kebabCase=Io,Ae.last=Gr,Ae.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?be(r+n,0):_e(n||0,r-1))+1;else if(n){var o=t[i=Dn(t,e,!0)-1];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return Yt(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1},Ae.lt=oo,Ae.lte=function(t,e){return t<=e},Ae.max=Ko,Ae.min=Xo,Ae.noConflict=function(){return At._=ee,this},Ae.noop=Yo,Ae.now=Oi,Ae.pad=function(t,e,n){e=+e;var r=(t=Lt(t)).length;if(r>=e||!me(e))return t;var i=(e-r)/2,o=ge(i);return(n=cr("",pe(i),n)).slice(0,o)+t+n},Ae.padLeft=No,Ae.padRight=Ao,Ae.parseInt=function(t,e,n){return(n?Mr(t,e,n):null==e)?e=0:e&&(e=+e),t=jo(t),xe(t,e||(lt.test(t)?16:10))},Ae.random=function(t,e,n){n&&Mr(t,e,n)&&(e=n=o);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var s=Ee();return _e(t+s*(e-t+oe("1e-"+((s+"").length-1))),e)}return Sn(t,e)},Ae.reduce=Ei,Ae.reduceRight=Si,Ae.repeat=Ro,Ae.result=function(t,e,n){var r=null==t?o:t[e];return r===o&&(null==t||Tr(e,t)||(r=null==(t=1==(e=Lr(e)).length?t:vn(t,Tn(e,0,-1)))?o:t[Gr(e)]),r=r===o?n:r),Ji(r)?r.call(t):r},Ae.round=Jo,Ae.runInContext=t,Ae.size=function(t){var e=t?_r(t):0;return Cr(e)?e:_o(t).length},Ae.snakeCase=Po,Ae.some=Mi,Ae.sortedIndex=Xr,Ae.sortedLastIndex=Jr,Ae.startCase=Do,Ae.startsWith=function(t,e,n){return t=Lt(t),n=null==n?0:_e(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n},Ae.sum=function(t,e,n){return n&&Mr(t,e,n)&&(e=o),1==(e=vr(e,n,3)).length?function(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}($i(t)?t:Dr(t),e):function(t,e){var n=0;return rn(t,(function(t,r,i){n+=+e(t,r,i)||0})),n}(t,e)},Ae.template=function(t,e,n){var r=Ae.templateSettings;n&&Mr(t,e,n)&&(e=n=o),t=Lt(t),e=$e(Ke({},n||e),r,Ge);var i,s,a=$e(Ke({},e.imports),r.imports,Ge),u=_o(a),c=An(a,u),l=0,f=e.interpolate||dt,h="__p += '",p=kt((e.escape||dt).source+"|"+f.source+"|"+(f===tt?ut:dt).source+"|"+(e.evaluate||dt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++yt+"]")+"\n";t.replace(p,(function(e,n,r,o,a,u){return r||(r=o),h+=t.slice(l,u).replace(gt,Wt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+e.length,e})),h+="';\n";var g=e.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(s?h.replace(Y,""):h).replace(q,"$1").replace(G,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Bo((function(){return wt(u,d+"return "+h).apply(o,c)}));if(v.source=h,Xi(v))throw v;return v},Ae.trim=jo,Ae.trimLeft=function(t,e,n){var r=t;return(t=Lt(t))?(n?Mr(r,e,n):null==e)?t.slice(Kt(t)):t.slice(Bt(t,e+"")):t},Ae.trimRight=function(t,e,n){var r=t;return(t=Lt(t))?(n?Mr(r,e,n):null==e)?t.slice(0,Xt(t)+1):t.slice(0,Ut(t,e+"")+1):t},Ae.trunc=function(t,e,n){n&&Mr(t,e,n)&&(e=o);var r=v,i=m;if(null!=e)if(Zi(e)){var s="separator"in e?e.separator:s;r="length"in e?+e.length||0:r,i="omission"in e?Lt(e.omission):i}else r=+e||0;if(r>=(t=Lt(t)).length)return t;var a=r-i.length;if(a<1)return i;var u=t.slice(0,a);if(null==s)return u+i;if(no(s)){if(t.slice(a).search(s)){var c,l,f=t.slice(0,a);for(s.global||(s=kt(s.source,(ct.exec(s)||"")+"g")),s.lastIndex=0;c=s.exec(f);)l=c.index;u=u.slice(0,null==l?a:l)}}else if(t.indexOf(s,a)!=a){var h=u.lastIndexOf(s);h>-1&&(u=u.slice(0,h))}return u+i},Ae.unescape=function(t){return(t=Lt(t))&&X.test(t)?t.replace($,Jt):t},Ae.uniqueId=function(t){var e=++Qt;return Lt(t)+e},Ae.words=Lo,Ae.all=fi,Ae.any=Mi,Ae.contains=yi,Ae.eq=Ki,Ae.detect=pi,Ae.foldl=Ei,Ae.foldr=Si,Ae.head=Wr,Ae.include=yi,Ae.inject=Ei,Wo(Ae,function(){var t={};return pn(Ae,(function(e,n){Ae.prototype[n]||(t[n]=e)})),t}(),!1),Ae.sample=ki,Ae.prototype.sample=function(t){return this.__chain__||null!=t?this.thru((function(e){return ki(e,t)})):ki(this.value())},Ae.VERSION=s,Fe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ae[t].placeholder=Ae})),Fe(["drop","take"],(function(t,e){De.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new De(this);n=null==n?1:be(ge(n)||0,0);var i=this.clone();return r?i.__takeCount__=_e(i.__takeCount__,n):i.__views__.push({size:n,type:t+(i.__dir__<0?"Right":"")}),i},De.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Fe(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=n!=x;De.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:vr(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}})),Fe(["first","last"],(function(t,e){var n="take"+(e?"Right":"");De.prototype[t]=function(){return this[n](1).value()[0]}})),Fe(["initial","rest"],(function(t,e){var n="drop"+(e?"":"Right");De.prototype[t]=function(){return this.__filtered__?new De(this):this[n](1)}})),Fe(["pluck","where"],(function(t,e){var n=e?"filter":"map",r=e?_n:qo;De.prototype[t]=function(t){return this[n](r(t))}})),De.prototype.compact=function(){return this.filter(Fo)},De.prototype.reject=function(t,e){return t=vr(t,e,1),this.filter((function(e){return!t(e)}))},De.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new De(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=+e||0)<0?n.dropRight(-e):n.take(e-t)),n)},De.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},De.prototype.toArray=function(){return this.take(ke)},pn(De.prototype,(function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),r=/^(?:first|last)$/.test(e),i=Ae[r?"take"+("last"==e?"Right":""):e];i&&(Ae.prototype[e]=function(){var e=r?[1]:arguments,s=this.__chain__,a=this.__wrapped__,u=!!this.__actions__.length,c=a instanceof De,l=e[0],f=c||$i(a);f&&n&&"function"==typeof l&&1!=l.length&&(c=f=!1);var h=function(t){return r&&s?i(t,1)[0]:i.apply(o,We([t],e))},p={func:ai,args:[h],thisArg:o},d=c&&!u;if(r&&!s)return d?((a=a.clone()).__actions__.push(p),t.call(a)):i.call(o,this.value())[0];if(!r&&f){a=d?a:new De(this);var g=t.apply(a,e);return g.__actions__.push(p),new Pe(g,s)}return this.thru(h)})})),Fe(["join","pop","push","replace","shift","sort","splice","split","unshift"],(function(t){var e=(/^(?:replace|split)$/.test(t)?It:Ot)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);Ae.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n]((function(n){return e.apply(n,t)}))}})),pn(De.prototype,(function(t,e){var n=Ae[e];if(n){var r=n.name;(Ne[r]||(Ne[r]=[])).push({name:e,func:n})}})),Ne[ur(o,u).name]=[{name:"wrapper",func:o}],De.prototype.clone=function(){var t=new De(this.__wrapped__);return t.__actions__=Ue(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ue(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ue(this.__views__),t},De.prototype.reverse=function(){if(this.__filtered__){var t=new De(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},De.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=$i(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=_e(e,t+s);break;case"takeRight":t=be(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,h=0,p=_e(u,this.__takeCount__);if(!n||i<_||i==u&&p==u)return Pn(r&&n?t.reverse():t,this.__actions__);var d=[];t:for(;u--&&h<p;){for(var g=-1,v=t[c+=e];++g<f;){var m=l[g],y=m.iteratee,b=m.type,E=y(v);if(b==x)v=E;else if(!E){if(b==w)continue t;break t}}d[h++]=v}return d},Ae.prototype.chain=function(){return si(this)},Ae.prototype.commit=function(){return new Pe(this.value(),this.__chain__)},Ae.prototype.concat=ui,Ae.prototype.plant=function(t){for(var e,n=this;n instanceof Re;){var r=Br(n);e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Ae.prototype.reverse=function(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof De){var n=t;return this.__actions__.length&&(n=new De(this)),(n=n.reverse()).__actions__.push({func:ai,args:[e],thisArg:o}),new Pe(n,this.__chain__)}return this.thru(e)},Ae.prototype.toString=function(){return this.value()+""},Ae.prototype.run=Ae.prototype.toJSON=Ae.prototype.valueOf=Ae.prototype.value=function(){return Pn(this.__wrapped__,this.__actions__)},Ae.prototype.collect=Ae.prototype.map,Ae.prototype.head=Ae.prototype.first,Ae.prototype.select=Ae.prototype.filter,Ae.prototype.tail=Ae.prototype.rest,Ae}();At._=Zt,(i=function(){return Zt}.call(e,n,e,t))===o||(t.exports=i)}).call(this)}).call(this,n(44)(t),n(5))},function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e){"function"!==typeof t&&(e=t,t=Object);var n=function(){return this.initialize&&this.initialize.apply(this,arguments)||this},i=function(){};return i.prototype=t.prototype,n.prototype=new i,r(n.prototype,e),n}},function(t,e,n){var r;(function(){var n=this,i=n._,o=Array.prototype,s=Object.prototype,a=Function.prototype,u=o.push,c=o.slice,l=s.toString,f=s.hasOwnProperty,h=Array.isArray,p=Object.keys,d=a.bind,g=Object.create,v=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};t.exports&&(e=t.exports=m),e._=m,m.VERSION="1.8.3";var y=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},b=function(t,e,n){return null==t?m.identity:m.isFunction(t)?y(t,e,n):m.isObject(t)?m.matcher(t):m.property(t)};m.iteratee=function(t,e){return b(t,e,1/0)};var _=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=t(o),a=s.length,u=0;u<a;u++){var c=s[u];e&&void 0!==n[c]||(n[c]=o[c])}return n}},w=function(t){if(!m.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},x=function(t){return function(e){return null==e?void 0:e[t]}},E=Math.pow(2,53)-1,S=x("length"),k=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=E};function M(t){function e(e,n,r,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;r=n(r,e[a],a,e)}return r}return function(n,r,i,o){r=y(r,o,4);var s=!k(n)&&m.keys(n),a=(s||n).length,u=t>0?0:a-1;return arguments.length<3&&(i=n[s?s[u]:u],u+=t),e(n,r,i,s,u,a)}}m.each=m.forEach=function(t,e,n){var r,i;if(e=y(e,n),k(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=m.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},m.map=m.collect=function(t,e,n){e=b(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o},m.reduce=m.foldl=m.inject=M(1),m.reduceRight=m.foldr=M(-1),m.find=m.detect=function(t,e,n){var r;if(void 0!==(r=k(t)?m.findIndex(t,e,n):m.findKey(t,e,n))&&-1!==r)return t[r]},m.filter=m.select=function(t,e,n){var r=[];return e=b(e,n),m.each(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r},m.reject=function(t,e,n){return m.filter(t,m.negate(b(e)),n)},m.every=m.all=function(t,e,n){e=b(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0},m.some=m.any=function(t,e,n){e=b(e,n);for(var r=!k(t)&&m.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,n,r){return k(t)||(t=m.values(t)),("number"!=typeof n||r)&&(n=0),m.indexOf(t,e,n)>=0},m.invoke=function(t,e){var n=c.call(arguments,2),r=m.isFunction(e);return m.map(t,(function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)}))},m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,n){var r,i,o=-1/0,s=-1/0;if(null==e&&null!=t)for(var a=0,u=(t=k(t)?t:m.values(t)).length;a<u;a++)(r=t[a])>o&&(o=r);else e=b(e,n),m.each(t,(function(t,n,r){((i=e(t,n,r))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)}));return o},m.min=function(t,e,n){var r,i,o=1/0,s=1/0;if(null==e&&null!=t)for(var a=0,u=(t=k(t)?t:m.values(t)).length;a<u;a++)(r=t[a])<o&&(o=r);else e=b(e,n),m.each(t,(function(t,n,r){((i=e(t,n,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)}));return o},m.shuffle=function(t){for(var e,n=k(t)?t:m.values(t),r=n.length,i=Array(r),o=0;o<r;o++)(e=m.random(0,o))!==o&&(i[o]=i[e]),i[e]=n[o];return i},m.sample=function(t,e,n){return null==e||n?(k(t)||(t=m.values(t)),t[m.random(t.length-1)]):m.shuffle(t).slice(0,Math.max(0,e))},m.sortBy=function(t,e,n){return e=b(e,n),m.pluck(m.map(t,(function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")};var T=function(t){return function(e,n,r){var i={};return n=b(n,r),m.each(e,(function(r,o){var s=n(r,o,e);t(i,r,s)})),i}};m.groupBy=T((function(t,e,n){m.has(t,n)?t[n].push(e):t[n]=[e]})),m.indexBy=T((function(t,e,n){t[n]=e})),m.countBy=T((function(t,e,n){m.has(t,n)?t[n]++:t[n]=1})),m.toArray=function(t){return t?m.isArray(t)?c.call(t):k(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:k(t)?t.length:m.keys(t).length},m.partition=function(t,e,n){e=b(e,n);var r=[],i=[];return m.each(t,(function(t,n,o){(e(t,n,o)?r:i).push(t)})),[r,i]},m.first=m.head=m.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,m.identity)};var O=function(t,e,n,r){for(var i=[],o=0,s=r||0,a=S(t);s<a;s++){var u=t[s];if(k(u)&&(m.isArray(u)||m.isArguments(u))){e||(u=O(u,e,n));var c=0,l=u.length;for(i.length+=l;c<l;)i[o++]=u[c++]}else n||(i[o++]=u)}return i};function C(t){return function(e,n,r){n=b(n,r);for(var i=S(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function I(t,e,n){return function(r,i,o){var s=0,a=S(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!==i)return(o=e(c.call(r,s,a),m.isNaN))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(r[o]===i)return o;return-1}}m.flatten=function(t,e){return O(t,e,!1)},m.without=function(t){return m.difference(t,c.call(arguments,1))},m.uniq=m.unique=function(t,e,n,r){m.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=b(n,r));for(var i=[],o=[],s=0,a=S(t);s<a;s++){var u=t[s],c=n?n(u,s,t):u;e?(s&&o===c||i.push(u),o=c):n?m.contains(o,c)||(o.push(c),i.push(u)):m.contains(i,u)||i.push(u)}return i},m.union=function(){return m.uniq(O(arguments,!0,!0))},m.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=S(t);r<i;r++){var o=t[r];if(!m.contains(e,o)){for(var s=1;s<n&&m.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},m.difference=function(t){var e=O(arguments,!0,!0,1);return m.filter(t,(function(t){return!m.contains(e,t)}))},m.zip=function(){return m.unzip(arguments)},m.unzip=function(t){for(var e=t&&m.max(t,S).length||0,n=Array(e),r=0;r<e;r++)n[r]=m.pluck(t,r);return n},m.object=function(t,e){for(var n={},r=0,i=S(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},m.findIndex=C(1),m.findLastIndex=C(-1),m.sortedIndex=function(t,e,n,r){for(var i=(n=b(n,r,1))(e),o=0,s=S(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o},m.indexOf=I(1,m.findIndex,m.sortedIndex),m.lastIndexOf=I(-1,m.findLastIndex),m.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i};var N=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=w(t.prototype),s=t.apply(o,i);return m.isObject(s)?s:o};m.bind=function(t,e){if(d&&t.bind===d)return d.apply(t,c.call(arguments,1));if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return N(t,r,e,this,n.concat(c.call(arguments)))};return r},m.partial=function(t){var e=c.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===m?arguments[r++]:e[s];for(;r<arguments.length;)o.push(arguments[r++]);return N(t,n,this,this,o)};return n},m.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)t[n=arguments[e]]=m.bind(t[n],t);return t},m.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return m.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=function(t,e){var n=c.call(arguments,2);return setTimeout((function(){return t.apply(null,n)}),e)},m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=!1===n.leading?0:m.now(),s=null,o=t.apply(r,i),s||(r=i=null)};return function(){var c=m.now();a||!1!==n.leading||(a=c);var l=e-(c-a);return r=this,i=arguments,l<=0||l>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(r,i),s||(r=i=null)):s||!1===n.trailing||(s=setTimeout(u,l)),o}},m.debounce=function(t,e,n){var r,i,o,s,a,u=function(){var c=m.now()-s;c<e&&c>=0?r=setTimeout(u,e-c):(r=null,n||(a=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=m.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(a=t.apply(o,i),o=i=null),a}},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},m.once=m.partial(m.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function P(t,e){var n=R.length,r=t.constructor,i=m.isFunction(r)&&r.prototype||s,o="constructor";for(m.has(t,o)&&!m.contains(e,o)&&e.push(o);n--;)(o=R[n])in t&&t[o]!==i[o]&&!m.contains(e,o)&&e.push(o)}m.keys=function(t){if(!m.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)m.has(t,n)&&e.push(n);return A&&P(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var n in t)e.push(n);return A&&P(t,e),e},m.values=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},m.mapObject=function(t,e,n){e=b(e,n);for(var r,i=m.keys(t),o=i.length,s={},a=0;a<o;a++)s[r=i[a]]=e(t[r],r,t);return s},m.pairs=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},m.invert=function(t){for(var e={},n=m.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(t,e,n){e=b(e,n);for(var r,i=m.keys(t),o=0,s=i.length;o<s;o++)if(e(t[r=i[o]],r,t))return r},m.pick=function(t,e,n){var r,i,o={},s=t;if(null==s)return o;m.isFunction(e)?(i=m.allKeys(s),r=y(e,n)):(i=O(arguments,!1,!1,1),r=function(t,e,n){return e in n},s=Object(s));for(var a=0,u=i.length;a<u;a++){var c=i[a],l=s[c];r(l,c,s)&&(o[c]=l)}return o},m.omit=function(t,e,n){if(m.isFunction(e))e=m.negate(e);else{var r=m.map(O(arguments,!1,!1,1),String);e=function(t,e){return!m.contains(r,e)}}return m.pick(t,e,n)},m.defaults=_(m.allKeys,!0),m.create=function(t,e){var n=w(t);return e&&m.extendOwn(n,e),n},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var n=m.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var D=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var i=l.call(t);if(i!==l.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(m.isFunction(s)&&s instanceof s&&m.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),o){if((u=t.length)!==e.length)return!1;for(;u--;)if(!D(t[u],e[u],n,r))return!1}else{var c,f=m.keys(t);if(u=f.length,m.keys(e).length!==u)return!1;for(;u--;)if(c=f[u],!m.has(e,c)||!D(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};m.isEqual=function(t,e){return D(t,e)},m.isEmpty=function(t){return null==t||(k(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=h||function(t){return"[object Array]"===l.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(t){m["is"+t]=function(e){return l.call(e)==="[object "+t+"]"}})),m.isArguments(arguments)||(m.isArguments=function(t){return m.has(t,"callee")}),"object"!=typeof Int8Array&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&t!==+t},m.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===l.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){return null!=t&&f.call(t,e)},m.noConflict=function(){return n._=i,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=x,m.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,n){var r=Array(Math.max(0,t));e=y(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=m.invert(j),B=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};m.escape=B(j),m.unescape=B(L),m.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),m.isFunction(r)?r.call(t):r};var U=0;m.uniqueId=function(t){var e=++U+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,z=function(t){return"\\"+V[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var r=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(e,n,r,s,a){return o+=t.slice(i,a).replace(H,z),i=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e})),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(c){throw c.source=o,c}var a=function(t){return s.call(this,t,m)},u=e.variable||"obj";return a.source="function("+u+"){\n"+o+"}",a},m.chain=function(t){var e=m(t);return e._chain=!0,e};var W=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){m.each(m.functions(t),(function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),W(this,n.apply(m,t))}}))},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=o[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}})),m.each(["concat","join","slice"],(function(t){var e=o[t];m.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}})),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},void 0===(r=function(){return m}.apply(e,[]))||(t.exports=r)}).call(this)},,function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(5))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(20),i=r.getGlobalObject(),o=new(function(){function t(){this.enabled=!1}return t.prototype.disable=function(){this.enabled=!1},t.prototype.enable=function(){this.enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&r.consoleSandbox((function(){i.console.log("Sentry Logger [Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&r.consoleSandbox((function(){i.console.warn("Sentry Logger [Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&r.consoleSandbox((function(){i.console.error("Sentry Logger [Error]: "+t.join(" "))}))},t}());e.logger=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(72);e.addGlobalEventProcessor=r.addGlobalEventProcessor,e.Scope=r.Scope;var i=n(135);e.getCurrentHub=i.getCurrentHub,e.getHubFromCarrier=i.getHubFromCarrier,e.getMainCarrier=i.getMainCarrier,e.Hub=i.Hub,e.setHubOnCarrier=i.setHubOnCarrier},function(t,e,n){(function(t){t.exports=function(){"use strict";var e,n;function r(){return e.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)a(e,n)&&(t[n]=e[n]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,r){return fe(t,e,n,r,!0).utc()}function l(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}function f(t){if(null==t._isValid){var e=l(t),r=n.call(e.parsedDateParts,(function(t){return null!=t}));t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=c(NaN);return null!=t?u(l(e),t):l(e).userInvalidated=!0,e}function p(t){return void 0===t}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var d=r.momentProperties=[];function g(t,e){var n,r,i;if(p(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),p(e._i)||(t._i=e._i),p(e._f)||(t._f=e._f),p(e._l)||(t._l=e._l),p(e._strict)||(t._strict=e._strict),p(e._tzm)||(t._tzm=e._tzm),p(e._isUTC)||(t._isUTC=e._isUTC),p(e._offset)||(t._offset=e._offset),p(e._pf)||(t._pf=l(e)),p(e._locale)||(t._locale=e._locale),d.length>0)for(n in d)p(i=e[r=d[n]])||(t[r]=i);return t}var v=!1;function m(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function y(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t):Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function w(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&_(t[r])!==_(e[r]))&&s++;return s+o}function x(t){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,e){var n=!0;return u((function(){return null!=r.deprecationHandler&&r.deprecationHandler(null,t),n&&(x(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)}),e)}var S,k={};function M(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),k[t]||(x(e),k[t]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t){return"[object Object]"===Object.prototype.toString.call(t)}function C(t,e){var n,r=u({},t);for(n in e)a(e,n)&&(O(t[n])&&O(e[n])?(r[n]={},u(r[n],t[n]),u(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);return r}function I(t){null!=t&&this.set(t)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)a(t,e)&&n.push(e);return n};var N,A={};function R(t){return t?t.toLowerCase().replace("_","-"):t}function P(e){var n=null;if(!A[e]&&"undefined"!==typeof t&&t&&t.exports)try{n=N._abbr,function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),D(n)}catch(r){}return A[e]}function D(t,e){var n;return t&&(n=p(e)?L(t):j(t,e))&&(N=n),N._abbr}function j(t,e){return null!==e?(e.abbr=t,null!=A[t]?(M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=C(A[t]._config,e)):null!=e.parentLocale&&(null!=A[e.parentLocale]?e=C(A[e.parentLocale]._config,e):M("parentLocaleUndefined","specified parentLocale is not defined yet")),A[t]=new I(e),D(t),A[t]):(delete A[t],null)}function L(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return N;if(!i(t)){if(e=P(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=R(t[o]).split("-")).length,n=(n=R(t[o+1]))?n.split("-"):null;e>0;){if(r=P(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&w(i,n,!0)>=e-1)break;e--}o++}return null}(t)}var B={};function U(t,e){var n=t.toLowerCase();B[n]=B[n+"s"]=B[e]=t}function F(t){return"string"===typeof t?B[t]||B[t.toLowerCase()]:void 0}function V(t){var e,n,r={};for(n in t)a(t,n)&&(e=F(n))&&(r[e]=t[n]);return r}function H(t,e){return function(n){return null!=n?(W(this,t,n),r.updateOffset(this,e),this):z(this,t)}}function z(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function W(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function Y(t,e){var n;if("object"===typeof t)for(n in t)this.set(n,t[n]);else if(T(this[t=F(t)]))return this[t](e);return this}function q(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var G=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,K={},X={};function J(t,e,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),t&&(X[t]=i),e&&(X[e[0]]=function(){return q(i.apply(this,arguments),e[1],e[2])}),n&&(X[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function Z(t,e){return t.isValid()?(e=Q(e,t.localeData()),K[e]=K[e]||function(t){var e,n,r,i=t.match(G);for(e=0,n=i.length;e<n;e++)X[i[e]]?i[e]=X[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}(e),K[e](t)):t.localeData().invalidDate()}function Q(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for($.lastIndex=0;n>=0&&$.test(t);)t=t.replace($,r),$.lastIndex=0,n-=1;return t}var tt=/\d/,et=/\d\d/,nt=/\d{3}/,rt=/\d{4}/,it=/[+-]?\d{6}/,ot=/\d\d?/,st=/\d\d\d\d?/,at=/\d\d\d\d\d\d?/,ut=/\d{1,3}/,ct=/\d{1,4}/,lt=/[+-]?\d{1,6}/,ft=/\d+/,ht=/[+-]?\d+/,pt=/Z|[+-]\d\d:?\d\d/gi,dt=/Z|[+-]\d\d(?::?\d\d)?/gi,gt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,vt={};function mt(t,e,n){vt[t]=T(e)?e:function(t,r){return t&&n?n:e}}function yt(t,e){return a(vt,t)?vt[t](e._strict,e._locale):new RegExp(bt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function bt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var _t={};function wt(t,e){var n,r=e;for("string"===typeof t&&(t=[t]),"number"===typeof e&&(r=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)_t[t[n]]=r}function xt(t,e){wt(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function Et(t,e,n){null!=e&&a(_t,t)&&_t[t](e,n._a,n,t)}var St,kt=0,Mt=1,Tt=2,Ot=3,Ct=4,It=5,Nt=6,At=7,Rt=8;function Pt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}St=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},J("M",["MM",2],"Mo",(function(){return this.month()+1})),J("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),J("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),U("month","M"),mt("M",ot),mt("MM",ot,et),mt("MMM",(function(t,e){return e.monthsShortRegex(t)})),mt("MMMM",(function(t,e){return e.monthsRegex(t)})),wt(["M","MM"],(function(t,e){e[Mt]=_(t)-1})),wt(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[Mt]=i:l(n).invalidMonth=t}));var Dt=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,jt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Lt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Bt(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=St.call(this._shortMonthsParse,s))?i:null:-1!==(i=St.call(this._longMonthsParse,s))?i:null:"MMM"===e?-1!==(i=St.call(this._shortMonthsParse,s))?i:-1!==(i=St.call(this._longMonthsParse,s))?i:null:-1!==(i=St.call(this._longMonthsParse,s))?i:-1!==(i=St.call(this._shortMonthsParse,s))?i:null}function Ut(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=_(e);else if("number"!==typeof(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Pt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Ft(t){return null!=t?(Ut(this,t),r.updateOffset(this,!0),this):z(this,"Month")}var Vt=gt,Ht=gt;function zt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=c([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=bt(r[e]),i[e]=bt(i[e]),o[e]=bt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Wt(t){var e,n=t._a;return n&&-2===l(t).overflow&&(e=n[Mt]<0||n[Mt]>11?Mt:n[Tt]<1||n[Tt]>Pt(n[kt],n[Mt])?Tt:n[Ot]<0||n[Ot]>24||24===n[Ot]&&(0!==n[Ct]||0!==n[It]||0!==n[Nt])?Ot:n[Ct]<0||n[Ct]>59?Ct:n[It]<0||n[It]>59?It:n[Nt]<0||n[Nt]>999?Nt:-1,l(t)._overflowDayOfYear&&(e<kt||e>Tt)&&(e=Tt),l(t)._overflowWeeks&&-1===e&&(e=At),l(t)._overflowWeekday&&-1===e&&(e=Rt),l(t).overflow=e),t}var Yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,qt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Gt=/Z|[+-]\d\d(?::?\d\d)?/,$t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Kt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xt=/^\/?Date\((\-?\d+)/i;function Jt(t){var e,n,r,i,o,s,a=t._i,u=Yt.exec(a)||qt.exec(a);if(u){for(l(t).iso=!0,e=0,n=$t.length;e<n;e++)if($t[e][1].exec(u[1])){i=$t[e][0],r=!1!==$t[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=Kt.length;e<n;e++)if(Kt[e][1].exec(u[3])){o=(u[2]||" ")+Kt[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Gt.exec(u[4]))return void(t._isValid=!1);s="Z"}t._f=i+(o||"")+(s||""),ce(t)}else t._isValid=!1}function Zt(t,e,n,r,i,o,s){var a=new Date(t,e,n,r,i,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function Qt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function te(t){return ee(t)?366:365}function ee(t){return t%4===0&&t%100!==0||t%400===0}r.createFromInputFallback=E("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),J("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),J(0,["YY",2],0,(function(){return this.year()%100})),J(0,["YYYY",4],0,"year"),J(0,["YYYYY",5],0,"year"),J(0,["YYYYYY",6,!0],0,"year"),U("year","y"),mt("Y",ht),mt("YY",ot,et),mt("YYYY",ct,rt),mt("YYYYY",lt,it),mt("YYYYYY",lt,it),wt(["YYYYY","YYYYYY"],kt),wt("YYYY",(function(t,e){e[kt]=2===t.length?r.parseTwoDigitYear(t):_(t)})),wt("YY",(function(t,e){e[kt]=r.parseTwoDigitYear(t)})),wt("Y",(function(t,e){e[kt]=parseInt(t,10)})),r.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var ne=H("FullYear",!0);function re(t,e,n){var r=7+e-n;return-(7+Qt(t,0,r).getUTCDay()-e)%7+r-1}function ie(t,e,n,r,i){var o,s,a=1+7*(e-1)+(7+n-r)%7+re(t,r,i);return a<=0?s=te(o=t-1)+a:a>te(t)?(o=t+1,s=a-te(t)):(o=t,s=a),{year:o,dayOfYear:s}}function oe(t,e,n){var r,i,o=re(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?r=s+se(i=t.year()-1,e,n):s>se(t.year(),e,n)?(r=s-se(t.year(),e,n),i=t.year()+1):(i=t.year(),r=s),{week:r,year:i}}function se(t,e,n){var r=re(t,e,n),i=re(t+1,e,n);return(te(t)-r+i)/7}function ae(t,e,n){return null!=t?t:null!=e?e:n}function ue(t){var e,n,i,o,s=[];if(!t._d){for(i=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[Tt]&&null==t._a[Mt]&&function(t){var e,n,r,i,o,s,a,u;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,s=4,n=ae(e.GG,t._a[kt],oe(he(),1,4).year),r=ae(e.W,1),((i=ae(e.E,1))<1||i>7)&&(u=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,n=ae(e.gg,t._a[kt],oe(he(),o,s).year),r=ae(e.w,1),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o),r<1||r>se(n,o,s)?l(t)._overflowWeeks=!0:null!=u?l(t)._overflowWeekday=!0:(a=ie(n,r,i,o,s),t._a[kt]=a.year,t._dayOfYear=a.dayOfYear)}(t),t._dayOfYear&&(o=ae(t._a[kt],i[kt]),t._dayOfYear>te(o)&&(l(t)._overflowDayOfYear=!0),n=Qt(o,0,t._dayOfYear),t._a[Mt]=n.getUTCMonth(),t._a[Tt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Ot]&&0===t._a[Ct]&&0===t._a[It]&&0===t._a[Nt]&&(t._nextDay=!0,t._a[Ot]=0),t._d=(t._useUTC?Qt:Zt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ot]=24)}}function ce(t){if(t._f!==r.ISO_8601){t._a=[],l(t).empty=!0;var e,n,i,o,s,a=""+t._i,u=a.length,c=0;for(i=Q(t._f,t._locale).match(G)||[],e=0;e<i.length;e++)o=i[e],(n=(a.match(yt(o,t))||[])[0])&&((s=a.substr(0,a.indexOf(n))).length>0&&l(t).unusedInput.push(s),a=a.slice(a.indexOf(n)+n.length),c+=n.length),X[o]?(n?l(t).empty=!1:l(t).unusedTokens.push(o),Et(o,n,t)):t._strict&&!n&&l(t).unusedTokens.push(o);l(t).charsLeftOver=u-c,a.length>0&&l(t).unusedInput.push(a),!0===l(t).bigHour&&t._a[Ot]<=12&&t._a[Ot]>0&&(l(t).bigHour=void 0),l(t).parsedDateParts=t._a.slice(0),l(t).meridiem=t._meridiem,t._a[Ot]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[Ot],t._meridiem),ue(t),Wt(t)}else Jt(t)}function le(t){var e=t._i,n=t._f;return t._locale=t._locale||L(t._l),null===e||void 0===n&&""===e?h({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),y(e)?new m(Wt(e)):(i(n)?function(t){var e,n,r,i,o;if(0===t._f.length)return l(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ce(e),f(e)&&(o+=l(e).charsLeftOver,o+=10*l(e).unusedTokens.length,l(e).score=o,(null==r||o<r)&&(r=o,n=e));u(t,n||e)}(t):n?ce(t):o(e)?t._d=e:function(t){var e=t._i;void 0===e?t._d=new Date(r.now()):o(e)?t._d=new Date(e.valueOf()):"string"===typeof e?function(t){var e=Xt.exec(t._i);null===e?(Jt(t),!1===t._isValid&&(delete t._isValid,r.createFromInputFallback(t))):t._d=new Date(+e[1])}(t):i(e)?(t._a=s(e.slice(0),(function(t){return parseInt(t,10)})),ue(t)):"object"===typeof e?function(t){if(!t._d){var e=V(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ue(t)}}(t):"number"===typeof e?t._d=new Date(e):r.createFromInputFallback(t)}(t),f(t)||(t._d=null),t))}function fe(t,e,n,r,i){var o={};return"boolean"===typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,function(t){var e=new m(Wt(le(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}(o)}function he(t,e,n,r){return fe(t,e,n,r,!1)}r.ISO_8601=function(){};var pe=E("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",(function(){var t=he.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:h()})),de=E("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",(function(){var t=he.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:h()}));function ge(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return he();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function ve(t){var e=V(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,u=e.minute||0,c=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=L(),this._bubble()}function me(t){return t instanceof ve}function ye(t,e){J(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+q(~~(t/60),2)+e+q(~~t%60,2)}))}ye("Z",":"),ye("ZZ",""),mt("Z",dt),mt("ZZ",dt),wt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=_e(dt,t)}));var be=/([\+\-]|\d\d)/gi;function _e(t,e){var n=(e||"").match(t)||[],r=((n[n.length-1]||[])+"").match(be)||["-",0,0],i=60*r[1]+_(r[2]);return"+"===r[0]?i:-i}function we(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(y(t)||o(t)?t.valueOf():he(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):he(t).local()}function xe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ee(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Se=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,ke=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Me(t,e){var n,r,i,o=t,s=null;return me(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"===typeof t?(o={},e?o[e]=t:o.milliseconds=t):(s=Se.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:_(s[Tt])*n,h:_(s[Ot])*n,m:_(s[Ct])*n,s:_(s[It])*n,ms:_(s[Nt])*n}):(s=ke.exec(t))?(n="-"===s[1]?-1:1,o={y:Te(s[2],n),M:Te(s[3],n),w:Te(s[4],n),d:Te(s[5],n),h:Te(s[6],n),m:Te(s[7],n),s:Te(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=function(t,e){var n;return t.isValid()&&e.isValid()?(e=we(e,t),t.isBefore(e)?n=Oe(t,e):((n=Oe(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(he(o.from),he(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new ve(o),me(t)&&a(t,"_locale")&&(r._locale=t._locale),r}function Te(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Oe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ce(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),i=n,n=r,r=i),Ne(this,Me(n="string"===typeof n?+n:n,r),t),this}}function Ne(t,e,n,i){var o=e._milliseconds,s=Ce(e._days),a=Ce(e._months);t.isValid()&&(i=null==i||i,o&&t._d.setTime(t._d.valueOf()+o*n),s&&W(t,"Date",z(t,"Date")+s*n),a&&Ut(t,z(t,"Month")+a*n),i&&r.updateOffset(t,s||a))}Me.fn=ve.prototype;var Ae=Ie(1,"add"),Re=Ie(-1,"subtract");function Pe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=L(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var De=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function je(){return this._locale}function Le(t,e){J(0,[t,t.length],0,e)}function Be(t,e,n,r,i){var o;return null==t?oe(this,r,i).year:(e>(o=se(t,r,i))&&(e=o),Ue.call(this,t,e,n,r,i))}function Ue(t,e,n,r,i){var o=ie(t,e,n,r,i),s=Qt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}J(0,["gg",2],0,(function(){return this.weekYear()%100})),J(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Le("gggg","weekYear"),Le("ggggg","weekYear"),Le("GGGG","isoWeekYear"),Le("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),mt("G",ht),mt("g",ht),mt("GG",ot,et),mt("gg",ot,et),mt("GGGG",ct,rt),mt("gggg",ct,rt),mt("GGGGG",lt,it),mt("ggggg",lt,it),xt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=_(t)})),xt(["gg","GG"],(function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)})),J("Q",0,"Qo","quarter"),U("quarter","Q"),mt("Q",tt),wt("Q",(function(t,e){e[Mt]=3*(_(t)-1)})),J("w",["ww",2],"wo","week"),J("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),mt("w",ot),mt("ww",ot,et),mt("W",ot),mt("WW",ot,et),xt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=_(t)})),J("D",["DD",2],"Do","date"),U("date","D"),mt("D",ot),mt("DD",ot,et),mt("Do",(function(t,e){return t?e._ordinalParse:e._ordinalParseLenient})),wt(["D","DD"],Tt),wt("Do",(function(t,e){e[Tt]=_(t.match(ot)[0])}));var Fe=H("Date",!0);J("d",0,"do","day"),J("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),J("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),J("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),J("e",0,0,"weekday"),J("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),mt("d",ot),mt("e",ot),mt("E",ot),mt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),mt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),mt("dddd",(function(t,e){return e.weekdaysRegex(t)})),xt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:l(n).invalidWeekday=t})),xt(["d","e","E"],(function(t,e,n,r){e[r]=_(t)}));var Ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),He="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function We(t,e,n){var r,i,o,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=St.call(this._weekdaysParse,s))?i:null:"ddd"===e?-1!==(i=St.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=St.call(this._minWeekdaysParse,s))?i:null:"dddd"===e?-1!==(i=St.call(this._weekdaysParse,s))?i:-1!==(i=St.call(this._shortWeekdaysParse,s))?i:-1!==(i=St.call(this._minWeekdaysParse,s))?i:null:"ddd"===e?-1!==(i=St.call(this._shortWeekdaysParse,s))?i:-1!==(i=St.call(this._weekdaysParse,s))?i:-1!==(i=St.call(this._minWeekdaysParse,s))?i:null:-1!==(i=St.call(this._minWeekdaysParse,s))?i:-1!==(i=St.call(this._weekdaysParse,s))?i:-1!==(i=St.call(this._shortWeekdaysParse,s))?i:null}var Ye=gt,qe=gt,Ge=gt;function $e(){function t(t,e){return e.length-t.length}var e,n,r,i,o,s=[],a=[],u=[],l=[];for(e=0;e<7;e++)n=c([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(s.sort(t),a.sort(t),u.sort(t),l.sort(t),e=0;e<7;e++)a[e]=bt(a[e]),u[e]=bt(u[e]),l[e]=bt(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ke(){return this.hours()%12||12}function Xe(t,e){J(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Je(t,e){return e._meridiemParse}J("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),mt("DDD",ut),mt("DDDD",nt),wt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=_(t)})),J("H",["HH",2],0,"hour"),J("h",["hh",2],0,Ke),J("k",["kk",2],0,(function(){return this.hours()||24})),J("hmm",0,0,(function(){return""+Ke.apply(this)+q(this.minutes(),2)})),J("hmmss",0,0,(function(){return""+Ke.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)})),J("Hmm",0,0,(function(){return""+this.hours()+q(this.minutes(),2)})),J("Hmmss",0,0,(function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)})),Xe("a",!0),Xe("A",!1),U("hour","h"),mt("a",Je),mt("A",Je),mt("H",ot),mt("h",ot),mt("HH",ot,et),mt("hh",ot,et),mt("hmm",st),mt("hmmss",at),mt("Hmm",st),mt("Hmmss",at),wt(["H","HH"],Ot),wt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),wt(["h","hh"],(function(t,e,n){e[Ot]=_(t),l(n).bigHour=!0})),wt("hmm",(function(t,e,n){var r=t.length-2;e[Ot]=_(t.substr(0,r)),e[Ct]=_(t.substr(r)),l(n).bigHour=!0})),wt("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Ot]=_(t.substr(0,r)),e[Ct]=_(t.substr(r,2)),e[It]=_(t.substr(i)),l(n).bigHour=!0})),wt("Hmm",(function(t,e,n){var r=t.length-2;e[Ot]=_(t.substr(0,r)),e[Ct]=_(t.substr(r))})),wt("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Ot]=_(t.substr(0,r)),e[Ct]=_(t.substr(r,2)),e[It]=_(t.substr(i))}));var Ze=H("Hours",!0);J("m",["mm",2],0,"minute"),U("minute","m"),mt("m",ot),mt("mm",ot,et),wt(["m","mm"],Ct);var Qe=H("Minutes",!1);J("s",["ss",2],0,"second"),U("second","s"),mt("s",ot),mt("ss",ot,et),wt(["s","ss"],It);var tn,en=H("Seconds",!1);for(J("S",0,0,(function(){return~~(this.millisecond()/100)})),J(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),J(0,["SSS",3],0,"millisecond"),J(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),J(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),J(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),J(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),J(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),J(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),U("millisecond","ms"),mt("S",ut,tt),mt("SS",ut,et),mt("SSS",ut,nt),tn="SSSS";tn.length<=9;tn+="S")mt(tn,ft);function nn(t,e){e[Nt]=_(1e3*("0."+t))}for(tn="S";tn.length<=9;tn+="S")wt(tn,nn);var rn=H("Milliseconds",!1);J("z",0,0,"zoneAbbr"),J("zz",0,0,"zoneName");var on=m.prototype;on.add=Ae,on.calendar=function(t,e){var n=t||he(),r=we(n,this).startOf("day"),i=this.diff(r,"days",!0),o=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse",s=e&&(T(e[o])?e[o]():e[o]);return this.format(s||this.localeData().calendar(o,this,he(n)))},on.clone=function(){return new m(this)},on.diff=function(t,e,n){var r,i,o,s;return this.isValid()&&(r=we(t,this)).isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),"year"===(e=F(e))||"month"===e||"quarter"===e?(s=function(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return e-o<0?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)||0}(this,r),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-r,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-i)/864e5:"week"===e?(o-i)/6048e5:o),n?s:b(s)):NaN},on.endOf=function(t){return void 0===(t=F(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},on.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=Z(this,t);return this.localeData().postformat(e)},on.from=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||he(t).isValid())?Me({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},on.fromNow=function(t){return this.from(he(),t)},on.to=function(t,e){return this.isValid()&&(y(t)&&t.isValid()||he(t).isValid())?Me({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},on.toNow=function(t){return this.to(he(),t)},on.get=Y,on.invalidAt=function(){return l(this).overflow},on.isAfter=function(t,e){var n=y(t)?t:he(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(p(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},on.isBefore=function(t,e){var n=y(t)?t:he(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(p(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},on.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},on.isSame=function(t,e){var n,r=y(t)?t:he(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=F(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},on.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},on.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},on.isValid=function(){return f(this)},on.lang=De,on.locale=Pe,on.localeData=je,on.max=de,on.min=pe,on.parsingFlags=function(){return u({},l(this))},on.set=Y,on.startOf=function(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},on.subtract=Re,on.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},on.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},on.toDate=function(){return this._offset?new Date(this.valueOf()):this._d},on.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?T(Date.prototype.toISOString)?this.toDate().toISOString():Z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},on.toJSON=function(){return this.isValid()?this.toISOString():null},on.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},on.unix=function(){return Math.floor(this.valueOf()/1e3)},on.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},on.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},on.year=ne,on.isLeapYear=function(){return ee(this.year())},on.weekYear=function(t){return Be.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},on.isoWeekYear=function(t){return Be.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},on.quarter=on.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},on.month=Ft,on.daysInMonth=function(){return Pt(this.year(),this.month())},on.week=on.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},on.isoWeek=on.isoWeeks=function(t){var e=oe(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},on.weeksInYear=function(){var t=this.localeData()._week;return se(this.year(),t.dow,t.doy)},on.isoWeeksInYear=function(){return se(this.year(),1,4)},on.date=Fe,on.day=on.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!==typeof t?t:isNaN(t)?"number"===typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},on.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},on.isoWeekday=function(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN},on.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},on.hour=on.hours=Ze,on.minute=on.minutes=Qe,on.second=on.seconds=en,on.millisecond=on.milliseconds=rn,on.utcOffset=function(t,e){var n,i=this._offset||0;return this.isValid()?null!=t?("string"===typeof t?t=_e(dt,t):Math.abs(t)<16&&(t*=60),!this._isUTC&&e&&(n=xe(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?Ne(this,Me(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:xe(this):null!=t?this:NaN},on.utc=function(t){return this.utcOffset(0,t)},on.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(xe(this),"m")),this},on.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"===typeof this._i&&this.utcOffset(_e(pt,this._i)),this},on.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?he(t).utcOffset():0,(this.utcOffset()-t)%60===0)},on.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},on.isDSTShifted=function(){if(!p(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),(t=le(t))._a){var e=t._isUTC?c(t._a):he(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},on.isLocal=function(){return!!this.isValid()&&!this._isUTC},on.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},on.isUtc=Ee,on.isUTC=Ee,on.zoneAbbr=function(){return this._isUTC?"UTC":""},on.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},on.dates=E("dates accessor is deprecated. Use date instead.",Fe),on.months=E("months accessor is deprecated. Use month instead",Ft),on.years=E("years accessor is deprecated. Use year instead",ne),on.zone=E("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",(function(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}));var sn=on;function an(t){return t}var un=I.prototype;function cn(t,e,n,r){var i=L(),o=c().set(r,e);return i[n](o,t)}function ln(t,e,n){if("number"===typeof t&&(e=t,t=void 0),t=t||"",null!=e)return cn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=cn(t,r,n,"month");return i}function fn(t,e,n,r){"boolean"===typeof t?("number"===typeof e&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,"number"===typeof e&&(n=e,e=void 0),e=e||"");var i,o=L(),s=t?o._week.dow:0;if(null!=n)return cn(e,(n+s)%7,r,"day");var a=[];for(i=0;i<7;i++)a[i]=cn(e,(i+s)%7,r,"day");return a}un._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},un.calendar=function(t,e,n){var r=this._calendar[t];return T(r)?r.call(e,n):r},un._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},un.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},un._invalidDate="Invalid date",un.invalidDate=function(){return this._invalidDate},un._ordinal="%d",un.ordinal=function(t){return this._ordinal.replace("%d",t)},un._ordinalParse=/\d{1,2}/,un.preparse=an,un.postformat=an,un._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},un.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return T(i)?i(t,e,n,r):i.replace(/%d/i,t)},un.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)},un.set=function(t){var e,n;for(n in t)T(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},un.months=function(t,e){return i(this._months)?this._months[t.month()]:this._months[Dt.test(e)?"format":"standalone"][t.month()]},un._months=jt,un.monthsShort=function(t,e){return i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Dt.test(e)?"format":"standalone"][t.month()]},un._monthsShort=Lt,un.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return Bt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},un._monthsRegex=Ht,un.monthsRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||zt.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex},un._monthsShortRegex=Vt,un.monthsShortRegex=function(t){return this._monthsParseExact?(a(this,"_monthsRegex")||zt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex},un.week=function(t){return oe(t,this._week.dow,this._week.doy).week},un._week={dow:0,doy:6},un.firstDayOfYear=function(){return this._week.doy},un.firstDayOfWeek=function(){return this._week.dow},un.weekdays=function(t,e){return i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]},un._weekdays=Ve,un.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},un._weekdaysMin=ze,un.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},un._weekdaysShort=He,un.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return We.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},un._weekdaysRegex=Ye,un.weekdaysRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$e.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex},un._weekdaysShortRegex=qe,un.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$e.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex},un._weekdaysMinRegex=Ge,un.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||$e.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex},un.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},un._meridiemParse=/[ap]\.?m?\.?/i,un.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},D("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",D),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",L);var hn=Math.abs;function pn(t,e,n,r){var i=Me(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function dn(t){return t<0?Math.floor(t):Math.ceil(t)}function gn(t){return 4800*t/146097}function vn(t){return 146097*t/4800}function mn(t){return function(){return this.as(t)}}var yn=mn("ms"),bn=mn("s"),_n=mn("m"),wn=mn("h"),xn=mn("d"),En=mn("w"),Sn=mn("M"),kn=mn("y");function Mn(t){return function(){return this._data[t]}}var Tn=Mn("milliseconds"),On=Mn("seconds"),Cn=Mn("minutes"),In=Mn("hours"),Nn=Mn("days"),An=Mn("months"),Rn=Mn("years"),Pn=Math.round,Dn={s:45,m:45,h:22,d:26,M:11};function jn(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}var Ln=Math.abs;function Bn(){var t,e,n=Ln(this._milliseconds)/1e3,r=Ln(this._days),i=Ln(this._months);t=b(n/60),e=b(t/60),n%=60,t%=60;var o=b(i/12),s=i%=12,a=r,u=e,c=t,l=n,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(a?a+"D":"")+(u||c||l?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(l?l+"S":""):"P0D"}var Un=ve.prototype;return Un.abs=function(){var t=this._data;return this._milliseconds=hn(this._milliseconds),this._days=hn(this._days),this._months=hn(this._months),t.milliseconds=hn(t.milliseconds),t.seconds=hn(t.seconds),t.minutes=hn(t.minutes),t.hours=hn(t.hours),t.months=hn(t.months),t.years=hn(t.years),this},Un.add=function(t,e){return pn(this,t,e,1)},Un.subtract=function(t,e){return pn(this,t,e,-1)},Un.as=function(t){var e,n,r=this._milliseconds;if("month"===(t=F(t))||"year"===t)return e=this._days+r/864e5,n=this._months+gn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(vn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Un.asMilliseconds=yn,Un.asSeconds=bn,Un.asMinutes=_n,Un.asHours=wn,Un.asDays=xn,Un.asWeeks=En,Un.asMonths=Sn,Un.asYears=kn,Un.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)},Un._bubble=function(){var t,e,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*dn(vn(a)+s),s=0,a=0),u.milliseconds=o%1e3,t=b(o/1e3),u.seconds=t%60,e=b(t/60),u.minutes=e%60,n=b(e/60),u.hours=n%24,s+=b(n/24),i=b(gn(s)),a+=i,s-=dn(vn(i)),r=b(a/12),a%=12,u.days=s,u.months=a,u.years=r,this},Un.get=function(t){return this[(t=F(t))+"s"]()},Un.milliseconds=Tn,Un.seconds=On,Un.minutes=Cn,Un.hours=In,Un.days=Nn,Un.weeks=function(){return b(this.days()/7)},Un.months=An,Un.years=Rn,Un.humanize=function(t){var e=this.localeData(),n=function(t,e,n){var r=Me(t).abs(),i=Pn(r.as("s")),o=Pn(r.as("m")),s=Pn(r.as("h")),a=Pn(r.as("d")),u=Pn(r.as("M")),c=Pn(r.as("y")),l=i<Dn.s&&["s",i]||o<=1&&["m"]||o<Dn.m&&["mm",o]||s<=1&&["h"]||s<Dn.h&&["hh",s]||a<=1&&["d"]||a<Dn.d&&["dd",a]||u<=1&&["M"]||u<Dn.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=e,l[3]=+t>0,l[4]=n,jn.apply(null,l)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Un.toISOString=Bn,Un.toString=Bn,Un.toJSON=Bn,Un.locale=Pe,Un.localeData=je,Un.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bn),Un.lang=De,J("X",0,0,"unix"),J("x",0,0,"valueOf"),mt("x",ht),mt("X",/[+-]?\d+(\.\d{1,3})?/),wt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),wt("x",(function(t,e,n){n._d=new Date(_(t))})),r.version="2.13.0",e=he,r.fn=sn,r.min=function(){return ge("isBefore",[].slice.call(arguments,0))},r.max=function(){return ge("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=c,r.unix=function(t){return he(1e3*t)},r.months=function(t,e){return ln(t,e,"months")},r.isDate=o,r.locale=D,r.invalid=h,r.duration=Me,r.isMoment=y,r.weekdays=function(t,e,n){return fn(t,e,n,"weekdays")},r.parseZone=function(){return he.apply(null,arguments).parseZone()},r.localeData=L,r.isDuration=me,r.monthsShort=function(t,e){return ln(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return fn(t,e,n,"weekdaysMin")},r.defineLocale=j,r.updateLocale=function(t,e){var n;null!=e?(null!=A[t]&&(e=C(A[t]._config,e)),(n=new I(e)).parentLocale=A[t],A[t]=n,D(t)):null!=A[t]&&(null!=A[t].parentLocale?A[t]=A[t].parentLocale:null!=A[t]&&delete A[t]);return A[t]},r.locales=function(){return S(A)},r.weekdaysShort=function(t,e,n){return fn(t,e,n,"weekdaysShort")},r.normalizeUnits=F,r.relativeTimeThreshold=function(t,e){return void 0!==Dn[t]&&(void 0===e?Dn[t]:(Dn[t]=e,!0))},r.prototype=sn,r}()}).call(this,n(44)(t))},function(t,e,n){"use strict";var r=n(3),i=n(45);t.exports=i.extend({app:null,name:null,bootstrap:!1,trace:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";r.trace("[modules]->[".concat(this.name,"] ").concat(t),e)},log:function(t){this.trace(t,"log")},info:function(t){this.trace(t,"info")},warning:function(t){this.trace(t,"warn")}})},function(t,e,n){"use strict";t.exports={isURI:function(t){return t&&t.protocol&&t.host&&t.path},isSameOrigin:function(t){return t.protocol===location.protocol&&t.hostname===location.hostname&&t.port===location.port},parse:function(t){if("string"!==typeof t)return t;var e,n,r,i,o,s,a={},u=function(e,n){t=t.replace(n,(function(t){return a[e]=t,""})),a[e]=a[e]||""};for(u("protocol",/^[a-z]+\:/i),u("host",/^\/\/[^\/\?#]+/),/^\//.test(t)||a.host||(t=location.pathname.replace(/[^\/]*$/,"")+t),u("pathname",/^[^\?#]*/),u("search",/^\?[^#]*/),u("hash",/^#.*/),a.protocol=a.protocol||location.protocol,a.host?(a.host=a.host.substr(2),e=a.host.split(":"),a.hostname=e[0],a.port=e[1]||""):(a.host=location.host,a.hostname=location.hostname,a.port=location.port),a.pathname=a.pathname||"/",a.path=a.pathname+a.search,s={},i=0,o=(r=(n=a.search.replace(/^\?/,""))?n.split("&"):[]).length;i<o;i++)e=r[i].split("="),s[decodeURIComponent(e[0]||"")]=decodeURIComponent(e[1]||"");return a.query=s,a.href=this.stringify(a),a},stringify:function(t){var e=t.protocol+"//"+t.hostname;return t.port&&(e+=":"+t.port),e+=t.pathname+this.queryString(t.query)+(t.hash||"")},queryString:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return 0===e.length?"":"?"+e.join("&")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isError=function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},e.isErrorEvent=function(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)},e.isDOMError=function(t){return"[object DOMError]"===Object.prototype.toString.call(t)},e.isDOMException=function(t){return"[object DOMException]"===Object.prototype.toString.call(t)},e.isUndefined=function(t){return void 0===t},e.isFunction=function(t){return"function"===typeof t},e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.isPrimitive=function(t){return null===t||"object"!==typeof t&&"function"!==typeof t},e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isPlainObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isNaN=function(t){return t!==t}},function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0});var i=n(19);function o(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof t?t:0)}function s(){return o()?r:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}}function a(t){var e,n,r,o,s,a=[];if(!t||!t.tagName)return"";if(a.push(t.tagName.toLowerCase()),t.id&&a.push("#"+t.id),(e=t.className)&&i.isString(e))for(n=e.split(/\s+/),s=0;s<n.length;s++)a.push("."+n[s]);var u=["type","name","title","alt"];for(s=0;s<u.length;s++)r=u[s],(o=t.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}e.dynamicRequire=function(t,e){return t.require(e)},e.isNodeEnv=o,e.getGlobalObject=s,e.uuid4=function(){var t=s(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},e.htmlTreeAsString=function(t){for(var e,n=t,r=[],i=0,o=0,s=" > ".length;n&&i++<5&&!("html"===(e=a(n))||i>1&&o+r.length*s+e.length>=80);)r.push(e),o+=e.length,n=n.parentNode;return r.reverse().join(" > ")},e.htmlElementAsString=a,e.parseUrl=function(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}},e.getEventDescription=function(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"},e.consoleSandbox=function(t){var e=s();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log"].forEach((function(t){t in e.console&&n[t].__sentry__&&(r[t]=n[t].__sentry_wrapped__,n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),i}}).call(this,n(36),n(5))},,function(t,e,n){"use strict";(function(e){var r=n(10),i=n(85).Cookie,o=n(40),s=n(18),a=n(49),u=n(8),c=n(30),l=n(287),f=n(83),h=u(r({className:"Transport",DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},MAX_DELAY:0,batching:!0,initialize:function(t,e){this._dispatcher=t,this.endpoint=e,this._outbox=[],this._proxy=u({},this._dispatcher.proxy),this._proxy.origin||(this._proxy.origin=this._findProxy())},close:function(){},encode:function(t){return""},sendMessage:function(t){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,s.stringify(this.endpoint),t),this.batching?(this._outbox.push(t),this._flushLargeBatch(),t.channel===f.HANDSHAKE?this._publish(.01):(t.channel===f.CONNECT&&(this._connectMessage=t),this._publish(this.MAX_DELAY))):o.resolve(this.request([t]))},_makePromise:function(){var t=this;this._requestPromise=this._requestPromise||new o((function(e){t._resolvePromise=e}))},_publish:function(t){return this._makePromise(),this.addTimeout("publish",t,(function(){this._flush(),delete this._requestPromise}),this),this._requestPromise},_flush:function(){this.removeTimeout("publish"),this._outbox.length>1&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),this._resolvePromise(this.request(this._outbox)),this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){if(!(this.encode(this._outbox).length<this._dispatcher.maxRequestSize)){var t=this._outbox.pop();this._makePromise(),this._flush(),t&&this._outbox.push(t)}},_receive:function(t){if(t){t=[].concat(t),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,s.stringify(this.endpoint),this.connectionType,t);for(var e=0,n=t.length;e<n;e++)this._dispatcher.handleResponse(t[e])}},_handleError:function(t,e){t=[].concat(t),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,s.stringify(this.endpoint),this.connectionType,t);for(var n=0,r=t.length;n<r;n++)this._dispatcher.handleError(t[n])},_getCookies:function(){var t=this._dispatcher.cookies,e=s.stringify(this.endpoint);return t?a.map(t.getCookiesSync(e),(function(t){return t.cookieString()})).join("; "):""},_storeCookies:function(t){var e,n=this._dispatcher.cookies,r=s.stringify(this.endpoint);if(t&&n)for(var o=0,a=(t=[].concat(t)).length;o<a;o++)e=i.parse(t[o]),n.setCookieSync(e,r)},_findProxy:function(){if("undefined"!==typeof e){var t=this.endpoint.protocol;if(t){var n,r,i=t.replace(/:$/,"").toLowerCase()+"_proxy",o=i.toUpperCase(),s=e.env;return"http_proxy"===i&&s.REQUEST_METHOD?(1===(n=Object.keys(s).filter((function(t){return/^http_proxy$/i.test(t)}))).length?n[0]===i&&void 0===s[o]&&(r=s[i]):n.length>1&&(r=s[i]),r=r||s["CGI_"+o]):(r=s[i]||s[o])&&!s[i]&&console.warn("The environment variable "+o+" is discouraged. Use "+i+"."),r}}}}),{get:function(t,e,n,r,i){var o=t.endpoint;a.asyncEach(this._transports,(function(o,s){var u=o[0],c=o[1],l=t.endpointFor(u);return a.indexOf(n,u)>=0?s():a.indexOf(e,u)<0?(c.isUsable(t,l,(function(){})),s()):void c.isUsable(t,l,(function(e){if(!e)return s();var n=c.hasOwnProperty("create")?c.create(t,l):new c(t,l);r.call(i,n)}))}),(function(){throw new Error("Could not find a usable connection type for "+s.stringify(o))}))},register:function(t,e){this._transports.push([t,e]),e.prototype.connectionType=t},getConnectionTypes:function(){return a.map(this._transports,(function(t){return t[0]}))},_transports:[]});u(h.prototype,c),u(h.prototype,l),t.exports=h}).call(this,n(36))},,,function(t,e,n){var r=n(26);t.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(19),i=n(134),o=n(46);function s(t){return JSON.stringify(t,v({normalize:!1}))}function a(t){return JSON.parse(t)}e.serialize=s,e.deserialize=a,e.clone=function(t){return a(s(t))},e.fill=function(t,e,n){if(e in t&&!t[e].__sentry__){var r=t[e],i=n(r);i.__sentry__=!0,i.__sentry_original__=r,i.__sentry_wrapped__=i,t[e]=i}},e.urlEncode=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")};var u=3,c=102400,l=40;function f(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function h(t){var e=Object.prototype.toString.call(t);return"string"===typeof t?o.truncate(t,40):"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":d(t)}function p(t,e){if(0===e)return h(t);if(r.isPlainObject(t)){var n={},i=t;return Object.keys(i).forEach((function(t){n[t]=p(i[t],e-1)})),n}return Array.isArray(t)?t.map((function(t){return p(t,e-1)})):h(t)}function d(e,n){return"domain"===n&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!==typeof t&&e===t?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":e instanceof Date?"[Date] "+e:e instanceof Error?function(t){var e={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(e):"undefined"!==typeof Event&&e instanceof Event?Object.getPrototypeOf(e)?e.constructor.name:"Event":r.isNaN(e)?"[NaN]":r.isUndefined(e)?"[undefined]":"function"===typeof e?"[Function: "+(e.name||"<unknown-function-name>")+"]":e}function g(t,e){if(void 0===e&&(e=new i.Memo),!r.isPrimitive(t)){if(e.memoize(t))return"[Circular ~]";for(var n in t)t[n]=g(t[n],e);e.unmemoize(t)}return t}function v(t){return void 0===t&&(t={normalize:!0}),function(e,n){return t.normalize?d(g(n),e):g(n)}}e.serializeObject=p,e.limitObjectDepthToSize=function t(e,n,r){void 0===n&&(n=u),void 0===r&&(r=c);var i=p(e,n);return f(s(i))>r?t(e,n-1):i},e.serializeKeysToEventMessage=function(t,e){if(void 0===e&&(e=l),!t.length)return"[object has no keys]";if(t[0].length>=e)return o.truncate(t[0],e);for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:o.truncate(r,e)}return""},e.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null===t||void 0===t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=0;i<e.length;i++){var o=e[i];if(null!==o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])}return r},e.safeNormalize=function(t){try{return JSON.parse(JSON.stringify(t,v({normalize:!0})))}catch(e){return"**non-serializable**"}}}).call(this,n(5))},,function(t,e,n){"use strict";var r=n(31),i={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(t,e){var n=i.logger||(i.wrapper||i).logger;if(n){var o=Array.prototype.slice.apply(t),s="[Faye",a=this.className,u=o.shift().replace(/\?/g,(function(){try{return r(o.shift())}catch(t){return"[Object]"}}));a&&(s+="."+a),s+="] ","function"===typeof n[e]?n[e](s+u):"function"===typeof n&&n(s+u)}}};for(var o in i.LOG_LEVELS)!function(t){i[t]=function(){this.writeLog(arguments,t)}}(o);t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return JSON.stringify(t,(function(t,e){return this[t]instanceof Array?this[t]:e}))}},function(t,e,n){"use strict";(function(e){var r=n(40);t.exports={then:function(t,e){var n=this;return this._promise||(this._promise=new r((function(t,e){n._resolve=t,n._reject=e}))),0===arguments.length?this._promise:this._promise.then(t,e)},callback:function(t,e){return this.then((function(n){t.call(e,n)}))},errback:function(t,e){return this.then(null,(function(n){t.call(e,n)}))},timeout:function(t,n){this.then();var r=this;this._timer=e.setTimeout((function(){r._reject(n)}),1e3*t)},setDeferredStatus:function(t,n){this._timer&&e.clearTimeout(this._timer),this.then(),"succeeded"===t?this._resolve(n):"failed"===t?this._reject(n):delete this._promise}}}).call(this,n(5))},function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},function(t,e,n){var r=n(25),i=n(62),o=n(57);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){(function(e,n){var r;r=function(){"use strict";function t(t){return"function"===typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,o=void 0,s=void 0,a=function(t,e){d[i]=t,d[i+1]=e,2===(i+=2)&&(s?s(g):v())},u="undefined"!==typeof window?window:void 0,c=u||{},l=c.MutationObserver||c.WebKitMutationObserver,f="undefined"===typeof self&&"undefined"!==typeof e&&"[object process]"==={}.toString.call(e),h="undefined"!==typeof Uint8ClampedArray&&"undefined"!==typeof importScripts&&"undefined"!==typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(g,1)}}var d=new Array(1e3);function g(){for(var t=0;t<i;t+=2)(0,d[t])(d[t+1]),d[t]=void 0,d[t+1]=void 0;i=0}var v=void 0;function m(t,e){var n=this,r=new this.constructor(_);void 0===r[b]&&D(r);var i=n._state;if(i){var o=arguments[i-1];a((function(){return R(i,r,o,n._result)}))}else N(n,r,t,e);return r}function y(t){if(t&&"object"===typeof t&&t.constructor===this)return t;var e=new this(_);return T(e,t),e}v=f?function(){return e.nextTick(g)}:l?function(){var t=0,e=new l(g),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():h?function(){var t=new MessageChannel;return t.port1.onmessage=g,function(){return t.port2.postMessage(0)}}():void 0===u?function(){try{var t=Function("return this")().require("vertx");return"undefined"!==typeof(o=t.runOnLoop||t.runOnContext)?function(){o(g)}:p()}catch(e){return p()}}():p();var b=Math.random().toString(36).substring(2);function _(){}var w=void 0,x=1,E=2,S={error:null};function k(t){try{return t.then}catch(e){return S.error=e,S}}function M(e,n,r){n.constructor===e.constructor&&r===m&&n.constructor.resolve===y?function(t,e){e._state===x?C(t,e._result):e._state===E?I(t,e._result):N(e,void 0,(function(e){return T(t,e)}),(function(e){return I(t,e)}))}(e,n):r===S?(I(e,S.error),S.error=null):void 0===r?C(e,n):t(r)?function(t,e,n){a((function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}(n,e,(function(n){r||(r=!0,e!==n?T(t,n):C(t,n))}),(function(e){r||(r=!0,I(t,e))}),t._label);!r&&i&&(r=!0,I(t,i))}),t)}(e,n,r):C(e,n)}function T(t,e){t===e?I(t,new TypeError("You cannot resolve a promise with itself")):function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)?M(t,e,k(e)):C(t,e)}function O(t){t._onerror&&t._onerror(t._result),A(t)}function C(t,e){t._state===w&&(t._result=e,t._state=x,0!==t._subscribers.length&&a(A,t))}function I(t,e){t._state===w&&(t._state=E,t._result=e,a(O,t))}function N(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+x]=n,i[o+E]=r,0===o&&t._state&&a(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?R(n,r,i,o):i(o);t._subscribers.length=0}}function R(e,n,r,i){var o=t(r),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if((s=function(t,e){try{return t(e)}catch(n){return S.error=n,S}}(r,i))===S?(c=!0,a=s.error,s.error=null):u=!0,n===s)return void I(n,new TypeError("A promises callback cannot return that same promise."))}else s=i,u=!0;n._state!==w||(o&&u?T(n,s):c?I(n,a):e===x?C(n,s):e===E&&I(n,s))}var P=0;function D(t){t[b]=P++,t._state=void 0,t._result=void 0,t._subscribers=[]}var j=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(_),this.promise[b]||D(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&C(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===w&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===y){var i=k(t);if(i===m&&t._state!==w)this._settledAt(t._state,e,t._result);else if("function"!==typeof i)this._remaining--,this._result[e]=t;else if(n===L){var o=new n(_);M(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===w&&(this._remaining--,t===E?I(r,n):this._result[e]=n),0===this._remaining&&C(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;N(t,void 0,(function(t){return n._settledAt(x,e,t)}),(function(t){return n._settledAt(E,e,t)}))},t}(),L=function(){function t(e){this[b]=P++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!==typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e((function(e){T(t,e)}),(function(e){I(t,e)}))}catch(n){I(t,n)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},t}();return L.prototype.then=m,L.all=function(t){return new j(this,t).promise},L.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},L.resolve=y,L.reject=function(t){var e=new this(_);return I(e,t),e},L._setScheduler=function(t){s=t},L._setAsap=function(t){a=t},L._asap=a,L.polyfill=function(){var t=void 0;if("undefined"!==typeof n)t=n;else if("undefined"!==typeof self)t=self;else try{t=Function("return this")()}catch(i){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(i){}if("[object Promise]"===r&&!e.cast)return}t.Promise=L},L.Promise=L,L},t.exports=r()}).call(this,n(36),n(5))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,Object.setPrototypeOf(r,n.prototype),r}return r.__extends(e,t),e}(Error);e.SentryError=i},,,function(t,e,n){"use strict";var r=n(82),i=function(t){return t},o=function(t){throw t},s=function(t){if(this._state=0,this._onFulfilled=[],this._onRejected=[],"function"===typeof t){var e=this;t((function(t){f(e,t)}),(function(t){p(e,t)}))}};s.prototype.then=function(t,e){var n=new s;return a(this,t,n),u(this,e,n),n},s.prototype.catch=function(t){return this.then(null,t)};var a=function(t,e,n){"function"!==typeof e&&(e=i);var r=function(t){c(e,t,n)};0===t._state?t._onFulfilled.push(r):1===t._state&&r(t._value)},u=function(t,e,n){"function"!==typeof e&&(e=o);var r=function(t){c(e,t,n)};0===t._state?t._onRejected.push(r):2===t._state&&r(t._reason)},c=function(t,e,n){r((function(){l(t,e,n)}))},l=function(t,e,n){var r;try{r=t(e)}catch(i){return p(n,i)}r===n?p(n,new TypeError("Recursive promise chain detected")):f(n,r)},f=function(t,e){var n,r,i=!1;try{if(n=typeof e,"function"!==typeof(r=null!==e&&("function"===n||"object"===n)&&e.then))return h(t,e);r.call(e,(function(e){i^(i=!0)&&f(t,e)}),(function(e){i^(i=!0)&&p(t,e)}))}catch(o){if(!(i^(i=!0)))return;p(t,o)}},h=function(t,e){if(0===t._state){t._state=1,t._value=e,t._onRejected=[];for(var n,r=t._onFulfilled;n=r.shift();)n(e)}},p=function(t,e){if(0===t._state){t._state=2,t._reason=e,t._onFulfilled=[];for(var n,r=t._onRejected;n=r.shift();)n(e)}};s.resolve=function(t){return new s((function(e,n){e(t)}))},s.reject=function(t){return new s((function(e,n){n(t)}))},s.all=function(t){return new s((function(e,n){var r,i=[],o=t.length;if(0===o)return e(i);for(r=0;r<o;r++)!function(t,r){s.resolve(t).then((function(t){i[r]=t,0===--o&&e(i)}),n)}(t[r],r)}))},s.race=function(t){return new s((function(e,n){for(var r=0,i=t.length;r<i;r++)s.resolve(t[r]).then(e,n)}))},s.deferred=s.pending=function(){var t={};return t.promise=new s((function(e,n){t.resolve=e,t.reject=n})),t},t.exports=s},function(t,e,n){var r=n(58),i=n(59);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(113),i=n(114);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.1",mode:r?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(13),i=n(34);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(11),i=n(0),o=i.Component=function(t){this.cid=r.uniqueId("c"),t&&function(t,e){for(var n in e)"undefined"!==typeof t[n]&&"function"!==typeof t[n]&&(t[n]=e[n])}(this,t),this.initialize.call(this,t)};window&&(!window.Backbone&&(window.Backbone={}),window.Backbone.Component=o),r.extend(o.prototype,i.Events,{initialize:function(){},configure:function(){}}),o.extend=i.Model.extend,t.exports=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(19);e.truncate=function(t,e){return void 0===e&&(e=0),0!==e&&r.isString(t)?t.length<=e?t:t.substr(0,e)+"...":t},e.snipLine=function(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var i=Math.max(e-60,0);i<5&&(i=0);var o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n="'{snip} "+n),o<r&&(n+=" {snip}"),n},e.safeJoin=function(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(e)},e.includes=function(t,e){return!(e.length>t.length)&&-1!==t.indexOf(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(19),o=n(28),s=n(37),a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,u=function(){function t(t){"string"===typeof t?this.fromString(t):this.fromComponents(t),this.validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,i=e.pass,o=e.port,s=e.projectId;return e.protocol+"://"+e.user+(t&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+s},t.prototype.fromString=function(t){var e=a.exec(t);if(!e)throw new s.SentryError("Invalid Dsn");var n=r.__read(e.slice(1),6),i=n[0],u=n[1],c=n[2],l=void 0===c?"":c,f=n[3],h=n[4],p=void 0===h?"":h,d="",g=n[5],v=g.split("/");v.length>1&&(d=v.slice(0,-1).join("/"),g=v.pop()),o.assign(this,{host:f,pass:l,path:d,projectId:g,port:p,protocol:i,user:u})},t.prototype.fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype.validate=function(){var t,e;try{for(var n=r.__values(["protocol","user","host","projectId"]),o=n.next();!o.done;o=n.next()){var a=o.value;if(!this[a])throw new s.SentryError("Invalid Dsn: Missing "+a)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}if("http"!==this.protocol&&"https"!==this.protocol)throw new s.SentryError('Invalid Dsn: Unsupported protocol "'+this.protocol+'"');if(this.port&&i.isNaN(parseInt(this.port,10)))throw new s.SentryError('Invalid Dsn: Invalid port number "'+this.port+'"')},t}();e.Dsn=u},function(t,e,n){var r,i,o;i=[n(1)],void 0===(o="function"===typeof(r=function(t){t.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var e=document.createElement("div"),n={};function r(t){if(t in e.style)return t;for(var n=["Moz","Webkit","O","ms"],r=t.charAt(0).toUpperCase()+t.substr(1),i=0;i<n.length;++i){var o=n[i]+r;if(o in e.style)return o}}var i=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;n.transition=r("transition"),n.transitionDelay=r("transitionDelay"),n.transform=r("transform"),n.transformOrigin=r("transformOrigin"),n.filter=r("Filter"),n.transform3d=(e.style[n.transform]="",e.style[n.transform]="rotateY(90deg)",""!==e.style[n.transform]);var o=n.transitionEnd={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[n.transition]||null;for(var s in n)n.hasOwnProperty(s)&&"undefined"===typeof t.support[s]&&(t.support[s]=n[s]);function a(t){return"string"===typeof t&&this.parse(t),this}function u(t,e,n){!0===e?t.queue(n):e?t.queue(e,n):t.each((function(){n.call(this)}))}function c(e,r,i,o){var s=function(e){var r=[];return t.each(e,(function(e){e=t.camelCase(e),e=f(e=t.transit.propertyMap[e]||t.cssProps[e]||e),n[e]&&(e=f(n[e])),-1===t.inArray(e,r)&&r.push(e)})),r}(e);t.cssEase[i]&&(i=t.cssEase[i]);var a=p(r)+" "+i;parseInt(o,10)>0&&(a+=" "+p(o));var u=[];return t.each(s,(function(t,e){u.push(e+" "+a)})),u.join(", ")}function l(e,r){r||(t.cssNumber[e]=!0),t.transit.propertyMap[e]=n.transform,t.cssHooks[e]={get:function(n){return t(n).css("transit:transform").get(e)},set:function(n,r){var i=t(n).css("transit:transform");i.setFromString(e,r),t(n).css({"transit:transform":i})}}}function f(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}function h(t,e){return"string"!==typeof t||t.match(/^[\-0-9\.]+$/)?""+t+e:t}function p(e){var n=e;return"string"!==typeof n||n.match(/^[\-0-9\.]+/)||(n=t.fx.speeds[n]||t.fx.speeds._default),h(n,"ms")}return e=null,t.cssEase={_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},t.cssHooks["transit:transform"]={get:function(e){return t(e).data("transform")||new a},set:function(e,r){var o=r;o instanceof a||(o=new a(o)),"WebkitTransform"!==n.transform||i?e.style[n.transform]=o.toString():e.style[n.transform]=o.toString(!0),t(e).data("transform",o)}},t.cssHooks.transform={set:t.cssHooks["transit:transform"].set},t.cssHooks.filter={get:function(t){return t.style[n.filter]},set:function(t,e){t.style[n.filter]=e}},t.fn.jquery<"1.8"&&(t.cssHooks.transformOrigin={get:function(t){return t.style[n.transformOrigin]},set:function(t,e){t.style[n.transformOrigin]=e}},t.cssHooks.transition={get:function(t){return t.style[n.transition]},set:function(t,e){t.style[n.transition]=e}}),l("scale"),l("scaleX"),l("scaleY"),l("translate"),l("rotate"),l("rotateX"),l("rotateY"),l("rotate3d"),l("perspective"),l("skewX"),l("skewY"),l("x",!0),l("y",!0),a.prototype={setFromString:function(t,e){var n="string"===typeof e?e.split(","):e.constructor===Array?e:[e];n.unshift(t),a.prototype.set.apply(this,n)},set:function(t){var e=Array.prototype.slice.apply(arguments,[1]);this.setter[t]?this.setter[t].apply(this,e):this[t]=e.join(",")},get:function(t){return this.getter[t]?this.getter[t].apply(this):this[t]||0},setter:{rotate:function(t){this.rotate=h(t,"deg")},rotateX:function(t){this.rotateX=h(t,"deg")},rotateY:function(t){this.rotateY=h(t,"deg")},scale:function(t,e){void 0===e&&(e=t),this.scale=t+","+e},skewX:function(t){this.skewX=h(t,"deg")},skewY:function(t){this.skewY=h(t,"deg")},perspective:function(t){this.perspective=h(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,e){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==t&&void 0!==t&&(this._translateX=h(t,"px")),null!==e&&void 0!==e&&(this._translateY=h(e,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");return t[0]&&(t[0]=parseFloat(t[0])),t[1]&&(t[1]=parseFloat(t[1])),t[0]===t[1]?t[0]:t},rotate3d:function(){for(var t=(this.rotate3d||"0,0,0,0deg").split(","),e=0;e<=3;++e)t[e]&&(t[e]=parseFloat(t[e]));return t[3]&&(t[3]=h(t[3],"deg")),t}},parse:function(t){var e=this;t.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,(function(t,n,r){e.setFromString(n,r)}))},toString:function(t){var e=[];for(var r in this)if(this.hasOwnProperty(r)){if(!n.transform3d&&("rotateX"===r||"rotateY"===r||"perspective"===r||"transformOrigin"===r))continue;"_"!==r[0]&&(t&&"scale"===r?e.push(r+"3d("+this[r]+",1)"):t&&"translate"===r?e.push(r+"3d("+this[r]+",0)"):e.push(r+"("+this[r]+")"))}return e.join(" ")}},t.fn.transition=t.fn.transit=function(e,r,i,s){var a=this,l=0,f=!0,h=t.extend(!0,{},e);"function"===typeof r&&(s=r,r=void 0),"object"===typeof r&&(i=r.easing,l=r.delay||0,f="undefined"===typeof r.queue||r.queue,s=r.complete,r=r.duration),"function"===typeof i&&(s=i,i=void 0),"undefined"!==typeof h.easing&&(i=h.easing,delete h.easing),"undefined"!==typeof h.duration&&(r=h.duration,delete h.duration),"undefined"!==typeof h.complete&&(s=h.complete,delete h.complete),"undefined"!==typeof h.queue&&(f=h.queue,delete h.queue),"undefined"!==typeof h.delay&&(l=h.delay,delete h.delay),"undefined"===typeof r&&(r=t.fx.speeds._default),"undefined"===typeof i&&(i=t.cssEase._default),r=p(r);var d=c(h,r,i,l),g=t.transit.enabled&&n.transition?parseInt(r,10)+parseInt(l,10):0;if(0===g)return u(a,f,(function(t){a.css(h),s&&s.apply(a),t&&t()})),a;var v={};return u(a,f,(function(e){this.offsetWidth,function(e){var r=!1,i=function(){r&&a.unbind(o,i),g>0&&a.each((function(){this.style[n.transition]=v[this]||null})),"function"===typeof s&&s.apply(a),"function"===typeof e&&e()};g>0&&o&&t.transit.useTransitionEnd?(r=!0,a.bind(o,i)):window.setTimeout(i,g),a.each((function(){g>0&&(this.style[n.transition]=d),t(this).css(h)}))}(e)})),this},t.transit.getTransitionValue=c,t})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";t.exports={commonElement:function(t,e){for(var n=0,r=t.length;n<r;n++)if(-1!==this.indexOf(e,t[n]))return t[n];return null},indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},map:function(t,e,n){if(t.map)return t.map(e,n);var r=[];if(t instanceof Array)for(var i=0,o=t.length;i<o;i++)r.push(e.call(n||null,t[i],i));else for(var s in t)t.hasOwnProperty(s)&&r.push(e.call(n||null,s,t[s]));return r},filter:function(t,e,n){if(t.filter)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n||null,t[i],i)&&r.push(t[i]);return r},asyncEach:function(t,e,n,r){var i=t.length,o=-1,s=0,a=!1,u=function(){if(s-=1,(o+=1)===i)return n&&n.call(r);e(t[o],c)},c=function(){s+=1,function(){if(!a){for(a=!0;s>0;)u();a=!1}}()};c()}}},function(t,e,n){"use strict";(function(e){var n={_registry:[],on:function(t,e,n,r){var i=function(){n.call(r)};t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i),this._registry.push({_element:t,_type:e,_callback:n,_context:r,_handler:i})},detach:function(t,e,n,r){for(var i,o=this._registry.length;o--;)i=this._registry[o],t&&t!==i._element||e&&e!==i._type||n&&n!==i._callback||r&&r!==i._context||(i._element.removeEventListener?i._element.removeEventListener(i._type,i._handler,!1):i._element.detachEvent("on"+i._type,i._handler),this._registry.splice(o,1),i=null)}};void 0!==e.onunload&&n.on(e,"unload",n.detach,n),t.exports={Event:n}}).call(this,n(5))},function(t,e,n){"use strict";var r={countListeners:function(t){return this.listeners(t).length},bind:function(t,e,n){var r=Array.prototype.slice,i=function(){e.apply(n,r.call(arguments))};return this._listeners=this._listeners||[],this._listeners.push([t,e,n,i]),this.on(t,i)},unbind:function(t,e,n){this._listeners=this._listeners||[];for(var r,i=this._listeners.length;i--;)(r=this._listeners[i])[0]===t&&(!e||r[1]===e&&r[2]===n)&&(this._listeners.splice(i,1),this.removeListener(t,r[3]))}};n(8)(r,n(284).prototype),r.trigger=r.emit,t.exports=r},function(t,e,n){"use strict";var r=function(t){var e,n,i;if(t instanceof Array){for(e=[],n=t.length;n--;)e[n]=r(t[n]);return e}if("object"===typeof t){for(i in e=null===t?null:{},t)e[i]=r(t[i]);return e}return t};t.exports=r},,,function(t,e,n){var r=n(25),i=n(56),o=n(57),s=n(41),a=n(60),u=n(27),c=n(61),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(n){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(26),i=n(110),o="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(33);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(25),i=n(26),o=n(111);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(25),i=n(61),o=n(63),s=n(60),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e,!0),o(n),i)try{return a(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(33);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(42);t.exports=r("native-function-to-string",Function.toString)},function(t,e){t.exports={}},function(t,e,n){t.exports=n(13)},function(t,e,n){var r=n(27),i=n(41),o=n(123).indexOf,s=n(65);t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(1),i=n(45);t.exports=i.extend({initialize:function(){var t=this;this.find(document).forEach((function(e){t.replace(e.node,t.fetch(e.target))}))},find:function(t){var e=[];if(8===t.nodeType){var n=t.data.match(/^#\s+include\s+virtual="([^"]+)"/);n&&e.push({node:t,target:n[1]})}if(t.childNodes)for(var r=0;r<t.childNodes.length;r++){var i=this.find(t.childNodes[r]);e=i?e.concat(i):e}return e},fetch:function(t){return r.ajax({type:"get",url:t,dataType:"html",async:!1}).responseText},replace:function(t,e){r(t).replaceWith(e)}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(20),o=n(28),s=function(){function t(){this.notifyingListeners=!1,this.scopeListeners=[],this.eventProcessors=[],this.breadcrumbs=[],this.user={},this.tags={},this.extra={}}return t.prototype.addScopeListener=function(t){this.scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this.eventProcessors.push(t),this},t.prototype.notifyScopeListeners=function(){var t=this;this.notifyingListeners||(this.notifyingListeners=!0,setTimeout((function(){t.scopeListeners.forEach((function(e){e(t)})),t.notifyingListeners=!1})))},t.prototype.notifyEventProcessors=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,u,c,l;return r.__generator(this,(function(f){switch(f.label){case 0:o=t,f.label=1;case 1:f.trys.push([1,8,9,10]),s=r.__values(r.__spread(a(),this.eventProcessors)),u=s.next(),f.label=2;case 2:if(u.done)return[3,7];c=u.value,f.label=3;case 3:return f.trys.push([3,5,,6]),[4,c(r.__assign({},o),e)];case 4:return null===(o=f.sent())?[2,null]:[3,6];case 5:return f.sent(),[3,6];case 6:return u=s.next(),[3,2];case 7:return[3,10];case 8:return l=f.sent(),n={error:l},[3,10];case 9:try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}return[7];case 10:return[2,o]}}))}))},t.prototype.setUser=function(t){return this.user=o.safeNormalize(t),this.notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this.tags=r.__assign({},this.tags,((n={})[t]=o.safeNormalize(e),n)),this.notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this.extra=r.__assign({},this.extra,((n={})[t]=o.safeNormalize(e),n)),this.notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this.fingerprint=o.safeNormalize(t),this.notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this.level=o.safeNormalize(t),this.notifyScopeListeners(),this},t.clone=function(e){var n=new t;return o.assign(n,e,{scopeListeners:[]}),e&&(n.extra=o.assign(e.extra),n.tags=o.assign(e.tags),n.breadcrumbs=r.__spread(e.breadcrumbs),n.eventProcessors=r.__spread(e.eventProcessors)),n},t.prototype.clear=function(){this.breadcrumbs=[],this.tags={},this.extra={},this.user={},this.level=void 0,this.fingerprint=void 0,this.notifyScopeListeners()},t.prototype.addBreadcrumb=function(t,e){this.breadcrumbs=void 0!==e&&e>=0?r.__spread(this.breadcrumbs,[o.safeNormalize(t)]).slice(-e):r.__spread(this.breadcrumbs,[o.safeNormalize(t)]),this.notifyScopeListeners()},t.prototype.applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this.fingerprint?t.fingerprint=t.fingerprint.concat(this.fingerprint):t.message&&(t.fingerprint=t.fingerprint.concat(t.message)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(i){return this.extra&&Object.keys(this.extra).length&&(t.extra=r.__assign({},this.extra,t.extra)),this.tags&&Object.keys(this.tags).length&&(t.tags=r.__assign({},this.tags,t.tags)),this.user&&Object.keys(this.user).length&&(t.user=r.__assign({},this.user,t.user)),this.level&&(t.level=this.level),this.applyFingerprint(t),(!t.breadcrumbs||0===t.breadcrumbs.length)&&this.breadcrumbs.length>0&&(t.breadcrumbs=void 0!==n&&n>=0?this.breadcrumbs.slice(-n):this.breadcrumbs),[2,this.notifyEventProcessors(t,e)]}))}))},t}();function a(){var t=i.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}e.Scope=s,e.addGlobalEventProcessor=function(t){a().push(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(e.Severity||(e.Severity={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(e.Severity||(e.Severity={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(e.Status||(e.Status={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(e.Status||(e.Status={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(37),o=function(){function t(t){this.limit=t,this.buffer=[]}return t.prototype.isReady=function(){return void 0===this.limit||this.length()<this.limit},t.prototype.add=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){return this.isReady()?(-1===this.buffer.indexOf(t)&&this.buffer.push(t),t.then((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.remove(t)]}))}))})).catch((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.remove(t).catch((function(){}))]}))}))})),[2,t]):[2,Promise.reject(new i.SentryError("Not adding Promise due to buffer limit reached."))]}))}))},t.prototype.remove=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.buffer.splice(this.buffer.indexOf(t),1)[0]]}))}))},t.prototype.length=function(){return this.buffer.length},t.prototype.drain=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){return[2,new Promise((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);Promise.all(e.buffer).then((function(){clearTimeout(r),n(!0)})).catch((function(){n(!0)}))}))]}))}))},t}();e.PromiseBuffer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(73),o=function(){function t(){}return t.prototype.sendEvent=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,Promise.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:i.Status.Skipped})]}))}))},t.prototype.close=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,Promise.resolve(!0)]}))}))},t}();e.NoopTransport=o},function(t,e,n){var r,i,o;i=[n(1)],void 0===(o="function"===typeof(r=function(t){var e=/\+/g;function n(t){return o.raw?t:encodeURIComponent(t)}function r(t){return n(o.json?JSON.stringify(t):String(t))}function i(n,r){var i=o.raw?n:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(e," ")),o.json?JSON.parse(t):t}catch(n){}}(n);return t.isFunction(r)?r(i):i}var o=t.cookie=function(e,s,a){if(void 0!==s&&!t.isFunction(s)){if("number"===typeof(a=t.extend({},o.defaults,a)).expires){var u=a.expires,c=a.expires=new Date;c.setTime(+c+864e5*u)}return document.cookie=[n(e),"=",r(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var l,f=e?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,d=h.length;p<d;p++){var g=h[p].split("="),v=(l=g.shift(),o.raw?l:decodeURIComponent(l)),m=g.join("=");if(e&&e===v){f=i(m,s);break}e||void 0===(m=i(m))||(f[v]=m)}return f};o.defaults={},t.removeCookie=function(e,n){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}})?r.apply(e,i):r)||(t.exports=o)},function(t,e){t.exports=function(t){var e=!1,n=void 0;if(t&&t.filename&&(e=t.filename),!e)return!1;var r,i=new XMLHttpRequest;"undefined"!==typeof XDomainRequest&&(i=new XDomainRequest),"undefined"===typeof n&&(n="undefined"!==typeof window.baseUrl?window.baseUrl:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),r=(n+"/"+e).replace(/([^:]\/)\/+/g,"$1"),i.open("GET",r,!0),i.onprogress=function(){},i.onload=function(){if(!i.responseText||"<svg"!==i.responseText.substr(0,4))throw Error("Invalid SVG Response");if(!(i.status<200||i.status>=300)){var t=document.createElement("div");t.style.display="none",t.innerHTML=i.responseText,document.body.insertBefore(t,document.body.childNodes[0])}},i.send()}},function(t,e,n){"use strict";var r=n(0),i=n(178),o=n(179),s=n(3);t.exports=r.Model.extend({defaults:{rsidx:null},initialize:function(){this.profile=new i(null,{user:this}),this.settings=new o(null,{user:this})},setRsidx:function(t){return this.set("rsidx",t)},getRsidx:function(){return this.get("rsidx")},isLoggedIn:function(){return!!this.get("rsidx")},fetch:function(){var t=this;return this._fetch||(this._fetch=s.theid.run("user","identity").then((function(e){return delete t._fetch,t.setRsidx(e),e})).catch((function(e){throw delete t._fetch,t.setRsidx(null),e}))),this._fetch},sync:function(){var t=this;return this.attributes.rsidx?new Promise((function(e){e(t.attributes.rsidx)})):this.fetch()},check:function(){var t=this;return new Promise((function(e){t.sync().then(e).catch((function(){}))}))},clear:function(){this.setRsidx(null),this.profile.clear(),this.settings.clear()}})},function(t,e,n){"use strict";var r=window.Promise||n(35),i=n(45),o=n(1);t.exports=i.extend({actions:{user:{signup:n(183),signin:n(184),signout:n(185),activate:n(186),identity:n(187),oauth:n(188)},password:{recovery:n(189),reset:n(190)},profile:{update:n(191)},settings:{read:n(192),update:n(193)},favourites:{collection:n(194),create:n(195),delete:n(196),exists:n(197)},service:{captcha:n(198)}},run:function(t,e){var n=this.actions[t][e],r=Array.prototype.slice.call(arguments,2);return r.unshift(this),n.apply(n,r)},promise:function(t){return new r(t)},request:function(t){var e=this;return t.complete=function(t){t&&t.status&&e.trigger(t.status,t)},"undefined"===typeof t.cache&&(t.cache=!1),o.ajax(t)}})},function(t,e,n){"use strict";var r=n(4);function i(t){var e=document.querySelectorAll(t.elements),n=t.relativeUrl||window.location.pathname,r="https://lenta.ru".concat(n);Array.prototype.forEach.call(e,(function(e){RamblerShare.init(e,{utm:"utm_medium=social",counters:t.counters,buttons:t.buttons||[],facebook:{url:r,useRamblerIdServerRequest:!0},vkontakte:{url:r},odnoklassniki:{url:r},twitter:{url:r},telegram:{url:r}})}))}t.exports=function(t){(new r.ScriptLoader).loadAsync("https://developers.rambler.ru/likes/v1/widget.js",i.bind(null,t))}},function(t,e){t.exports={VERSION:"1.2.4",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"]}},function(t,e,n){"use strict";var r=n(282),i=[],o=[],s=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function a(t){var e;(e=i.length?i.pop():new u).task=t,r(e)}function u(){this.task=null}t.exports=a,u.prototype.call=function(){try{this.task.call()}catch(t){a.onerror?a.onerror(t):(o.push(t),s())}finally{this.task=null,i[i.length]=this}}},function(t,e,n){"use strict";var r=n(10),i=n(8),o=n(51),s=n(84),a=r({initialize:function(t){this.id=this.name=t},push:function(t){this.trigger("message",t)},isUnused:function(){return 0===this.countListeners("message")}});i(a.prototype,o),i(a,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(t){var e=this.parse(t),n=["/**",t],r=e.slice();r[r.length-1]="*",n.push(this.unparse(r));for(var i=1,o=e.length;i<o;i++)(r=e.slice(0,i)).push("**"),n.push(this.unparse(r));return n},isValid:function(t){return s.CHANNEL_NAME.test(t)||s.CHANNEL_PATTERN.test(t)},parse:function(t){return this.isValid(t)?t.split("/").slice(1):null},unparse:function(t){return"/"+t.join("/")},isMeta:function(t){var e=this.parse(t);return e?e[0]===this.META:null},isService:function(t){var e=this.parse(t);return e?e[0]===this.SERVICE:null},isSubscribable:function(t){return this.isValid(t)?!this.isMeta(t)&&!this.isService(t):null},Set:r({initialize:function(){this._channels={}},getKeys:function(){var t=[];for(var e in this._channels)t.push(e);return t},remove:function(t){delete this._channels[t]},hasSubscription:function(t){return this._channels.hasOwnProperty(t)},subscribe:function(t,e){for(var n,r=0,i=t.length;r<i;r++){n=t[r],(this._channels[n]=this._channels[n]||new a(n)).bind("message",e)}},unsubscribe:function(t,e){var n=this._channels[t];return!!n&&(n.unbind("message",e),!!n.isUnused()&&(this.remove(t),!0))},distributeMessage:function(t){for(var e=a.expand(t.channel),n=0,r=e.length;n<r;n++){var i=this._channels[e[n]];i&&i.trigger("message",t)}}})}),t.exports=a},function(t,e,n){"use strict";t.exports={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";var r=n(10);t.exports=r({initialize:function(){this._index={}},add:function(t){var e=void 0!==t.id?t.id:t;return!this._index.hasOwnProperty(e)&&(this._index[e]=t,!0)},forEach:function(t,e){for(var n in this._index)this._index.hasOwnProperty(n)&&t.call(e,this._index[n])},isEmpty:function(){for(var t in this._index)if(this._index.hasOwnProperty(t))return!1;return!0},member:function(t){for(var e in this._index)if(this._index[e]===t)return!0;return!1},remove:function(t){var e=void 0!==t.id?t.id:t,n=this._index[e];return delete this._index[e],n},toArray:function(){var t=[];return this.forEach((function(e){t.push(e)})),t}})},function(t,e,n){"use strict";(function(e){var r=n(10),i=n(18),o=n(50),s=n(8),a=n(31),u=s(r(n(22),{encode:function(t){return a(t)},request:function(t){var n,r=this.endpoint.href,i=this;if(e.XMLHttpRequest)n=new XMLHttpRequest;else{if(!e.ActiveXObject)return this._handleError(t);n=new ActiveXObject("Microsoft.XMLHTTP")}n.open("POST",r,!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("Pragma","no-cache"),n.setRequestHeader("X-Requested-With","XMLHttpRequest");var s=this._dispatcher.headers;for(var a in s)s.hasOwnProperty(a)&&n.setRequestHeader(a,s[a]);var u=function(){n.abort()};return void 0!==e.onbeforeunload&&o.Event.on(e,"beforeunload",u),n.onreadystatechange=function(){if(n&&4===n.readyState){var r=null,s=n.status,a=n.responseText,c=s>=200&&s<300||304===s||1223===s;if(void 0!==e.onbeforeunload&&o.Event.detach(e,"beforeunload",u),n.onreadystatechange=function(){},n=null,!c)return i._handleError(t);try{r=JSON.parse(a)}catch(l){}r?i._receive(r):i._handleError(t)}},n.send(this.encode(t)),n}}),{isUsable:function(t,e,n,r){var o="ReactNative"===navigator.product||i.isSameOrigin(e);n.call(r,o)}});t.exports=u}).call(this,n(5))},function(t,e,n){"use strict";var r=function(t,e){this.message=t,this.options=e,this.attempts=0};n(8)(r.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var t=this.options.attempts,e=this.attempts,n=this.options.deadline,r=(new Date).getTime();return!(void 0!==t&&e>=t)&&!(void 0!==n&&r>n)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),t.exports=r},function(t,e){t.exports=function(t){return null==t?"":""+t}},,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(9),i=n(17),o=n(381),s=n(382),a=n(383),u=n(384),c=n(4);t.exports=i.extend({name:"advert",type:null,megaboard:{enabled:!1,shown:!1},plista:{enable:!1},rnet:{enable:!1},smi2:{enable:!1},banners:{},scripts:[],exceptions:[],initialize:function(){if(this.onBeforeExecute()){this.info("We have to initialize advert for this page.");var t=this.initialBanners.bind(this);window.Adf?t():window.begun_callbacks={lib:{init:t}}}else $(".b-banner").remove(),this.warning("We have to skip this page.")},onBeforeExecute:function(){if(this.exceptions&&this.exceptions.length){var t=this.exceptions.map(c.formatPath),e=c.formatPath(window.location.pathname);return-1===r.indexOf(t,e,0)}return!0},initialBanners:function(){this.trigger("advert:script_load"),window.Adf&&(this.megaboard.enabled&&this.drawMegaboard(),this.banners&&this.drawBanners()),this.drawPartnersAdv()},drawBanners:function(){var t=this;r.each(this.banners,(function(e,n){r.each(e,(function(e,r){document.getElementById(r)&&(t.megaboard.shown&&Object.assign(e[1],t.megaboard.advParams),window.Adf.banner[n].apply(window.Adf.banner,e))}))}))},drawMegaboard:function(){var t=new o;this.megaboard.shown=t.initialize(".js-banner-megaboard:first").handle()},removeMegaboard:function(){$(".js-banner-megaboard:first").remove(),this.megaboard.shown=!1},drawPartnersAdv:function(){this.plista.enable&&s(this.plista.plistaParams),this.rnet.enable&&u(this.rnet),this.smi2.enable&&a(this.smi2)}})},,,,function(t,e,n){n(108);var r=n(66);t.exports=r.Object.assign},function(t,e,n){var r=n(109),i=n(127);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e,n){var r=n(13),i=n(55).f,o=n(34),s=n(112),a=n(43),u=n(119),c=n(126);t.exports=function(t,e){var n,l,f,h,p,d=t.target,g=t.global,v=t.stat;if(n=g?r:v?r[d]||a(d,{}):(r[d]||{}).prototype)for(l in e){if(h=e[l],f=t.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(g?l:d+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof h===typeof f)continue;u(h,f)}(t.sham||f&&f.sham)&&o(h,"sham",!0),s(n,l,h,t)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(13),i=n(33),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var r=n(13),i=n(42),o=n(34),s=n(27),a=n(43),u=n(64),c=n(115),l=c.get,f=c.enforce,h=String(u).split("toString");i("inspectSource",(function(t){return u.call(t)})),(t.exports=function(t,e,n,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||o(n,"name",e),f(n).source=h.join("string"==typeof e?e:"")),t!==r?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=n:o(t,e,n)):c?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||u.call(this)}))},function(t,e){t.exports=!1},function(t,e,n){var r=n(13),i=n(43),o=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,e,n){var r,i,o,s=n(116),a=n(13),u=n(33),c=n(34),l=n(27),f=n(117),h=n(65),p=a.WeakMap;if(s){var d=new p,g=d.get,v=d.has,m=d.set;r=function(t,e){return m.call(d,t,e),e},i=function(t){return g.call(d,t)||{}},o=function(t){return v.call(d,t)}}else{var y=f("state");h[y]=!0,r=function(t,e){return c(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(13),i=n(64),o=r.WeakMap;t.exports="function"===typeof o&&/native code/.test(i.call(o))},function(t,e,n){var r=n(42),i=n(118),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(27),i=n(120),o=n(55),s=n(62);t.exports=function(t,e){for(var n=i(e),a=s.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||a(t,l,u(e,l))}}},function(t,e,n){var r=n(121),i=n(122),o=n(70),s=n(63);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(66),i=n(13),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){var r=n(67),i=n(69).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(41),i=n(124),o=n(125),s=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,n){var r=n(68),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(68),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(26),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){"use strict";var r=n(25),i=n(26),o=n(128),s=n(70),a=n(56),u=n(129),c=n(58),l=Object.assign;t.exports=!l||i((function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=o(l({},e)).join("")}))?function(t,e){for(var n=u(t),i=arguments.length,l=1,f=s.f,h=a.f;i>l;)for(var p,d=c(arguments[l++]),g=f?o(d).concat(f(d)):o(d),v=g.length,m=0;v>m;)p=g[m++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:l},function(t,e,n){var r=n(67),i=n(69);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(59);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=n(9),a=n(1),u=n(0),c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.components={},this.modules={},this.settings={events:{},components:{},modules:{}}}var e,n,c;return e=t,(n=[{key:"configure",value:function(t){var e=this;return s.each(t,(function(t,n){"events"===n||"components"===n||"modules"===n?s.each(t,(function(t,r){var i=e.settings[n][r]||{};e.settings[n][r]=s.merge(i,t),i.stage=i.stage||"load","events"===n&&i.custom&&(i.stage="customEvent")})):e.settings[n]=t})),this}},{key:"getStage",value:function(t){var e=function(e){return e.stage===t};return{events:s.pick(this.settings.events,e),components:s.pick(this.settings.components,e),modules:s.pick(this.settings.modules,e)}}},{key:"bootStage",value:function(t){var e=this.getStage(t),n=e.events,r=e.components,i=e.modules;if(this.bootEvents(n),this.bootComponents(r),this.bootModules(i),"load"===t){var o=this.getStage("customEvent").events;this.bootEvents(o)}return this}},{key:"bootEvents",value:function(t){var e=this;s.each(t,(function(t,n){!e.events[n]&&(!t.condition||t.condition&&t.condition())&&e.registerEvent(n,t)}))}},{key:"bootComponents",value:function(t){var e=this;s.each(t,(function(t,n){!e.components[n]&&t.enabled&&e.registerComponent(n,t)}))}},{key:"bootModules",value:function(t){var e=this;s.each(t,(function(t,n){!e.modules[n]&&t.enabled&&e.registerModule(n,t)}))}},{key:"registerEvent",value:function(t,e){this.events[t]=e;var n=this.events[t].data||{};if(e.eventTarget&&e.eventList)if("object"===i(e.eventTarget))a(e.eventTarget).on(e.eventList,n,e.handler);else{var o=e.eventTarget.split(" <= ");if(o[1])a(o[1]).on(e.eventList,o[0],n,e.handler);else if(e.custom){var s=r(e.eventTarget.split(" => "),2),c=s[0],l=s[1],f=this[c][l];f instanceof u.Component&&(new u.Model).listenTo(f,e.eventList,e.handler.bind(this,e.data))}else a(e.eventTarget).on(e.eventList,n,e.handler)}else e.handler(n)}},{key:"registerComponent",value:function(t,e){var n=e.alias,r=e.constructor;delete e.alias,delete e.enabled,delete e.constructor,this.components[t]=new r(e),this.components[t].loaded=!0,n&&(this[t]?this.trace("Can't override application property with component ".concat(t,"."),"error"):this[t]=this.components[t])}},{key:"registerModule",value:function(t,e){var n=e.constructor;delete e.enabled,delete e.constructor,this.modules[t]=new n(e)}},{key:"trace",value:function(t,e){var n=document.cookie.match("enable_logger=1"),r=window&&window.console&&window.console[e];n&&r&&window.console[e](t)}},{key:"log",value:function(t){this.trace(t,"log")}},{key:"info",value:function(t){this.trace(t,"info")}},{key:"warning",value:function(t){this.trace(t,"warn")}},{key:"isProduction",value:function(){return"production"===this.settings.env}},{key:"isDevelopment",value:function(){return"development"===this.settings.env}},{key:"isTest",value:function(){return"test_front"===this.settings.env}}])&&o(e.prototype,n),c&&o(e,c),t}();t.exports=c},function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=n(132),s="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u(t,e){return t(e={exports:{}},e.exports),e.exports}var c=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(e.Severity||(e.Severity={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(e.Severity||(e.Severity={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(e.Status||(e.Status={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(e.Status||(e.Status={}))}));a(c);var l=c.Severity,f=c.Status,h=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isError=function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}},e.isErrorEvent=function(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)},e.isDOMError=function(t){return"[object DOMError]"===Object.prototype.toString.call(t)},e.isDOMException=function(t){return"[object DOMException]"===Object.prototype.toString.call(t)},e.isUndefined=function(t){return void 0===t},e.isFunction=function(t){return"function"===typeof t},e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.isPrimitive=function(t){return null===t||"object"!==typeof t&&"function"!==typeof t},e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isPlainObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isNaN=function(t){return t!==t}}));a(h);var p=h.isError,d=h.isErrorEvent,g=h.isDOMError,v=h.isDOMException,m=h.isUndefined,y=h.isFunction,b=h.isString,_=(h.isPrimitive,h.isArray,h.isPlainObject),w=(h.isRegExp,h.isNaN,u((function(t,e){function n(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof r?r:0)}function i(){return n()?s:"undefined"!==typeof window?window:"undefined"!==typeof self?self:{}}function o(t){var e,n,r,i,o,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),(e=t.className)&&h.isString(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)s.push("."+n[o]);var a=["type","name","title","alt"];for(o=0;o<a.length;o++)r=a[o],(i=t.getAttribute(r))&&s.push("["+r+'="'+i+'"]');return s.join("")}Object.defineProperty(e,"__esModule",{value:!0}),e.dynamicRequire=function(t,e){return t.require(e)},e.isNodeEnv=n,e.getGlobalObject=i,e.uuid4=function(){var t=i(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},e.htmlTreeAsString=function(t){for(var e,n=t,r=[],i=0,s=0,a=" > ".length;n&&i++<5&&!("html"===(e=o(n))||i>1&&s+r.length*a+e.length>=80);)r.push(e),s+=e.length,n=n.parentNode;return r.reverse().join(" > ")},e.htmlElementAsString=o,e.parseUrl=function(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}},e.getEventDescription=function(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"},e.consoleSandbox=function(t){var e=i();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log"].forEach((function(t){t in e.console&&n[t].__sentry__&&(r[t]=n[t].__sentry_wrapped__,n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),o}})));a(w);w.dynamicRequire,w.isNodeEnv;var x=w.getGlobalObject,E=(w.uuid4,w.htmlTreeAsString),S=(w.htmlElementAsString,w.parseUrl),k=w.getEventDescription,M=(w.consoleSandbox,u((function(t,e){function n(){if(!("fetch"in w.getGlobalObject()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.supportsErrorEvent=function(){try{return new ErrorEvent(""),!0}catch(t){return!1}},e.supportsDOMError=function(){try{return new DOMError(""),!0}catch(t){return!1}},e.supportsDOMException=function(){try{return new DOMException(""),!0}catch(t){return!1}},e.supportsFetch=n,e.supportsNativeFetch=function(){return!!n()&&-1!==w.getGlobalObject().fetch.toString().indexOf("native")},e.supportsBeacon=function(){var t=w.getGlobalObject();return"navigator"in t&&"sendBeacon"in t.navigator},e.supportsReportingObserver=function(){return"ReportingObserver"in w.getGlobalObject()},e.supportsReferrerPolicy=function(){if(!n())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}},e.supportsHistory=function(){var t=w.getGlobalObject(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}})));a(M);M.supportsErrorEvent,M.supportsDOMError,M.supportsDOMException;var T=M.supportsFetch,O=M.supportsNativeFetch,C=M.supportsBeacon,I=M.supportsReportingObserver,N=M.supportsReferrerPolicy,A=M.supportsHistory,R=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.hasWeakSet="function"===typeof WeakSet,this.inner=this.hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){var e,n;if(this.hasWeakSet)return!!this.inner.has(t)||(this.inner.add(t),!1);try{for(var r=tslib_1__default.__values(this.inner),i=r.next();!i.done;i=r.next()){if(i.value===t)return!0}}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return this.inner.push(t),!1},t.prototype.unmemoize=function(t){if(this.hasWeakSet)this.inner.delete(t);else for(var e=0;e<this.inner.length;e++)if(this.inner[e]===t){this.inner.splice(e,1);break}},t}();e.Memo=n}));a(R);R.Memo;var P=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.truncate=function(t,e){return void 0===e&&(e=0),0!==e&&h.isString(t)?t.length<=e?t:t.substr(0,e)+"...":t},e.snipLine=function(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var i=Math.max(e-60,0);i<5&&(i=0);var o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n="'{snip} "+n),o<r&&(n+=" {snip}"),n},e.safeJoin=function(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(e)},e.includes=function(t,e){return!(e.length>t.length)&&-1!==t.indexOf(e)}}));a(P);var D=P.truncate,j=(P.snipLine,P.safeJoin),L=P.includes,B=u((function(t,e){function n(t){return JSON.stringify(t,d({normalize:!1}))}function r(t){return JSON.parse(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=n,e.deserialize=r,e.clone=function(t){return r(n(t))},e.fill=function(t,e,n){if(e in t&&!t[e].__sentry__){var r=t[e],i=n(r);i.__sentry__=!0,i.__sentry_original__=r,i.__sentry_wrapped__=i,t[e]=i}},e.urlEncode=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")};var i=3,o=102400,a=40;function u(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function c(t){var e=Object.prototype.toString.call(t);return"string"===typeof t?P.truncate(t,40):"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":f(t)}function l(t,e){if(0===e)return c(t);if(h.isPlainObject(t)){var n={},r=t;return Object.keys(r).forEach((function(t){n[t]=l(r[t],e-1)})),n}return Array.isArray(t)?t.map((function(t){return l(t,e-1)})):c(t)}function f(t,e){return"domain"===e&&"object"===typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!==typeof s&&t===s?"[Global]":"undefined"!==typeof window&&t===window?"[Window]":"undefined"!==typeof document&&t===document?"[Document]":t instanceof Date?"[Date] "+t:t instanceof Error?function(t){var e={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(t):"undefined"!==typeof Event&&t instanceof Event?Object.getPrototypeOf(t)?t.constructor.name:"Event":h.isNaN(t)?"[NaN]":h.isUndefined(t)?"[undefined]":"function"===typeof t?"[Function: "+(t.name||"<unknown-function-name>")+"]":t}function p(t,e){if(void 0===e&&(e=new R.Memo),!h.isPrimitive(t)){if(e.memoize(t))return"[Circular ~]";for(var n in t)t[n]=p(t[n],e);e.unmemoize(t)}return t}function d(t){return void 0===t&&(t={normalize:!0}),function(e,n){return t.normalize?f(p(n),e):p(n)}}e.serializeObject=l,e.limitObjectDepthToSize=function t(e,r,s){void 0===r&&(r=i),void 0===s&&(s=o);var a=l(e,r);return u(n(a))>s?t(e,r-1):a},e.serializeKeysToEventMessage=function(t,e){if(void 0===e&&(e=a),!t.length)return"[object has no keys]";if(t[0].length>=e)return P.truncate(t[0],e);for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:P.truncate(r,e)}return""},e.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null===t||void 0===t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),i=0;i<e.length;i++){var o=e[i];if(null!==o)for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])}return r},e.safeNormalize=function(t){try{return JSON.parse(JSON.stringify(t,d({normalize:!0})))}catch(e){return"**non-serializable**"}}}));a(B);var U=B.serialize,F=B.deserialize,V=(B.clone,B.fill),H=(B.urlEncode,B.serializeObject),z=B.limitObjectDepthToSize,W=B.serializeKeysToEventMessage,Y=(B.assign,B.safeNormalize);function q(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function G(t,e,n,r,i,o){return q((s=q(q(e,t),q(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function $(t,e,n,r,i,o,s){return G(e&n|~e&r,t,e,i,o,s)}function K(t,e,n,r,i,o,s){return G(e&r|n&~r,t,e,i,o,s)}function X(t,e,n,r,i,o,s){return G(e^n^r,t,e,i,o,s)}function J(t,e,n,r,i,o,s){return G(n^(e|~r),t,e,i,o,s)}function Z(t,e){var n,r,i,o,s;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var a=1732584193,u=-271733879,c=-1732584194,l=271733878;for(n=0;n<t.length;n+=16)r=a,i=u,o=c,s=l,a=$(a,u,c,l,t[n],7,-680876936),l=$(l,a,u,c,t[n+1],12,-389564586),c=$(c,l,a,u,t[n+2],17,606105819),u=$(u,c,l,a,t[n+3],22,-1044525330),a=$(a,u,c,l,t[n+4],7,-176418897),l=$(l,a,u,c,t[n+5],12,1200080426),c=$(c,l,a,u,t[n+6],17,-1473231341),u=$(u,c,l,a,t[n+7],22,-45705983),a=$(a,u,c,l,t[n+8],7,1770035416),l=$(l,a,u,c,t[n+9],12,-1958414417),c=$(c,l,a,u,t[n+10],17,-42063),u=$(u,c,l,a,t[n+11],22,-1990404162),a=$(a,u,c,l,t[n+12],7,1804603682),l=$(l,a,u,c,t[n+13],12,-40341101),c=$(c,l,a,u,t[n+14],17,-1502002290),a=K(a,u=$(u,c,l,a,t[n+15],22,1236535329),c,l,t[n+1],5,-165796510),l=K(l,a,u,c,t[n+6],9,-1069501632),c=K(c,l,a,u,t[n+11],14,643717713),u=K(u,c,l,a,t[n],20,-373897302),a=K(a,u,c,l,t[n+5],5,-701558691),l=K(l,a,u,c,t[n+10],9,38016083),c=K(c,l,a,u,t[n+15],14,-660478335),u=K(u,c,l,a,t[n+4],20,-405537848),a=K(a,u,c,l,t[n+9],5,568446438),l=K(l,a,u,c,t[n+14],9,-1019803690),c=K(c,l,a,u,t[n+3],14,-187363961),u=K(u,c,l,a,t[n+8],20,1163531501),a=K(a,u,c,l,t[n+13],5,-1444681467),l=K(l,a,u,c,t[n+2],9,-51403784),c=K(c,l,a,u,t[n+7],14,1735328473),a=X(a,u=K(u,c,l,a,t[n+12],20,-1926607734),c,l,t[n+5],4,-378558),l=X(l,a,u,c,t[n+8],11,-2022574463),c=X(c,l,a,u,t[n+11],16,1839030562),u=X(u,c,l,a,t[n+14],23,-35309556),a=X(a,u,c,l,t[n+1],4,-1530992060),l=X(l,a,u,c,t[n+4],11,1272893353),c=X(c,l,a,u,t[n+7],16,-155497632),u=X(u,c,l,a,t[n+10],23,-1094730640),a=X(a,u,c,l,t[n+13],4,681279174),l=X(l,a,u,c,t[n],11,-358537222),c=X(c,l,a,u,t[n+3],16,-722521979),u=X(u,c,l,a,t[n+6],23,76029189),a=X(a,u,c,l,t[n+9],4,-640364487),l=X(l,a,u,c,t[n+12],11,-421815835),c=X(c,l,a,u,t[n+15],16,530742520),a=J(a,u=X(u,c,l,a,t[n+2],23,-995338651),c,l,t[n],6,-198630844),l=J(l,a,u,c,t[n+7],10,1126891415),c=J(c,l,a,u,t[n+14],15,-1416354905),u=J(u,c,l,a,t[n+5],21,-57434055),a=J(a,u,c,l,t[n+12],6,1700485571),l=J(l,a,u,c,t[n+3],10,-1894986606),c=J(c,l,a,u,t[n+10],15,-1051523),u=J(u,c,l,a,t[n+1],21,-2054922799),a=J(a,u,c,l,t[n+8],6,1873313359),l=J(l,a,u,c,t[n+15],10,-30611744),c=J(c,l,a,u,t[n+6],15,-1560198380),u=J(u,c,l,a,t[n+13],21,1309151649),a=J(a,u,c,l,t[n+4],6,-145523070),l=J(l,a,u,c,t[n+11],10,-1120210379),c=J(c,l,a,u,t[n+2],15,718787259),u=J(u,c,l,a,t[n+9],21,-343485551),a=q(a,r),u=q(u,i),c=q(c,o),l=q(l,s);return[a,u,c,l]}function Q(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function tt(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function et(t){var e,n,r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function nt(t){return unescape(encodeURIComponent(t))}function rt(t){return function(t){return Q(Z(tt(t),8*t.length))}(nt(t))}function it(t,e){return function(t,e){var n,r,i=tt(t),o=[],s=[];for(o[15]=s[15]=void 0,i.length>16&&(i=Z(i,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=Z(o.concat(tt(e)),512+8*e.length),Q(Z(s.concat(r),640))}(nt(t),nt(e))}function ot(t,e,n){return e?n?it(e,t):et(it(e,t)):n?rt(t):et(rt(t))}var st=x(),at={wrap:function(){return function(){}},report:!1,collectWindowErrors:!1,computeStackTrace:!1,remoteFetching:!1,linesOfContext:!1,extendToAsynchronousCallbacks:!1},ut=[].slice,ct="?",lt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function ft(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ht(){return"undefined"===typeof document||null==document.location?"":document.location.href}at.wrap=function(t){return function(){try{return t.apply(this,arguments)}catch(e){throw at.report(e),e}}},at.report=function(){var t,e,n,r,o=[],s=null,a=null;function u(t,e,n){var r=null;if(!e||at.collectWindowErrors){for(var i in o)if(ft(o,i))try{o[i](t,e,n)}catch(s){r=s}if(r)throw r}}function c(e,n,r,o,s){var c=null;if(s=d(s)?s.error:s,e=d(e)?e.message:e,a)at.computeStackTrace.augmentStackTraceWithInitialElement(a,n,r,e),f();else if(s&&p(s))(c=at.computeStackTrace(s)).mechanism="onerror",u(c,!0,s);else{var l,h={url:n,line:r,column:o},g=e;if("[object String]"==={}.toString.call(e)){var v=e.match(lt);v&&(l=v[1],g=v[2])}h.func=at.computeStackTrace.guessFunctionName(h.url,h.line),h.context=at.computeStackTrace.gatherContext(h.url,h.line),u(c={name:l,message:g,mode:"onerror",mechanism:"onerror",stack:[i.__assign({},h,{url:h.url||ht()})]},!0,null)}return!!t&&t.apply(this,arguments)}function l(t){var e=t&&(t.detail?t.detail.reason:t.reason)||t,n=at.computeStackTrace(e);n.mechanism="onunhandledrejection",u(n,!0,e)}function f(){var t=a,e=s;a=null,s=null,u(t,!1,e)}function h(t){if(a){if(s===t)return;f()}var e=at.computeStackTrace(t);throw a=e,s=t,setTimeout((function(){s===t&&f()}),e.incomplete?2e3:0),t}return h.subscribe=function(t){o.push(t)},h.unsubscribe=function(i){for(var s=o.length-1;s>=0;--s)o[s]===i&&o.splice(s,1);0===o.length&&(e&&(st.onerror=t,e=!1),r&&(st.onunhandledrejection=n,r=!1))},h.installGlobalHandler=function(){!0!==e&&(t=st.onerror,st.onerror=c,e=!0)},h.installGlobalUnhandledRejectionHandler=function(){!0!==r&&(n=st.onunhandledrejection,st.onunhandledrejection=l,r=!0)},h}(),at.computeStackTrace=function(){var t=!1,e={};function n(t){if("string"!==typeof t)return[];if(!ft(e,t)){var n="",r="";try{r=st.document.domain}catch(o){}var i=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(t);i&&i[2]===r&&(n=function(t){if(!at.remoteFetching)return"";try{var e=function(){try{return new st.XMLHttpRequest}catch(o){return new st.ActiveXObject("Microsoft.XMLHTTP")}}();return e.open("GET",t,!1),e.send(""),e.responseText}catch(o){return""}}(t)),e[t]=n?n.split("\n"):[]}return e[t]}function r(t,e){var r,i=/function ([^(]*)\(([^)]*)\)/,o=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",a=n(t);if(!a.length)return ct;for(var u=0;u<10;++u)if(s=a[e-u]+s,!m(s)){if(r=o.exec(s))return r[1];if(r=i.exec(s))return r[1]}return ct}function i(t,e){var r=n(t);if(!r.length)return null;var i=[],o=Math.floor(at.linesOfContext/2),s=o+at.linesOfContext%2,a=Math.max(0,e-o-1),u=Math.min(r.length,e+s-1);e-=1;for(var c=a;c<u;++c)m(r[c])||i.push(r[c]);return i.length>0?i:null}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function s(t){return o(t).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function a(t,e){for(var r,i,o=0,s=e.length;o<s;++o)if((r=n(e[o])).length&&(r=r.join("\n"),i=t.exec(r)))return{url:e[o],line:r.substring(0,i.index).split("\n").length,column:i.index-r.lastIndexOf("\n",i.index)-1};return null}function u(t,e,r){var i,s=n(e),a=new RegExp("\\b"+o(t)+"\\b");return r-=1,s&&s.length>r&&(i=a.exec(s[r]))?i.index:null}function c(t){if(!m(st&&st.document)){for(var e,n,r,i,u=[ht()],c=st.document.getElementsByTagName("script"),l=""+t,f=0;f<c.length;++f){var h=c[f];h.src&&u.push(h.src)}if(r=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(l)){var p=r[1]?"\\s+"+r[1]:"",d=r[2].split(",").join("\\s*,\\s*");e=o(r[3]).replace(/;$/,";?"),n=new RegExp("function"+p+"\\s*\\(\\s*"+d+"\\s*\\)\\s*{\\s*"+e+"\\s*}")}else n=new RegExp(o(l).replace(/\s+/g,"\\s+"));if(i=a(n,u))return i;if(r=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(l)){var g=r[1];if(e=s(r[2]),i=a(n=new RegExp("on"+g+"=[\\'\"]\\s*"+e+"\\s*[\\'\"]","i"),u[0]))return i;if(i=a(n=new RegExp(e),u))return i}return null}}function l(t){if(!t.stack)return null;for(var e,n,o,s=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f=/\((\S*)(?::(\d+))(?::(\d+))\)/,h=t.stack.split("\n"),p=[],d=/^(.*) is undefined$/.exec(t.message),g=0,v=h.length;g<v;++g){if(n=s.exec(h[g])){var y=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=f.exec(n[2]))&&(n[2]=e[1]),o={url:y?null:n[2],func:n[1]||ct,args:y?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=c.exec(h[g]))o={url:n[2],func:n[1]||ct,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(h[g])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=l.exec(n[3]))?n[3]=e[1]:0!==g||n[5]||m(t.columnNumber)||(p[0].column=t.columnNumber+1),o={url:n[3],func:n[1]||ct,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!o.func&&o.line&&(o.func=r(o.url,o.line)),at.remoteFetching&&o.url&&"blob:"===o.url.substr(0,5)){var b=new XMLHttpRequest;if(b.open("GET",o.url,!1),b.send(""),200===b.status){var _=b.responseText||"",w=(_=_.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(w){var x=w[1];"~"===x.charAt(0)&&(x=("undefined"===typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+x.slice(1)),o.url=x.slice(0,-4)}}}o.context=o.line?i(o.url,o.line):null,p.push(o)}return p.length?(p[0]&&p[0].line&&!p[0].column&&d&&(p[0].column=u(d[1],p[0].url,p[0].line)),{mode:"stack",name:t.name,message:t.message,stack:p}):null}function f(t,e,n,o){var s={url:e,line:n};if(s.url&&s.line){t.incomplete=!1,s.func||(s.func=r(s.url,s.line)),s.context||(s.context=i(s.url,s.line));var a=/ '([^']+)' /.exec(o);if(a&&(s.column=u(a[1],s.url,s.line)),t.stack.length>0&&t.stack[0].url===s.url){if(t.stack[0].line===s.line)return!1;if(!t.stack[0].line&&t.stack[0].func===s.func)return t.stack[0].line=s.line,t.stack[0].context=s.context,!1}return t.stack.unshift(s),t.partial=!0,!0}return t.incomplete=!0,!1}function h(t,e){for(var n,i,o,s=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],l={},d=!1,g=h.caller;g&&!d;g=g.caller)if(g!==p&&g!==at.report){if(i={url:null,func:ct,args:[],line:null,column:null},g.name?i.func=g.name:(n=s.exec(g.toString()))&&(i.func=n[1]),"undefined"===typeof i.func)try{i.func=n.input.substring(0,n.input.indexOf("{"))}catch(y){}if(o=c(g)){i.url=o.url,i.line=o.line,i.func===ct&&(i.func=r(i.url,i.line));var v=/ '([^']+)' /.exec(t.message||t.description);v&&(i.column=u(v[1],o.url,o.line))}l[""+g]?d=!0:l[""+g]=!0,a.push(i)}e&&a.splice(0,e);var m={mode:"callers",name:t.name,message:t.message,stack:a};return f(m,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),m}function p(e,o){var u=null;o=null==o?0:+o;try{if(u=function(t){var e=t.stacktrace;if(e){for(var n,o=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,s=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,a=e.split("\n"),u=[],c=0;c<a.length;c+=2){var l=null;if((n=o.exec(a[c]))?l={url:n[2],line:+n[1],column:null,func:n[3],args:[]}:(n=s.exec(a[c]))&&(l={url:n[6],line:+n[1],column:+n[2],func:n[3]||n[4],args:n[5]?n[5].split(","):[]}),l){if(!l.func&&l.line&&(l.func=r(l.url,l.line)),l.line)try{l.context=i(l.url,l.line)}catch(f){}l.context||(l.context=[a[c+1]]),u.push(l)}}return u.length?{mode:"stacktrace",name:t.name,message:t.message,stack:u}:null}}(e))return u}catch(c){if(t)throw c}try{if(u=l(e))return u}catch(c){if(t)throw c}try{if(u=function(t){var e=t.message.split("\n");if(e.length<4)return null;var o,u=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,c=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,l=/^\s*Line (\d+) of function script\s*$/i,f=[],h=st&&st.document&&st.document.getElementsByTagName("script"),p=[];for(var d in h)ft(h,d)&&!h[d].src&&p.push(h[d]);for(var g=2;g<e.length;g+=2){var v=null;if(o=u.exec(e[g]))v={url:o[2],func:o[3],args:[],line:+o[1],column:null};else if(o=c.exec(e[g])){v={url:o[3],func:o[4],args:[],line:+o[1],column:null};var m=+o[1],y=p[o[2]-1];if(y){var b=n(v.url);if(b){var _=(b=b.join("\n")).indexOf(y.innerText);_>=0&&(v.line=m+b.substring(0,_).split("\n").length)}}}else if(o=l.exec(e[g])){var w=ht().replace(/#.*$/,""),x=a(new RegExp(s(e[g+1])),[w]);v={url:w,func:"",args:[],line:x?x.line:o[1],column:null}}if(v){v.func||(v.func=r(v.url,v.line));var E=i(v.url,v.line),S=E?E[Math.floor(E.length/2)]:null;E&&S.replace(/^\s*/,"")===e[g+1].replace(/^\s*/,"")?v.context=E:v.context=[e[g+1]],f.push(v)}}return f.length?{mode:"multiline",name:t.name,message:e[0],stack:f}:null}(e))return u}catch(c){if(t)throw c}try{if(u=h(e,o+1))return u}catch(c){if(t)throw c}return{original:e,name:e.name,message:e.message,mode:"failed"}}return p.augmentStackTraceWithInitialElement=f,p.computeStackTraceFromStackProp=l,p.guessFunctionName=r,p.gatherContext=i,p.ofCaller=function(t){t=1+(null==t?0:+t);try{throw new Error}catch(e){return p(e,t+1)}},p.getSource=n,p}(),at.extendToAsynchronousCallbacks=function(){var t=function(t){var e=st[t];st[t]=function(){var t=ut.call(arguments),n=t[0];return"function"===typeof n&&(t[0]=at.wrap(n)),e.apply?e.apply(this,t):e(t[0],t[1])}};t("setTimeout"),t("setInterval")},at.remoteFetching=!1,at.collectWindowErrors=!0,at.linesOfContext=11;var pt=at.report.subscribe,dt=at.report.installGlobalHandler,gt=at.report.installGlobalUnhandledRejectionHandler,vt=at.computeStackTrace,mt=50;function yt(t){var e=_t(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function bt(t){return{exception:{values:[yt(t)]}}}function _t(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return(L(n,"captureMessage")||L(n,"captureException"))&&(e=e.slice(1)),L(r,"sentryWrapped")&&(e=e.slice(0,-1)),e.map((function(t){return{colno:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:t.line}})).slice(0,mt).reverse()}function wt(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}var xt=function(){function t(t){this.options=t,this.buffer=new o.PromiseBuffer(30),this.url=new o.API(this.options.dsn).getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(t){throw new o.SentryError("Transport Class has to implement `sendEvent` method")}))}))},t.prototype.close=function(t){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){return[2,this.buffer.drain(t)]}))}))},t}(),Et=x(),St=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.sendEvent=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){return e={body:t,method:"POST",referrerPolicy:N()?"origin":""},[2,this.buffer.add(Et.fetch(this.url,e).then((function(t){return{status:f.fromHttpCode(t.status)}})))]}))}))},e}(xt),kt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.sendEvent=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e=this;return i.__generator(this,(function(n){return[2,this.buffer.add(new Promise((function(n,r){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(200===i.status&&n({status:f.fromHttpCode(i.status)}),r(i))},i.open("POST",e.url),i.send(t)})))]}))}))},e}(xt),Mt=x(),Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.sendEvent=function(t){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){return e=Mt.navigator.sendBeacon(this.url,t),[2,this.buffer.add(Promise.resolve({status:e?f.Success:f.Failed}))]}))}))},e}(xt),Ot=Object.freeze({BaseTransport:xt,FetchTransport:St,XHRTransport:kt,BeaconTransport:Tt}),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.install=function(){if(!this.options.dsn)throw new o.SentryError("Invariant exception: install() must not be called when disabled");return Error.stackTraceLimit=50,!0},e.prototype.setupTransport=function(){if(!this.options.dsn)return t.prototype.setupTransport.call(this);var e=this.options.transportOptions?this.options.transportOptions:{dsn:this.options.dsn};return this.options.transport?new this.options.transport(e):C()?new Tt(e):T()?new St(e):new kt(e)},e.prototype.eventFromException=function(t,e){return i.__awaiter(this,void 0,void 0,(function(){var n,r,o,s;return i.__generator(this,(function(a){switch(a.label){case 0:return d(t)&&t.error?(t=(s=t).error,n=bt(vt(t)),[3,7]):[3,1];case 1:return g(t)||v(t)?(r=(s=t).name||(g(s)?"DOMError":"DOMException"),o=s.message?r+": "+s.message:r,[4,this.eventFromMessage(o,void 0,e)]):[3,3];case 2:return wt(n=a.sent(),o),[3,7];case 3:return p(t)?(n=bt(vt(t)),[3,7]):[3,4];case 4:return _(t)&&e&&e.syntheticException?(wt(n=function(t,e){var n=Object.keys(t).sort(),r={extra:{__serialized__:z(t)},fingerprint:[ot(n.join(""))],message:"Non-Error exception captured with keys: "+W(n)};if(e){var i=_t(vt(e).stack);r.stacktrace={frames:i}}return r}(s=t,e.syntheticException),"Custom Object"),[3,7]):[3,5];case 5:return s=t,[4,this.eventFromMessage(s,void 0,e)];case 6:wt(n=a.sent(),""+s),a.label=7;case 7:return[2,n=i.__assign({},n,{event_id:e&&e.event_id,exception:i.__assign({},n.exception,{mechanism:{handled:!0,type:"generic"}})})]}}))}))},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=l.Info),i.__awaiter(this,void 0,void 0,(function(){var r,o,s;return i.__generator(this,(function(i){return r={event_id:n&&n.event_id,level:e,message:t},this.options.attachStacktrace&&n&&n.syntheticException&&(o=vt(n.syntheticException),s=_t(o.stack),r.stacktrace={frames:s}),[2,r]}))}))},e}(o.BaseBackend),It="sentry.javascript.browser",Nt=function(t){function e(e){return t.call(this,Ct,e)||this}return i.__extends(e,t),e.prototype.prepareEvent=function(e,n,r){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(o){return e.platform=e.platform||"javascript",e.sdk=i.__assign({},e.sdk,{name:It,packages:i.__spread(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:"4.5.3"}]),version:"4.5.3"}),[2,t.prototype.prepareEvent.call(this,e,n,r)]}))}))},e.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=x().document;if(e){var n=t.dsn||this.getDsn();if(!t.eventId)throw new o.SentryError("Missing `eventId` option in showReportDialog call");if(!n)throw new o.SentryError("Missing `Dsn` option in showReportDialog call");var r=e.createElement("script");r.async=!0,r.src=new o.API(n).getReportDialogEndpoint(t),(e.head||e.body).appendChild(r)}},e}(o.BaseClient),At=u((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=w.getGlobalObject(),r=new(function(){function t(){this.enabled=!1}return t.prototype.disable=function(){this.enabled=!1},t.prototype.enable=function(){this.enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&w.consoleSandbox((function(){n.console.log("Sentry Logger [Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&w.consoleSandbox((function(){n.console.warn("Sentry Logger [Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&w.consoleSandbox((function(){n.console.error("Sentry Logger [Error]: "+t.join(" "))}))},t}());e.logger=r}));a(At);var Rt,Pt,Dt=At.logger,jt=1e3,Lt=0;function Bt(){Lt+=1,setTimeout((function(){Lt-=1}))}function Ut(t,e,n){if(void 0===e&&(e={}),!y(t))return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(a){return t}var r=function(){var r=this;n&&y(n)&&n.apply(this,arguments);var s=Array.prototype.slice.call(arguments);try{var a=s.map((function(t){return Ut(t,e)}));return t.handleEvent?t.handleEvent.apply(this,a):t.apply(this,a)}catch(u){throw Bt(),o.withScope((function(t){return i.__awaiter(r,void 0,void 0,(function(){var n=this;return i.__generator(this,(function(r){return t.addEventProcessor((function(t){return i.__awaiter(n,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){return n=i.__assign({},t),e.mechanism&&(n.exception=n.exception||{},n.exception.mechanism=e.mechanism),n.extra=i.__assign({},n.extra,{arguments:H(s,2)}),[2,n]}))}))})),o.captureException(u),[2]}))}))})),u}};try{for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch(u){}return r.prototype=t.prototype,t.__sentry_wrapped__=r,r.__sentry__=!0,r.__sentry_original__=t,r}function Ft(t){return function(e){if(Rt=void 0,Pt!==e){var n;Pt=e;try{n=E(e.target)}catch(r){n="<unknown>"}o.getCurrentHub().addBreadcrumb({category:"ui."+t,message:n},{event:e,name:t})}}}function Vt(){return function(t){var e;try{e=t.target}catch(r){return}var n=e&&e.tagName;n&&("INPUT"===n||"TEXTAREA"===n||e.isContentEditable)&&(Rt||Ft("input")(t),clearTimeout(Rt),Rt=setTimeout((function(){Rt=void 0}),jt))}}var Ht=function(){function t(e){this.name=t.id,this.options=i.__assign({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){pt((function(e,n,r){if(!(Lt>0)){var i=o.getCurrentHub().getIntegration(t);i&&o.getCurrentHub().captureEvent(i.eventFromGlobalHandler(e),{originalException:r,data:{stack:e}})}})),this.options.onerror&&(Dt.log("Global Handler attached: onerror"),dt()),this.options.onunhandledrejection&&(Dt.log("Global Handler attached: onunhandledrejection"),gt())},t.prototype.eventFromGlobalHandler=function(t){var e=bt(t),n={mode:t.mode};t.message&&(n.message=t.message),t.name&&(n.name=t.name);var r=i.__assign({},e,{exception:i.__assign({},e.exception,{mechanism:{data:n,handled:!1,type:t.mechanism}})});return wt(r,"undefined"!==typeof t.original?""+D(U(Y(t.original)),300):"","onunhandledrejection"===t.mechanism?"UnhandledRejection":"Error"),r},t.id="GlobalHandlers",t}(),zt=function(){function t(){this.ignoreOnError=0,this.name=t.id}return t.prototype.wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=Ut(r,{mechanism:{data:{function:Wt(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype.wrapRAF=function(t){return function(e){return t(Ut(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Wt(t)},handled:!0,type:"instrument"}}))}},t.prototype.wrapEventTarget=function(t){var e=x(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(V(n,"addEventListener",(function(e){return function(n,r,i){try{r.handleEvent=Ut(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Wt(r),target:t},handled:!0,type:"instrument"}})}catch(u){}var o,s,a;return"EventTarget"!==t&&"Node"!==t||(s=Ft("click"),a=Vt(),o=function(t){if(t){var e;try{e=t.type}catch(n){return}return"click"===e?s(t):"keypress"===e?a(t):void 0}}),e.call(this,n,Ut(r,{mechanism:{data:{function:"addEventListener",handler:Wt(r),target:t},handled:!0,type:"instrument"}},o),i)}})),V(n,"removeEventListener",(function(t){return function(e,n,r){var i=n;try{i=i&&(i.__sentry_wrapped__||i)}catch(o){}return t.call(this,e,i,r)}})))},t.prototype.setupOnce=function(){this.ignoreOnError=this.ignoreOnError;var t=x();V(t,"setTimeout",this.wrapTimeFunction.bind(this)),V(t,"setInterval",this.wrapTimeFunction.bind(this)),V(t,"requestAnimationFrame",this.wrapRAF.bind(this)),["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(this.wrapEventTarget.bind(this))},t.id="TryCatch",t}();function Wt(t){try{return t&&t.name||"<anonymous>"}catch(e){return"<anonymous>"}}var Yt,qt=x(),Gt=function(){function t(e){this.name=t.id,this.options=i.__assign({beacon:!0,console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.instrumentBeacon=function(){C()&&V(qt.navigator,"sendBeacon",(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=e.apply(this,n),u=o.getCurrentHub().getClient(),c=u&&u.getDsn();if(c){var f=new o.API(c).getStoreEndpoint();if(f&&L(i,f))return $t(s),a}var h={category:"beacon",data:s,type:"http"};return a||(h.level=l.Error),t.addBreadcrumb(h,{input:n,result:a}),a}}))},t.prototype.instrumentConsole=function(){"console"in qt&&["debug","info","warn","error","log"].forEach((function(e){e in qt.console&&V(qt.console,e,(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o={category:"console",data:{extra:{arguments:H(r,2)},logger:"console"},level:l.fromString(e),message:j(r," ")};"assert"===e&&!1===r[0]&&(o.message="Assertion failed: "+(j(r.slice(1)," ")||"console.assert"),o.data.extra.arguments=H(r.slice(1),2)),t.addBreadcrumb(o,{input:r,level:e}),n&&Function.prototype.apply.call(n,qt.console,r)}}))}))},t.prototype.instrumentDOM=function(){"document"in qt&&(qt.document.addEventListener("click",Ft("click"),!1),qt.document.addEventListener("keypress",Vt(),!1))},t.prototype.instrumentFetch=function(){O()&&V(qt,"fetch",(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i,s=n[0],a="GET";"string"===typeof s?i=s:"Request"in qt&&s instanceof Request?(i=s.url,s.method&&(a=s.method)):i=String(s),n[1]&&n[1].method&&(a=n[1].method);var u=o.getCurrentHub().getClient(),c=u&&u.getDsn();if(c){var f=new o.API(c).getStoreEndpoint();if(f&&L(i,f))return"POST"===a&&n[1]&&n[1].body&&$t(n[1].body),e.apply(qt,n)}var h={method:a,url:i};return e.apply(qt,n).then((function(e){return h.status_code=e.status,t.addBreadcrumb({category:"fetch",data:h,type:"http"},{input:n,response:e}),e})).catch((function(e){throw t.addBreadcrumb({category:"fetch",data:h,level:l.Error,type:"http"},{error:e,input:n}),e}))}}))},t.prototype.instrumentHistory=function(){var e=this;if(A()){var n=function(e,n){var r=S(qt.location.href),i=S(n),o=S(e);o.path||(o=r),Yt=n,r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),t.addBreadcrumb({category:"navigation",data:{from:e,to:n}})},r=qt.onpopstate;qt.onpopstate=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o=qt.location.href;if(n(Yt,o),r)return r.apply(e,t)},V(qt.history,"pushState",i),V(qt.history,"replaceState",i)}function i(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=e.length>2?e[2]:void 0;return i&&n(Yt,String(i)),t.apply(this,e)}}},t.prototype.instrumentXHR=function(){if("XMLHttpRequest"in qt){var e=XMLHttpRequest.prototype;V(e,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[1];this.__sentry_xhr__={method:e[0],url:e[1]};var i=o.getCurrentHub().getClient(),s=i&&i.getDsn();if(s){var a=new o.API(s).getStoreEndpoint();b(r)&&a&&L(r,a)&&(this.__sentry_own_request__=!0)}return t.apply(this,e)}})),V(e,"send",(function(e){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this;function s(){if(4===o.readyState){if(o.__sentry_own_request__)return;try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(e){}t.addBreadcrumb({category:"xhr",data:o.__sentry_xhr__,type:"http"},{xhr:o})}}return o.__sentry_own_request__&&$t(r[0]),["onload","onerror","onprogress"].forEach((function(t){n(t,o)})),"onreadystatechange"in o&&y(o.onreadystatechange)?V(o,"onreadystatechange",(function(t){return Ut(t,{mechanism:{data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"},handled:!0,type:"instrument"}},s)})):o.onreadystatechange=s,e.apply(this,r)}}))}function n(t,e){t in e&&y(e[t])&&V(e,t,(function(e){return Ut(e,{mechanism:{data:{function:t,handler:e&&e.name||"<anonymous>"},handled:!0,type:"instrument"}})}))}},t.addBreadcrumb=function(e,n){o.getCurrentHub().getIntegration(t)&&o.getCurrentHub().addBreadcrumb(e,n)},t.prototype.setupOnce=function(){this.options.console&&this.instrumentConsole(),this.options.dom&&this.instrumentDOM(),this.options.xhr&&this.instrumentXHR(),this.options.fetch&&this.instrumentFetch(),this.options.beacon&&this.instrumentBeacon(),this.options.history&&this.instrumentHistory()},t.id="Breadcrumbs",t}();function $t(t){try{var e=F(t);Gt.addBreadcrumb({category:"sentry",event_id:e.event_id,level:e.level||l.fromString("error"),message:k(e)},{event:e})}catch(n){Dt.error("Error while adding sentry type breadcrumb")}}var Kt,Xt="cause",Jt=5,Zt=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this.key=e.key||Xt,this.limit=e.limit||Jt}return t.prototype.setupOnce=function(){var e=this;o.addGlobalEventProcessor((function(n,r){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(i){return(e=o.getCurrentHub().getIntegration(t))?[2,e.handler(n,r)]:[2,n]}))}))}))},t.prototype.handler=function(t,e){if(!t.exception||!t.exception.values||!e||!(e.originalException instanceof Error))return t;var n=this.walkErrorTree(e.originalException,this.key);return t.exception.values=i.__spread(n,t.exception.values),t},t.prototype.walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!(t[e]instanceof Error)||n.length+1>=this.limit)return n;var r=yt(vt(t[e]));return this.walkErrorTree(t[e],e,i.__spread([r],n))},t.id="LinkedErrors",t}(),Qt=x(),te=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){var e=this;o.addGlobalEventProcessor((function(n){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(r){return o.getCurrentHub().getIntegration(t)&&Qt.navigator&&Qt.location?((e=n.request||{}).url=e.url||Qt.location.href,e.headers=e.headers||{},e.headers["User-Agent"]=Qt.navigator.userAgent,[2,i.__assign({},n,{request:e})]):[2,n]}))}))}))},t.id="UserAgent",t}(),ee=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this.Ember=e.Ember||x().Ember}return t.prototype.setupOnce=function(){var e=this;if(this.Ember){var n=this.Ember.onerror;this.Ember.onerror=function(r){if(o.getCurrentHub().getIntegration(t)&&o.withScope((function(t){e.addIntegrationToSdkInfo(t),o.captureException(r)})),"function"===typeof n)n.call(e.Ember,r);else if(e.Ember.testing)throw r},this.Ember.RSVP.on("error",(function(n){o.getCurrentHub().getIntegration(t)&&o.withScope((function(t){n instanceof Error?(t.setExtra("context","Unhandled Promise error detected"),e.addIntegrationToSdkInfo(t),o.captureException(n)):(t.setExtra("reason",n),e.addIntegrationToSdkInfo(t),o.captureMessage("Unhandled Promise error detected"))}))}))}},t.prototype.addIntegrationToSdkInfo=function(t){var e=this;t.addEventProcessor((function(t){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){return t.sdk&&(e=t.sdk.integrations||[],t.sdk=i.__assign({},t.sdk,{integrations:i.__spread(e,["ember"])})),[2,t]}))}))}))},t.id="Ember",t}(),ne=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this.Vue=e.Vue||x().Vue}return t.prototype.formatComponentName=function(t){if(t.$root===t)return"root instance";var e=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(e?"component <"+e+">":"anonymous component")+(t._isVue&&t.$options.__file?" at "+t.$options.__file:"")},t.prototype.setupOnce=function(){var e=this;if(this.Vue&&this.Vue.config){var n=this.Vue.config.errorHandler;this.Vue.config.errorHandler=function(r,s,a){var u={};_(s)&&(u.componentName=e.formatComponentName(s),u.propsData=s.$options.propsData),m(a)||(u.lifecycleHook=a),o.getCurrentHub().getIntegration(t)&&o.withScope((function(t){Object.keys(u).forEach((function(e){t.setExtra(e,u[e])})),t.addEventProcessor((function(t){return i.__awaiter(e,void 0,void 0,(function(){var e;return i.__generator(this,(function(n){return t.sdk&&(e=t.sdk.integrations||[],t.sdk=i.__assign({},t.sdk,{integrations:i.__spread(e,["vue"])})),[2,t]}))}))})),o.captureException(r)})),"function"===typeof n&&n.call(e.Vue,r,s,a)}}},t.id="Vue",t}();!function(t){t.Crash="crash",t.Deprecation="deprecation",t.Intervention="intervention"}(Kt||(Kt={}));var re=function(){function t(e){void 0===e&&(e={types:[Kt.Crash,Kt.Deprecation,Kt.Intervention]}),this.options=e,this.name=t.id}return t.prototype.setupOnce=function(){I()&&new(x().ReportingObserver)(this.handler.bind(this),{buffered:!0,types:this.options.types}).observe()},t.prototype.handler=function(e){var n,r;if(o.getCurrentHub().getIntegration(t)){var s=function(t){o.withScope((function(e){e.setExtra("url",t.url);var n="ReportingObserver ["+t.type+"]",r="No details available";if(t.body){var i,s={};for(var a in t.body)s[a]=t.body[a];if(e.setExtra("body",s),t.type===Kt.Crash)r=[(i=t.body).crashId||"",i.reason||""].join(" ").trim()||r;else r=(i=t.body).message||r}o.captureMessage(n+": "+r)}))};try{for(var a=i.__values(e),u=a.next();!u.done;u=a.next()){s(u.value)}}catch(c){n={error:c}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},t.id="ReportingObserver",t}(),ie=Object.freeze({GlobalHandlers:Ht,TryCatch:zt,Breadcrumbs:Gt,LinkedErrors:Zt,UserAgent:te,Ember:ee,Vue:ne,ReportingObserver:re}),oe=[new o.Integrations.Dedupe,new o.Integrations.InboundFilters,new o.Integrations.FunctionToString,new o.Integrations.ExtraErrorData,new zt,new Gt,new Ht,new Zt,new te];var se=i.__assign({},o.Integrations,ie);e.addGlobalEventProcessor=o.addGlobalEventProcessor,e.addBreadcrumb=o.addBreadcrumb,e.captureException=o.captureException,e.captureEvent=o.captureEvent,e.captureMessage=o.captureMessage,e.configureScope=o.configureScope,e.withScope=o.withScope,e.getHubFromCarrier=o.getHubFromCarrier,e.getCurrentHub=o.getCurrentHub,e.Hub=o.Hub,e.Scope=o.Scope,e.Integrations=se,e.Transports=Ot,e.Severity=l,e.Status=f,e.BrowserBackend=Ct,e.BrowserClient=Nt,e.defaultIntegrations=oe,e.forceLoad=function(){},e.init=function(t){void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=oe),o.initAndBind(Nt,t)},e.lastEventId=function(){return o.getCurrentHub().lastEventId()},e.onLoad=function(t){t()},e.showReportDialog=function(t){void 0===t&&(t={}),t.eventId||(t.eventId=o.getCurrentHub().lastEventId()),o.getCurrentHub().getClient().showReportDialog(t)},e.SDK_NAME=It,e.SDK_VERSION="4.5.3"}).call(this,n(5),n(36))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(133);e.addBreadcrumb=r.addBreadcrumb,e.captureException=r.captureException,e.captureEvent=r.captureEvent,e.captureMessage=r.captureMessage,e.configureScope=r.configureScope,e.withScope=r.withScope;var i=n(15);e.addGlobalEventProcessor=i.addGlobalEventProcessor,e.getCurrentHub=i.getCurrentHub,e.Hub=i.Hub,e.getHubFromCarrier=i.getHubFromCarrier,e.Scope=i.Scope;var o=n(136);e.API=o.API;var s=n(137);e.BaseClient=s.BaseClient;var a=n(140);e.BaseBackend=a.BaseBackend;var u=n(47);e.Dsn=u.Dsn;var c=n(37);e.SentryError=c.SentryError;var l=n(74);e.PromiseBuffer=l.PromiseBuffer;var f=n(141);e.LogLevel=f.LogLevel;var h=n(142);e.initAndBind=h.initAndBind;var p=n(75);e.NoopTransport=p.NoopTransport;var d=n(143);e.Integrations=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(15);function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=i.getCurrentHub();if(o&&o[t])return o[t].apply(o,r.__spread(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}e.captureException=function(t){var e;try{throw new Error("Sentry syntheticException")}catch(t){e=t}return o("captureException",t,{originalException:t,syntheticException:e})},e.captureMessage=function(t,e){var n;try{throw new Error(t)}catch(r){n=r}return o("captureMessage",t,e,{originalException:t,syntheticException:n})},e.captureEvent=function(t){return o("captureEvent",t)},e.addBreadcrumb=function(t){o("addBreadcrumb",t)},e.configureScope=function(t){o("configureScope",t)},e.withScope=function(t){o("withScope",t)},e._callOnClient=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];o.apply(void 0,r.__spread(["invokeClient",t],e))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=function(){function t(){this.hasWeakSet="function"===typeof WeakSet,this.inner=this.hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){var e,n;if(this.hasWeakSet)return!!this.inner.has(t)||(this.inner.add(t),!1);try{for(var i=r.__values(this.inner),o=i.next();!o.done;o=i.next()){if(o.value===t)return!0}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this.inner.push(t),!1},t.prototype.unmemoize=function(t){if(this.hasWeakSet)this.inner.delete(t);else for(var e=0;e<this.inner.length;e++)if(this.inner[e]===t){this.inner.splice(e,1);break}},t}();e.Memo=i},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(14),o=n(20),s=n(72);e.API_VERSION=3;var a=function(){function t(t,n,r){void 0===n&&(n=new s.Scope),void 0===r&&(r=e.API_VERSION),this.version=r,this.stack=[],this.stack.push({client:t,scope:n})}return t.prototype.invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop();o&&o.client&&o.client[t]&&(e=o.client)[t].apply(e,r.__spread(n,[o.scope]))},t.prototype.invokeClientAsync=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var s=this.getStackTop();s&&s.client&&s.client[t]&&(e=s.client)[t].apply(e,r.__spread(n,[s.scope])).catch((function(t){i.logger.error(t)}))},t.prototype.isOlderThan=function(t){return this.version<t},t.prototype.bindClient=function(t){var e=this.getStackTop();e.client=t,e&&e.scope&&t&&e.scope.addScopeListener((function(e){if(t.getBackend)try{t.getBackend().storeScope(e)}catch(n){}}))},t.prototype.pushScope=function(){var t=this.getStack(),e=t.length>0?t[t.length-1].scope:void 0,n=s.Scope.clone(e);return this.getStack().push({client:this.getClient(),scope:n}),n},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this.stack},t.prototype.getStackTop=function(){return this.stack[this.stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=o.uuid4();return this.invokeClientAsync("captureException",t,r.__assign({},e,{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var i=this._lastEventId=o.uuid4();return this.invokeClientAsync("captureMessage",t,e,r.__assign({},n,{event_id:i})),i},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=o.uuid4();return this.invokeClientAsync("captureEvent",t,r.__assign({},e,{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){this.invokeClient("addBreadcrumb",t,r.__assign({},e))},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=c(this);try{t(this)}finally{c(e)}},t.prototype.getIntegration=function(t){try{return this.getClient().getIntegration(t)}catch(e){return i.logger.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t}();function u(){var t=o.getGlobalObject();return t.__SENTRY__=t.__SENTRY__||{hub:void 0},t}function c(t){var e=u(),n=f(e);return h(e,t),n}function l(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function f(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__={},t.__SENTRY__.hub=new a,t.__SENTRY__.hub)}function h(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}e.Hub=a,e.getMainCarrier=u,e.makeMain=c,e.getCurrentHub=function(){var n=u();l(n)&&!f(n).isOlderThan(e.API_VERSION)||h(n,new a);try{var r=o.dynamicRequire(t,"domain").active;if(!r)return f(n);if(!l(r)||f(r).isOlderThan(e.API_VERSION)){var i=f(n).getStackTop();h(r,new a(i.client,s.Scope.clone(i.scope)))}return f(r)}catch(c){return f(n)}},e.hasHubOnCarrier=l,e.getHubFromCarrier=f,e.setHubOnCarrier=h}).call(this,n(44)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28),i=n(47),o=function(){function t(t){this.dsn=t,this.dsnObject=new i.Dsn(t)}return t.prototype.getDsn=function(){return this.dsnObject},t.prototype.getStoreEndpoint=function(){return""+this.getBaseUrl()+this.getStoreEndpointPath()},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){var t={sentry_key:this.dsnObject.user,sentry_version:"7"};return this.getStoreEndpoint()+"?"+r.urlEncode(t)},t.prototype.getBaseUrl=function(){var t=this.dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n},t.prototype.getStoreEndpointPath=function(){var t=this.dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this.dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_timestamp="+(new Date).getTime()),r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this.dsnObject,n=this.getBaseUrl()+(e.path?"/"+e.path:"")+"/api/embed/error-page/",r=[];for(var i in r.push("dsn="+e.toString()),t)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t}();e.API=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(73),o=n(138),s=n(19),a=n(14),u=n(20),c=n(46),l=n(47),f=n(139),h=n(74),p=function(){function t(t,e){this.buffer=new h.PromiseBuffer,this.backend=new t(e),this.options=e,e.dsn&&(this.dsn=new l.Dsn(e.dsn)),this.integrations=f.setupIntegrations(this.options)}return t.prototype.install=function(){if(!this.isEnabled())return this.installed=!1;var t=this.getBackend();return!this.installed&&t.install&&t.install(),this.installed=!0},t.prototype.captureException=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){return[2,this.buffer.add(r.__awaiter(i,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.getBackend().eventFromException(t,e)];case 1:return i=r.sent(),[2,this.captureEvent(i,e,n)]}}))})))]}))}))},t.prototype.captureMessage=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o=this;return r.__generator(this,(function(a){return[2,this.buffer.add(r.__awaiter(o,void 0,void 0,(function(){var o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return s.isPrimitive(t)?[4,this.getBackend().eventFromMessage(""+t,e,n)]:[3,2];case 1:return a=r.sent(),[3,4];case 2:return[4,this.getBackend().eventFromException(t,n)];case 3:a=r.sent(),r.label=4;case 4:return o=a,[2,this.captureEvent(o,n,i)]}}))})))]}))}))},t.prototype.captureEvent=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){return[2,this.buffer.add(r.__awaiter(i,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(o){return[2,this.processEvent(t,(function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){return[2,this.getBackend().sendEvent(t)]}))}))}),e,n)]}))})))]}))}))},t.prototype.addBreadcrumb=function(t,e,n){var i=this.getOptions(),o=i.beforeBreadcrumb,s=i.maxBreadcrumbs,a=void 0===s?30:s;if(!(a<=0)){var c=(new Date).getTime()/1e3,l=r.__assign({timestamp:c},t),f=o?u.consoleSandbox((function(){return o(l,e)})):l;null!==f&&this.getBackend().storeBreadcrumb(f)&&n&&n.addBreadcrumb(f,Math.min(a,100))}},t.prototype.getDsn=function(){return this.dsn},t.prototype.getOptions=function(){return this.options},t.prototype.getBackend=function(){return this.backend},t.prototype.isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this.dsn},t.prototype.prepareEvent=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,l,f,h,p,d;return r.__generator(this,(function(g){return i=this.getOptions(),o=i.environment,s=i.maxBreadcrumbs,a=void 0===s?30:s,l=i.release,f=i.dist,void 0===(h=r.__assign({},t)).environment&&void 0!==o&&(h.environment=o),void 0===h.release&&void 0!==l&&(h.release=l),void 0===h.dist&&void 0!==f&&(h.dist=f),h.message&&(h.message=c.truncate(h.message,250)),(p=h.exception&&h.exception.values&&h.exception.values[0])&&p.value&&(p.value=c.truncate(p.value,250)),(d=h.request)&&d.url&&(d.url=c.truncate(d.url,250)),void 0===h.event_id&&(h.event_id=u.uuid4()),e?[2,e.applyToEvent(h,n,Math.min(a,100))]:[2,h]}))}))},t.prototype.processEvent=function(t,e,n,s){return r.__awaiter(this,void 0,void 0,(function(){var u,c,l,f,h,p,d,g;return r.__generator(this,(function(r){switch(r.label){case 0:return this.isEnabled()?(u=this.getOptions(),c=u.beforeSend,"number"===typeof(l=u.sampleRate)&&Math.random()>l?[2,{status:i.Status.Skipped}]:[4,this.prepareEvent(t,s,n)]):[2,{status:i.Status.Skipped}];case 1:if(null===(f=r.sent()))return[2,{status:i.Status.Skipped}];h=f,r.label=2;case 2:return r.trys.push([2,5,,6]),n&&n.data&&!0===n.data.__sentry__||!c?[3,4]:[4,c(f,n)];case 3:"undefined"===typeof(h=r.sent())&&a.logger.error("`beforeSend` method has to return `null` or a valid event"),r.label=4;case 4:return[3,6];case 5:return p=r.sent(),o.forget(this.captureException(p,{data:{__sentry__:!0},originalException:p})),[2,{reason:"Event processing in beforeSend method threw an exception",status:i.Status.Invalid}];case 6:if(null===h)return[2,{reason:"Event dropped due to being discarded by beforeSend method",status:i.Status.Skipped}];r.label=7;case 7:return r.trys.push([7,9,,10]),[4,e(h)];case 8:return(d=r.sent()).event=h,d.status,i.Status.RateLimit,[2,d];case 9:return g=r.sent(),a.logger.error(""+g),[2,{reason:""+g,status:i.Status.Failed}];case 10:return[2]}}))}))},t.prototype.close=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Promise.all([this.getBackend().getTransport().close(t),this.buffer.drain(t)])];case 1:return[2,e.sent().reduce((function(t,e){return t&&e}))]}}))}))},t.prototype.getIntegrations=function(){return this.integrations||{}},t.prototype.getIntegration=function(t){try{return this.integrations[t.id]||null}catch(e){return a.logger.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t}();e.BaseClient=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6);e.forget=function(t){t.catch((function(t){console.error(t)}))},e.filterAsync=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all(t.map(e,n))];case 1:return i=r.sent(),[2,t.filter((function(t,e){return i[e]}))]}}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(14);function o(t){var e,n,i,o,s=t.defaultIntegrations&&r.__spread(t.defaultIntegrations)||[],u=t.integrations,c=[];if(Array.isArray(u)){var l=u.map((function(t){return t.name})),f=[];try{for(var h=r.__values(s),p=h.next();!p.done;p=h.next()){var d=p.value;-1===l.indexOf(a(d))&&-1===f.indexOf(a(d))&&(c.push(d),f.push(a(d)))}}catch(y){e={error:y}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}try{for(var g=r.__values(u),v=g.next();!v.done;v=g.next()){var m=v.value;-1===f.indexOf(a(m))&&(c.push(m),f.push(a(m)))}}catch(b){i={error:b}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}}else{if("function"!==typeof u)return r.__spread(s);c=u(s),c=Array.isArray(c)?c:[c]}return c}function s(t,n){if(-1===e.installedIntegrations.indexOf(a(t))){try{t.setupOnce()}catch(r){t.install&&(i.logger.warn("Integration "+a(t)+': The install method is deprecated. Use "setupOnce".'),t.install(n))}e.installedIntegrations.push(a(t)),i.logger.log("Integration installed: "+a(t))}}function a(t){return t.constructor.id||t.name}e.installedIntegrations=[],e.getIntegrationsToSetup=o,e.setupIntegration=s,e.setupIntegrations=function(t){var e={};return o(t).forEach((function(n){e[a(n)]=n,s(n,t)})),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(14),o=n(28),s=n(37),a=n(75),u=function(){function t(t){this.options=t,this.options.dsn||i.logger.warn("No DSN provided, backend will not do anything."),this.transport=this.setupTransport()}return t.prototype.setupTransport=function(){return new a.NoopTransport},t.prototype.eventFromException=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){throw new s.SentryError("Backend has to implement `eventFromException` method")}))}))},t.prototype.eventFromMessage=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){throw new s.SentryError("Backend has to implement `eventFromMessage` method")}))}))},t.prototype.sendEvent=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.transport.captureEvent?[2,this.transport.captureEvent(t)]:[2,this.transport.sendEvent(o.serialize(t))]}))}))},t.prototype.storeBreadcrumb=function(t){return!0},t.prototype.storeScope=function(t){},t.prototype.getTransport=function(){return this.transport},t}();e.BaseBackend=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"}(e.LogLevel||(e.LogLevel={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),i=n(14);e.initAndBind=function(t,e){if(!0===e.debug&&i.logger.enable(),!r.getCurrentHub().getClient()){var n=new t(e);r.getCurrentHub().bindClient(n),n.install()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(144);e.Dedupe=r.Dedupe;var i=n(145);e.FunctionToString=i.FunctionToString;var o=n(146);e.SDKInformation=o.SDKInformation;var s=n(147);e.InboundFilters=s.InboundFilters;var a=n(148);e.ExtraErrorData=a.ExtraErrorData;var u=n(149);e.Debug=u.Debug;var c=n(150);e.RewriteFrames=c.RewriteFrames},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(15),o=n(14),s=n(20),a=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){var e=this;i.addGlobalEventProcessor((function(n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){if(e=i.getCurrentHub().getIntegration(t)){try{if(e.shouldDropEvent(n,e.previousEvent))return[2,null]}catch(o){return[2,e.previousEvent=n]}return[2,e.previousEvent=n]}return[2,n]}))}))}))},t.prototype.shouldDropEvent=function(t,e){return!!e&&(this.isSameMessageEvent(t,e)?(o.logger.warn("Event dropped due to being a duplicate of previous event (same message).\nEvent: "+s.getEventDescription(t)),!0):!!this.isSameExceptionEvent(t,e)&&(o.logger.warn("Event dropped due to being a duplicate of previous event (same exception).\nEvent: "+s.getEventDescription(t)),!0))},t.prototype.isSameMessageEvent=function(t,e){var n=t.message,r=e.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!this.isSameFingerprint(t,e)&&!!this.isSameStacktrace(t,e))))},t.prototype.getFramesFromEvent=function(t){var e=t.exception;if(!e)return t.stacktrace?t.stacktrace.frames:void 0;try{return e.values[0].stacktrace.frames}catch(n){return}},t.prototype.isSameStacktrace=function(t,e){var n=this.getFramesFromEvent(t),r=this.getFramesFromEvent(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(n=n,(r=r).length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0},t.prototype.getExceptionFromEvent=function(t){return t.exception&&t.exception.values&&t.exception.values[0]},t.prototype.isSameExceptionEvent=function(t,e){var n=this.getExceptionFromEvent(e),r=this.getExceptionFromEvent(t);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!this.isSameFingerprint(t,e)&&!!this.isSameStacktrace(t,e)))},t.prototype.isSameFingerprint=function(t,e){var n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return!(n.join("")!==r.join(""))}catch(i){return!1}},t.id="Dedupe",t}();e.Dedupe=a},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){r=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry__?this.__sentry_original__:this;return r.apply(n,t)}},t.id="FunctionToString",t}();e.FunctionToString=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),i=function(){function t(){this.name="SDKInformation"}return t.prototype.setupOnce=function(){r.logger.warn("SDKInformation Integration is deprecated and can be safely removed. It's functionality has been merged into the SDK's core.")},t}();e.SDKInformation=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(15),o=n(19),s=n(14),a=n(20),u=n(46),c=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],l=function(){function t(e){void 0===e&&(e={}),this.options=e,this.name=t.id}return t.prototype.setupOnce=function(){var e=this;i.addGlobalEventProcessor((function(n){return r.__awaiter(e,void 0,void 0,(function(){var e,o,s,a,u;return r.__generator(this,(function(r){return(e=i.getCurrentHub())&&(o=e.getIntegration(t))&&(s=e.getClient(),a=s?s.getOptions():{},u=o.mergeOptions(a),o.shouldDropEvent(n,u))?[2,null]:[2,n]}))}))}))},t.prototype.shouldDropEvent=function(t,e){return this.isSentryError(t,e)?(s.logger.warn("Event dropped due to being internal Sentry Error.\nEvent: "+a.getEventDescription(t)),!0):this.isIgnoredError(t,e)?(s.logger.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+a.getEventDescription(t)),!0):this.isBlacklistedUrl(t,e)?(s.logger.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+a.getEventDescription(t)+".\nUrl: "+this.getEventFilterUrl(t)),!0):!this.isWhitelistedUrl(t,e)&&(s.logger.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+a.getEventDescription(t)+".\nUrl: "+this.getEventFilterUrl(t)),!0)},t.prototype.isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return"SentryError"===t.exception.values[0].type}catch(n){return!1}},t.prototype.isIgnoredError=function(t,e){var n=this;return void 0===e&&(e={}),!(!e.ignoreErrors||!e.ignoreErrors.length)&&this.getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return n.isMatchingPattern(t,e)}))}))},t.prototype.isBlacklistedUrl=function(t,e){var n=this;if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var r=this.getEventFilterUrl(t);return!!r&&e.blacklistUrls.some((function(t){return n.isMatchingPattern(r,t)}))},t.prototype.isWhitelistedUrl=function(t,e){var n=this;if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var r=this.getEventFilterUrl(t);return!r||e.whitelistUrls.some((function(t){return n.isMatchingPattern(r,t)}))},t.prototype.mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:r.__spread(this.options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:r.__spread(this.options.ignoreErrors||[],t.ignoreErrors||[],c),ignoreInternal:"undefined"===typeof this.options.ignoreInternal||this.options.ignoreInternal,whitelistUrls:r.__spread(this.options.whitelistUrls||[],t.whitelistUrls||[])}},t.prototype.isMatchingPattern=function(t,e){return o.isRegExp(e)?e.test(t):"string"===typeof e&&u.includes(t,e)},t.prototype.getPossibleEventMessages=function(t){if(t.message)return[t.message];if(!t.exception)return[];try{var e=t.exception.values[0],n=e.type,r=e.value;return[""+r,n+": "+r]}catch(i){return s.logger.error("Cannot extract message for event "+a.getEventDescription(t)),[]}},t.prototype.getEventFilterUrl=function(t){try{return t.stacktrace?t.stacktrace.frames[0].filename:t.exception?t.exception.values[0].stacktrace.frames[0].filename:null}catch(e){return s.logger.error("Cannot extract url for event "+a.getEventDescription(t)),null}},t.id="InboundFilters",t}();e.InboundFilters=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(15),o=n(19),s=n(14),a=n(28),u=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){var e=this;i.addGlobalEventProcessor((function(n,o){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return(e=i.getCurrentHub().getIntegration(t))?[2,e.enhanceEventWithErrorData(n,o)]:[2,n]}))}))}))},t.prototype.enhanceEventWithErrorData=function(t,e){if(!e||!e.originalException||!o.isError(e.originalException))return t;var n=this.extractErrorData(e.originalException);if(n){var i=r.__assign({},t.extra),s=a.safeNormalize(n);return o.isString(s)||(i=r.__assign({},t.extra,s)),r.__assign({},t,{extra:i})}return t},t.prototype.extractErrorData=function(t){var e,n,i,a=null;try{var u=["name","message","stack","line","column","fileName","lineNumber","columnNumber"],c=t.name||t.constructor.name,l=Object.getOwnPropertyNames(t).filter((function(t){return-1===u.indexOf(t)}));if(l.length){var f={};try{for(var h=r.__values(l),p=h.next();!p.done;p=h.next()){var d=p.value,g=t[d];o.isError(g)&&(g=g.name||g.constructor.name),f[d]=g}}catch(v){e={error:v}}finally{try{p&&!p.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}(i={})[c]=f,a=i}}catch(m){s.logger.error("Unable to extract extra data from the Error object:",m)}return a},t.id="ExtraErrorData",t}();e.ExtraErrorData=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(15),o=function(){function t(e){this.name=t.id,this.options=r.__assign({debugger:!1,stringify:!1},e)}return t.prototype.setupOnce=function(){var e=this;i.addGlobalEventProcessor((function(n,o){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return(e=i.getCurrentHub().getIntegration(t))&&(e.options.debugger,e.options.stringify?(console.log(JSON.stringify(n,null,2)),o&&console.log(JSON.stringify(o,null,2))):(console.log(n),o&&console.log(o))),[2,n]}))}))}))},t.id="Debug",t}();e.Debug=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(15),o=n(151),s=function(){function t(e){void 0===e&&(e={});var n=this;this.name=t.id,this.iteratee=function(t){return r.__awaiter(n,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return t.filename&&t.filename.startsWith("/")&&(e=this.root?o.relative(this.root,t.filename):o.basename(t.filename),t.filename="app:///"+e),[2,t]}))}))},e.root&&(this.root=e.root),e.iteratee&&(this.iteratee=e.iteratee)}return t.prototype.setupOnce=function(){var e=this;i.addGlobalEventProcessor((function(n){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return(e=i.getCurrentHub().getIntegration(t))?[2,e.process(n)]:[2,n]}))}))}))},t.prototype.process=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:if(!(e=this.getFramesFromEvent(t)))return[3,4];for(i in n=[],e)n.push(i);o=0,r.label=1;case 1:return o<n.length?(s=n[o],a=e,u=s,[4,this.iteratee(e[s])]):[3,4];case 2:a[u]=r.sent(),r.label=3;case 3:return o++,[3,1];case 4:return[2,t]}}))}))},t.prototype.getFramesFromEvent=function(t){var e=t.exception;if(!e)return t.stacktrace?t.stacktrace.frames:void 0;try{return e.values[0].stacktrace.frames}catch(n){return}},t.id="RewriteFrames",t}();e.RewriteFrames=s},function(t,e,n){"use strict";function r(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}Object.defineProperty(e,"__esModule",{value:!0});var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function o(t){var e=i.exec(t);return e?e.slice(1):[]}function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=!1,o=t.length-1;o>=-1&&!i;o--){var s=o>=0?t[o]:"/";s&&(n=s+"/"+n,i="/"===s.charAt(0))}return(i?"/":"")+(n=r(n.split("/").filter((function(t){return!!t})),!i).join("/"))||"."}function a(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}function u(t){var e=c(t),n="/"===t.substr(-1),i=r(t.split("/").filter((function(t){return!!t})),!e).join("/");return i||e||(i="."),i&&n&&(i+="/"),(e?"/":"")+i}function c(t){return"/"===t.charAt(0)}e.resolve=s,e.relative=function(t,e){t=s(t).substr(1),e=s(e).substr(1);for(var n=a(t.split("/")),r=a(e.split("/")),i=Math.min(n.length,r.length),o=i,u=0;u<i;u++)if(n[u]!==r[u]){o=u;break}var c=[];for(u=o;u<n.length;u++)c.push("..");return(c=c.concat(r.slice(o))).join("/")},e.normalize=u,e.isAbsolute=c,e.join=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return u(t.join("/"))},e.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},e.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n}},function(t,e,n){!function(t){"use strict";function e(t,e,n){return"m"===n?e?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":t+" "+function(t,e){var n=t.split("_");return e%10===1&&e%100!==11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}({mm:e?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[n],+t)}var n=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];t.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0441\u0435\u043d\u0442\.|\u0444\u0435\u0432\u0440\.|\u043d\u043e\u044f\u0431\.|\u0438\u044e\u043d\u044c|\u044f\u043d\u0432.|\u0438\u044e\u043b\u044c|\u0434\u0435\u043a.|\u0430\u0432\u0433.|\u0430\u043f\u0440.|\u043c\u0430\u0440\u0442\u0430|\u043c\u0430\u0440[.\u0442]|\u043e\u043a\u0442.|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439])/i,monthsShortRegex:/^(\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0441\u0435\u043d\u0442\.|\u0444\u0435\u0432\u0440\.|\u043d\u043e\u044f\u0431\.|\u0438\u044e\u043d\u044c|\u044f\u043d\u0432.|\u0438\u044e\u043b\u044c|\u0434\u0435\u043a.|\u0430\u0432\u0433.|\u0430\u043f\u0440.|\u043c\u0430\u0440\u0442\u0430|\u043c\u0430\u0440[.\u0442]|\u043e\u043a\u0442.|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439])/i,monthsStrictRegex:/^(\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439])/i,monthsShortStrictRegex:/^(\u043d\u043e\u044f\u0431\.|\u0444\u0435\u0432\u0440\.|\u0441\u0435\u043d\u0442\.|\u0438\u044e\u043b\u044c|\u044f\u043d\u0432\.|\u0438\u044e\u043d[\u044f\u044c]|\u043c\u0430\u0440[.\u0442]|\u0430\u0432\u0433\.|\u0430\u043f\u0440\.|\u043e\u043a\u0442\.|\u0434\u0435\u043a\.|\u043c\u0430[\u044f\u0439])/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430 \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd [\u0432] LT":"[\u0412] dddd [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd [\u0432] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd [\u0432] LT":"[\u0412] dddd [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",m:e,mm:e,h:"\u0447\u0430\u0441",hh:e,d:"\u0434\u0435\u043d\u044c",dd:e,M:"\u043c\u0435\u0441\u044f\u0446",MM:e,y:"\u0433\u043e\u0434",yy:e},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u0438":t<12?"\u0443\u0442\u0440\u0430":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},ordinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-\u0439";case"D":return t+"-\u0433\u043e";case"w":case"W":return t+"-\u044f";default:return t}},week:{dow:1,doy:7}})}(n(16))},,function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(16);t.exports=function(t,e){var n={errors:[],warnings:[]},o={minlength:{fn:function(t,e){return!e||"string"===typeof t&&t.length>=e},msg:function(t,e){return"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")},group:"errors"},maxlength:{fn:function(t,e){return!e||"string"===typeof t&&t.length<=e},msg:function(t,e){return"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")},group:"errors"},required:{fn:function(t,e){return!e||("string"===typeof t?!/^\s*$/.test(t):void 0!==t&&null!==t)},msg:function(){return"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},group:"errors"},notrambler:{fn:function(t,e){if(e){return!/^([a-z0-9_-]+\.)*[a-z0-9_-]+@(rambler|lenta|autorambler|myrambler|ro)(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/i.test(t)}return!0},msg:function(t,e){return e.msg||""},group:"errors"},email:{fn:function(t,e){if(e){return/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i.test(t)}return!0},msg:function(){return"\u0410\u0434\u0440\u0435\u0441 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d"},group:"errors"},notspecials:{fn:function(t,e){if(e){return/^[a-zA-Z\u0430-\u044f\u0410-\u042f0-9\u0451\u0401\s\-_]+$/i.test(t)}return!0},msg:function(){return"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"},group:"errors"},range:{fn:function(t,e){if(e.from instanceof Date&&e.to instanceof Date){var n=e.format||"DD.MM.YYYY";return i(t,n).isBetween(e.from,e.to,null,"[]")}return!0},msg:function(t,e){return e[0]instanceof Date&&e[1]instanceof Date?"\u0423\u043a\u0430\u0437\u0430\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0434\u0430\u0442\u0430":"\u0423\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"},group:"errors"},constraint:{fn:function(t,e){return!e||!t||new RegExp("^[".concat(e,"]+$"),"i").test(t)},msg:function(){return"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"},group:"errors"}};if(!e||"object"!==r(e))return!0;for(var s in e)if(e.hasOwnProperty(s)&&o.hasOwnProperty(s.toLowerCase())){var a,u=void 0;u=o[s.toLowerCase()],a=e[s],u.fn(t,a)||(n[u.group].push({constraint:s,msg:u.msg(t,a)}),n[u.group][s]=!0)}return n.errors.length||n.warnings.length?n:null}},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(9),o=n(3);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s={url:null,target:null,properties:null,closeTrigger:!1,closeTriggerOrigin:"lenta.ru",closeTriggerInterval:500,onBeforeOpen:null,onBeforeClose:null,onAfterClose:null};if("object"===r(t))s=i.merge(s,t);else{var a=i.omit({url:t,target:e,properties:n},i.isNull);s=i.merge(s,a)}var u=s.properties;s.properties instanceof Object&&(s.properties.width&&s.properties.height&&(s.properties.top=screen.height/2-s.properties.height/2,s.properties.left=screen.width/2-s.properties.width/2),u=i.map(s.properties,(function(t,e){return"".concat(e,"=").concat(t)})).join(",")),s.onBeforeOpen&&s.onBeforeOpen();var c=window.open(s.url,s.target,u);if(s.closeTrigger)var l=setInterval((function(){if(c.closed)clearInterval(l),s.onAfterClose&&s.onAfterClose();else try{s.closeTriggerOrigin&&-1!==c.document.location.origin.indexOf(s.closeTriggerOrigin)&&(clearInterval(l),s.onBeforeClose&&s.onBeforeClose(),c.close(),s.onAfterClose&&s.onAfterClose())}catch(t){o.trace(t.message)}}),s.closeTriggerInterval);return c}},function(t,e,n){"use strict";var r=n(35),i=window.Promise||r.Promise;t.exports=function(){this.getPromise=function(t){return new i((function(e,n){var r=document.createElement("script");r.src=t,r.addEventListener("load",(function(){e(r)}),!1),r.addEventListener("error",(function(){n(r)}),!1),document.body.appendChild(r)}))},this.loadAsync=function(t,e,n){var r=this;if("string"===typeof t)this.getPromise(t).then(e,n);else{var o=t.map((function(t){return r.getPromise(t)}));i.all(o).then(e,n)}},this.loadSync=function(t,e,n){var r=this,i=t.map((function(t){return r.getPromise.bind(r,t)})),o=i.shift();i.reduce((function(t,e){return t.then(e)}),o()).then(e,n)}}},,,,,,,,,,function(t,e,n){!function(e,r){"use strict";var i;try{i=n(16)}catch(o){}t.exports=function(t){var e="function"===typeof t,n=!!window.addEventListener,r=window.document,i=window.setTimeout,o=function(t,e,r,i){n?t.addEventListener(e,r,!!i):t.attachEvent("on"+e,r)},s=function(t,e,r,i){n?t.removeEventListener(e,r,!!i):t.detachEvent("on"+e,r)},a=function(t,e,n){var i;r.createEvent?((i=r.createEvent("HTMLEvents")).initEvent(e,!0,!1),i=g(i,n),t.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=g(i,n),t.fireEvent("on"+e,i))},u=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},c=function(t){return/Array/.test(Object.prototype.toString.call(t))},l=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},f=function(t){var e=t.getDay();return 0===e||6===e},h=function(t){return t%4===0&&t%100!==0||t%400===0},p=function(t){l(t)&&t.setHours(0,0,0,0)},d=function(t,e){return t.getTime()===e.getTime()},g=function(t,e,n){var r,i;for(r in e)(i=void 0!==t[r])&&"object"===typeof e[r]&&null!==e[r]&&void 0===e[r].nodeName?l(e[r])?n&&(t[r]=new Date(e[r].getTime())):c(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=g({},e[r],n):!n&&i||(t[r]=e[r]);return t},v=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},m={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},y=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},b=function(t){if(t.isEmpty)return'<td class="is-empty"></td>';var e=[];return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&e.push("is-selected"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},_=function(t,e,n){var r=new Date(n,0,1);return'<td class="pika-week">'+Math.ceil(((new Date(n,e,t)-r)/864e5+r.getDay()+1)/7)+"</td>"},w=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},x=function(t,e,n,r,i){var o,s,a,u,l,f=t._o,h=n===f.minYear,p=n===f.maxYear,d='<div class="pika-title">',g=!0,v=!0;for(a=[],o=0;o<12;o++)a.push('<option value="'+(n===i?o-e:12+o-e)+'"'+(o===r?" selected":"")+(h&&o<f.minMonth||p&&o>f.maxMonth?"disabled":"")+">"+f.i18n.months[o]+"</option>");for(u='<div class="pika-label">'+f.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",c(f.yearRange)?(o=f.yearRange[0],s=f.yearRange[1]+1):(o=n-f.yearRange,s=1+n+f.yearRange),a=[];o<s&&o<=f.maxYear;o++)o>=f.minYear&&a.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return l='<div class="pika-label">'+n+f.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",f.showMonthAfterYear?d+=l+u:d+=u+l,h&&(0===r||f.minMonth>=r)&&(g=!1),p&&(11===r||f.maxMonth<=r)&&(v=!1),0===e&&(d+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+f.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(d+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+f.i18n.nextMonth+"</button>"),d+"</div>"},E=function(s){var a=this,c=a.config(s);a._onMouseDown=function(t){if(a._v){var e=(t=t||window.event).target||t.srcElement;if(e)if(u(e,"is-disabled")||(u(e,"pika-button")&&!u(e,"is-empty")?(a.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),c.bound&&i((function(){a.hide(),c.field&&c.field.blur()}),100)):u(e,"pika-prev")?a.prevMonth():u(e,"pika-next")&&a.nextMonth()),u(e,"pika-select"))a._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},a._onChange=function(t){var e=(t=t||window.event).target||t.srcElement;e&&(u(e,"pika-select-month")?a.gotoMonth(e.value):u(e,"pika-select-year")&&a.gotoYear(e.value))},a._onInputChange=function(n){var r;n.firedBy!==a&&(r=e?(r=t(c.field.value,c.format))&&r.isValid()?r.toDate():null:new Date(Date.parse(c.field.value)),l(r)&&a.setDate(r),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var t=r.activeElement;do{if(u(t,"pika-single"))return}while(t=t.parentNode);a._c||(a._b=i((function(){a.hide()}),50)),a._c=!1},a._onClick=function(t){var e=(t=t||window.event).target||t.srcElement,r=e;if(e){!n&&u(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),o(e,"change",a._onChange)));do{if(u(r,"pika-single")||r===c.trigger)return}while(r=r.parentNode);a._v&&e!==c.trigger&&r!==c.trigger&&a.hide()}},a.el=r.createElement("div"),a.el.className="pika-single"+(c.isRTL?" is-rtl":"")+(c.theme?" "+c.theme:""),o(a.el,"mousedown",a._onMouseDown,!0),o(a.el,"touchend",a._onMouseDown,!0),o(a.el,"change",a._onChange),c.field&&(c.container?c.container.appendChild(a.el):c.bound?r.body.appendChild(a.el):c.field.parentNode.insertBefore(a.el,c.field.nextSibling),o(c.field,"change",a._onInputChange),c.defaultDate||(e&&c.field.value?c.defaultDate=t(c.field.value,c.format).toDate():c.defaultDate=new Date(Date.parse(c.field.value)),c.setDefaultDate=!0));var f=c.defaultDate;l(f)?c.setDefaultDate?a.setDate(f,!0):a.gotoDate(f):a.gotoDate(new Date),c.bound?(this.hide(),a.el.className+=" is-bound",o(c.trigger,"click",a._onInputClick),o(c.trigger,"focus",a._onInputFocus),o(c.trigger,"blur",a._onInputBlur)):this.show()};return E.prototype={config:function(t){this._o||(this._o=g({},m,!0));var e=g(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"===typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"===typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,l(e.minDate)||(e.minDate=!1),l(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),c(e.yearRange)){var r=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||m.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return l(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,r){e&&t.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return l(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"===typeof t&&(t=new Date(Date.parse(t))),l(t)){var n=this._o.minDate,r=this._o.maxDate;l(n)&&t<n?t=n:l(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),p(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),e||"function"!==typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(l(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=i<n.getTime()||r.getTime()<i}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=v(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=v({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){p(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth(),this.draw()},setMaxDate:function(t){p(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth(),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e=this._o,n=e.minYear,r=e.maxYear,o=e.minMonth,s=e.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(s)&&this._m>s&&(this._m=s));for(var u=0;u<e.numberOfMonths;u++)a+='<div class="pika-lendar">'+x(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year)+this.render(this.calendars[u].year,this.calendars[u].month)+"</div>";if(this.el.innerHTML=a,e.bound&&"hidden"!==e.field.type&&i((function(){e.trigger.focus()}),1),"function"===typeof this._o.onDraw){var c=this;i((function(){c._o.onDraw.call(c)}),0)}}},adjustPosition:function(){var t,e,n,i,o,s,a,u,c,l;if(!this._o.container){if(this.el.style.position="absolute",e=t=this._o.trigger,n=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||r.documentElement.clientWidth,s=window.innerHeight||r.documentElement.clientHeight,a=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,"function"===typeof t.getBoundingClientRect)u=(l=t.getBoundingClientRect()).left+window.pageXOffset,c=l.bottom+window.pageYOffset;else for(u=e.offsetLeft,c=e.offsetTop+e.offsetHeight;e=e.offsetParent;)u+=e.offsetLeft,c+=e.offsetTop;(this._o.reposition&&u+n>o||this._o.position.indexOf("right")>-1&&u-n+t.offsetWidth>0)&&(u=u-n+t.offsetWidth),(this._o.reposition&&c+i>s+a||this._o.position.indexOf("top")>-1&&c-i-t.offsetHeight>0)&&(c=c-i-t.offsetHeight),this.el.style.left=u+"px",this.el.style.top=c+"px"}},render:function(t,e){var n=this._o,r=new Date,i=function(t,e){return[31,h(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}(t,e),o=new Date(t,e,1).getDay(),s=[],a=[];p(r),n.firstDay>0&&(o-=n.firstDay)<0&&(o+=7);for(var u=i+o,c=u;c>7;)c-=7;u+=7-c;for(var g=0,v=0;g<u;g++){var m=new Date(t,e,g-o+1),x=!!l(this._d)&&d(m,this._d),E=d(m,r),S=g<o||g>=i+o,k=n.startRange&&d(n.startRange,m),M=n.endRange&&d(n.endRange,m),T=n.startRange&&n.endRange&&n.startRange<m&&m<n.endRange,O={day:g-o+1,month:e,year:t,isSelected:x,isToday:E,isDisabled:n.minDate&&m<n.minDate||n.maxDate&&m>n.maxDate||n.disableWeekends&&f(m)||n.disableDayFn&&n.disableDayFn(m),isEmpty:S,isStartRange:k,isEndRange:M,isInRange:T};a.push(b(O)),7===++v&&(n.showWeekNumber&&a.unshift(_(g-o,e,t)),s.push(w(a,n.isRTL)),a=[],v=0)}return function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+function(t){var e,n=[];t.showWeekNumber&&n.push("<th></th>");for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+y(t,e)+'">'+y(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"}(t)+(n=e,"<tbody>"+n.join("")+"</tbody>")+"</table>";var n}(n,s)},isVisible:function(){return this._v},show:function(){this._v||(!function(t,e){t.className=(n=(" "+t.className+" ").replace(" "+e+" "," "),n.trim?n.trim():n.replace(/^\s+|\s+$/g,""));var n}(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(r,"click",this._onClick),this.adjustPosition()),"function"===typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t,e,n=this._v;!1!==n&&(this._o.bound&&s(r,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",t=this.el,u(t,e="is-hidden")||(t.className=""===t.className?e:t.className+" "+e),this._v=!1,void 0!==n&&"function"===typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"touchend",this._onMouseDown,!0),s(this.el,"change",this._onChange),this._o.field&&(s(this._o.field,"change",this._onInputChange),this._o.bound&&(s(this._o.trigger,"click",this._onInputClick),s(this._o.trigger,"focus",this._onInputFocus),s(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},E}(i)}()},,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(1),o=n(0),s=n(3);t.exports=o.Model.extend({user:null,cookieKey:"lentaIdProfile",cookieOptions:{path:"/",domain:"lenta.ru"},initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.user=e.user},fetch:function(){var t=this;return this._fetch||(this._fetch=new Promise((function(e){t.fetchFromStorage(),e()}))),this._fetch},save:function(){var t=this;return this.saveToStorage(),this.user.check().then((function(e){return s.theid.run("profile","update",e,t.toJSON())}))},sync:function(){var t=this;return _.isEmpty(this.attributes)?this.fetch():new Promise((function(e){e(t.attributes)}))},enableServerSync:function(){this.off("change",this.save).on("change",this.save)},disableServerSync:function(){this.off("change",this.save)},fetchFromStorage:function(){var t=i.cookie(this.cookieKey),e=t?JSON.parse(t):null;"object"===r(e)&&this.set(e)},saveToStorage:function(){_.isEmpty(this.attributes)?i.removeCookie(this.cookieKey,this.cookieOptions):i.cookie(this.cookieKey,JSON.stringify(this.attributes),this.cookieOptions)}})},function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(0),o=n(3);t.exports=i.Model.extend({user:null,cookieKey:"lentaIdSettings",cookieOptions:{path:"/",domain:"lenta.ru"},defaults:{first_name:null,last_name:null,birthday:null,gender:null},initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.user=e.user,this.on("change",this.saveToStorage)},fetch:function(){var t=this;return this.user.check().then((function(e){return o.theid.run("settings","read",e).then((function(e){return t.set(e),t}))}))},save:function(){var t=this;return this.user.check().then((function(e){return o.theid.run("settings","update",e,t.toJSON())}))},sync:function(){return this.fetch()},fetchFromStorage:function(){var t=$.cookie(this.cookieKey),e=t?JSON.parse(t):null;"object"===r(e)&&this.set(e)},saveToStorage:function(){_.isEmpty(this.attributes)?$.removeCookie(this.cookieKey,this.cookieOptions):$.cookie(this.cookieKey,JSON.stringify(this.attributes),this.cookieOptions)}})},,,,function(t,e,n){"use strict";t.exports=function(t,e){return t.promise((function(n,r){t.request({method:"post",url:"/id/users",data:e,dataType:"json",success:n,error:r})}))}},function(t,e,n){"use strict";t.exports=function(t,e){return t.promise((function(n,r){t.request({method:"post",url:"/id/sessions",data:e,dataType:"json",success:function(e){t.request({method:"get",cache:!0,url:"https://id.rambler.ru/script/create_session.js?token=".concat(e.web_token),dataType:"script",success:function(){n({clear_favourites:e.clear_favourites})},error:r})},error:r})}))}},function(t,e,n){"use strict";t.exports=function(t){return t.promise((function(e,n){t.request({method:"get",url:"https://id.rambler.ru/logout?rname=id",success:e,error:n})}))}},function(t,e,n){"use strict";t.exports=function(t,e,n){return t.promise((function(r,i){t.request({url:"/id/users/activate/".concat(e,"/").concat(n),success:r,error:i})}))}},function(t,e,n){"use strict";t.exports=function(t){return t.promise((function(e,n){t.request({method:"get",dataType:"script",url:"https://id.rambler.ru/script/exportsid.js",success:function(t){window&&window.RamblerId&&window.RamblerId.rsidx?e(window.RamblerId.rsidx):n&&n(t)},error:function(t){n&&n(t)}})}))}},function(t,e,n){"use strict";t.exports=function(t,e){return t.promise((function(n,r){t.request({method:"get",url:"/id/sessions/social",headers:{Rsidx:e},success:function(t){n({clear_favourites:t.clear_favourites})},error:r})}))}},function(t,e,n){"use strict";t.exports=function(t,e){return t.promise((function(n,r){t.request({method:"post",url:"/id/passwords",data:{email:e},success:n,error:r})}))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){return t.promise((function(i,o){t.request({data:r,method:"put",dataType:"json",url:"/id/passwords/".concat(e,"/").concat(n),success:i,error:o})}))}},function(t,e,n){"use strict";t.exports=function(t,e,n){return t.promise((function(r,i){t.request({data:n,url:"/id/profiles",method:"put",dataType:"json",headers:{Rsidx:e},success:r,error:function(t){return 202===t.status?r():i()}})}))}},function(t,e,n){"use strict";t.exports=function(t,e){return t.promise((function(n,r){t.request({url:"/id/users",method:"get",dataType:"json",headers:{Rsidx:e},success:function(t){for(var e in t)"string"===typeof t[e]&&(t[e]=t[e].trim()||null);n(t)},error:r})}))}},function(t,e,n){"use strict";t.exports=function(t,e,n){return t.promise((function(r,i){t.request({data:n,url:"/id/users",method:"put",dataType:"json",headers:{Rsidx:e},success:r,error:i})}))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){return t.promise((function(i,o){t.request({url:"/id/favourites",method:"get",dataType:"json",data:{limit:r,offset:n},headers:{Rsidx:e},success:function(t){i(t.favourites)},error:o})}))}},function(t,e,n){"use strict";t.exports=function(t,e,n){return t.promise((function(r,i){t.request({url:"/id/favourites",method:"post",dataType:"json",data:{uri:n},headers:{Rsidx:e},success:r,error:i})}))}},function(t,e,n){"use strict";t.exports=function(t,e,n){return t.promise((function(r,i){t.request({url:"/id/favourites",method:"delete",data:{uri:n},dataType:"json",headers:{Rsidx:e},success:r,error:i})}))}},function(t,e,n){"use strict";t.exports=function(t,e,n){return t.promise((function(r,i){t.request({url:"/id/favourites",method:"get",dataType:"json",data:{__uri:n},headers:{Rsidx:e},success:function(t){r(t.exists)},error:i})}))}},function(t,e,n){"use strict";t.exports=function(t){return t.promise((function(e,n){t.request({method:"get",url:"/id/captcha/refresh",dataType:"json",success:e,error:n})}))}},,,,,,,,,,,,function(t,e,n){var r,i;!function(){var o={version:"3.5.16"},s=[].slice,a=function(t){return s.call(t)},u=this.document;function c(t){return t&&(t.ownerDocument||t.document||t).documentElement}function l(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(u)try{a(u.documentElement.childNodes)[0].nodeType}catch(iu){a=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),u)try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch(ou){var f=this.Element.prototype,h=f.setAttribute,p=f.setAttributeNS,d=this.CSSStyleDeclaration.prototype,g=d.setProperty;f.setAttribute=function(t,e){h.call(this,t,e+"")},f.setAttributeNS=function(t,e,n){p.call(this,t,e,n+"")},d.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function m(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function b(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}o.ascending=v,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},o.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},o.extent=function(t,e){var n,r,i,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<s;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<s;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},o.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)y(n=+t[o])&&(r+=n);else for(;++o<i;)y(n=+e.call(t,t[o],o))&&(r+=n);return r},o.mean=function(t,e){var n,r=0,i=t.length,o=-1,s=i;if(1===arguments.length)for(;++o<i;)y(n=m(t[o]))?r+=n:--s;else for(;++o<i;)y(n=m(e.call(t,t[o],o)))?r+=n:--s;if(s)return r/s},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},o.median=function(t,e){var n,r=[],i=t.length,s=-1;if(1===arguments.length)for(;++s<i;)y(n=m(t[s]))&&r.push(n);else for(;++s<i;)y(n=m(e.call(t,t[s],s)))&&r.push(n);if(r.length)return o.quantile(r.sort(v),.5)},o.variance=function(t,e){var n,r,i=t.length,o=0,s=0,a=-1,u=0;if(1===arguments.length)for(;++a<i;)y(n=m(t[a]))&&(s+=(r=n-o)*(n-(o+=r/++u)));else for(;++a<i;)y(n=m(e.call(t,t[a],a)))&&(s+=(r=n-o)*(n-(o+=r/++u)));if(u>1)return s/(u-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _=b(v);function w(t){return t.length}o.bisectLeft=_.left,o.bisect=o.bisectRight=_.right,o.bisector=function(t){return b(1===t.length?function(e,n){return v(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=o.min(t,w),r=new Array(n);++e<n;)for(var i,s=-1,a=r[e]=new Array(i);++s<i;)a[s]=t[s][e];return r},o.zip=function(){return o.transpose(arguments)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n};var x=Math.abs;function E(t){for(var e=1;t*e%1;)e*=10;return e}function S(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function k(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=E(x(n)),s=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++s)>e;)i.push(r/o);else for(;(r=t+n*++s)<e;)i.push(r/o);return i},o.map=function(t,e){var n=new k;if(t instanceof k)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var s in t)n.set(s,t[s]);return n};var M="__proto__",T="\0";function O(t){return(t+="")===M||t[0]===T?T+t:t}function C(t){return(t+="")[0]===T?t.slice(1):t}function I(t){return O(t)in this._}function N(t){return(t=O(t))in this._&&delete this._[t]}function A(){var t=[];for(var e in this._)t.push(C(e));return t}function R(){var t=0;for(var e in this._)++t;return t}function P(){for(var t in this._)return!1;return!0}function D(){this._=Object.create(null)}function j(t){return t}function L(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function B(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=U.length;n<r;++n){var i=U[n]+e;if(i in t)return i}}S(k,{has:I,get:function(t){return this._[O(t)]},set:function(t,e){return this._[O(t)]=e},remove:N,keys:A,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:C(e),value:this._[e]});return t},size:R,empty:P,forEach:function(t){for(var e in this._)t.call(this,C(e),this._[e])}}),o.nest=function(){var t,e,n={},r=[],i=[];function s(i,o,a){if(a>=r.length)return e?e.call(n,o):t?o.sort(t):o;for(var u,c,l,f,h=-1,p=o.length,d=r[a++],g=new k;++h<p;)(f=g.get(u=d(c=o[h])))?f.push(c):g.set(u,[c]);return i?(c=i(),l=function(t,e){c.set(t,s(i,e,a))}):(c={},l=function(t,e){c[t]=s(i,e,a)}),g.forEach(l),c}return n.map=function(t,e){return s(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var o=[],s=i[n++];return e.forEach((function(e,r){o.push({key:e,values:t(r,n)})})),s?o.sort((function(t,e){return s(t.key,e.key)})):o}(s(o.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new D;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},S(D,{has:I,add:function(t){return this._[O(t+="")]=!0,t},remove:N,values:A,size:R,empty:P,forEach:function(t){for(var e in this._)t.call(this,C(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=L(t,e,e[n]);return t};var U=["webkit","ms","moz","Moz","o","O"];function F(){}function V(){}function H(t){var e=[],n=new k;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,s=n.get(r);return arguments.length<2?s&&s.on:(s&&(s.on=null,e=e.slice(0,o=e.indexOf(s)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function z(){o.event.preventDefault()}function W(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function Y(t){for(var e=new V,n=0,r=arguments.length;++n<r;)e[arguments[n]]=H(e);return e.of=function(n,r){return function(i){try{var s=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(n,r)}finally{o.event=s}}},e}o.dispatch=function(){for(var t=new V,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=H(t);return t},V.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},o.event=null,o.requote=function(t){return t.replace(q,"\\$&")};var q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,G={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function $(t){return G(t,Z),t}var K=function(t,e){return e.querySelector(t)},X=function(t,e){return e.querySelectorAll(t)},J=function(t,e){var n=t.matches||t[B(t,"matchesSelector")];return(J=function(t,e){return n.call(t,e)})(t,e)};"function"===typeof Sizzle&&(K=function(t,e){return Sizzle(t,e)[0]||null},X=Sizzle,J=Sizzle.matchesSelector),o.selection=function(){return o.select(u.documentElement)};var Z=o.selection.prototype=[];function Q(t){return"function"===typeof t?t:function(){return K(t,this)}}function tt(t){return"function"===typeof t?t:function(){return X(t,this)}}Z.select=function(t){var e,n,r,i,o=[];t=Q(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(r=this[s]).parentNode;for(var u=-1,c=r.length;++u<c;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,s)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return $(o)},Z.selectAll=function(t){var e,n,r=[];t=tt(t);for(var i=-1,o=this.length;++i<o;)for(var s=this[i],u=-1,c=s.length;++u<c;)(n=s[u])&&(r.push(e=a(t.call(n,n.__data__,u,i))),e.parentNode=n);return $(r)};var et="http://www.w3.org/1999/xhtml",nt={svg:"http://www.w3.org/2000/svg",xhtml:et,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"===typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function it(t){return t.trim().replace(/\s+/g," ")}function ot(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function st(t){return(t+"").trim().split(/^|\s+/)}function at(t,e){var n=(t=st(t).map(ut)).length;return"function"===typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function ut(t){var e=ot(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",it(i+" "+t))):n.setAttribute("class",it(i.replace(e," ")))}}function ct(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"===typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function lt(t,e){return null==e?function(){delete this[t]}:"function"===typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ft(t){return"function"===typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===et&&e.documentElement.namespaceURI===et?e.createElement(t):e.createElementNS(n,t)}}function ht(){var t=this.parentNode;t&&t.removeChild(this)}function pt(t){return{__data__:t}}function dt(t){return function(){return J(this,t)}}function gt(t){return arguments.length||(t=v),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function vt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],s=0,a=o.length;s<a;s++)(i=o[s])&&e(i,s,n);return t}function mt(t){return G(t,yt),t}o.ns={prefix:nt,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),nt.hasOwnProperty(n)?{space:nt[n],local:t}:t}},Z.attr=function(t,e){if(arguments.length<2){if("string"===typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(rt(e,t[e]));return this}return this.each(rt(t,e))},Z.classed=function(t,e){if(arguments.length<2){if("string"===typeof t){var n=this.node(),r=(t=st(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!ot(t[i]).test(e))return!1;return!0}for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},Z.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!==typeof t){for(n in r<2&&(e=""),t)this.each(ct(n,t[n],e));return this}if(r<2){var i=this.node();return l(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(ct(t,e,n))},Z.property=function(t,e){if(arguments.length<2){if("string"===typeof t)return this.node()[t];for(e in t)this.each(lt(e,t[e]));return this}return this.each(lt(t,e))},Z.text=function(t){return arguments.length?this.each("function"===typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Z.html=function(t){return arguments.length?this.each("function"===typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Z.append=function(t){return t=ft(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},Z.insert=function(t,e){return t=ft(t),e=Q(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},Z.remove=function(){return this.each(ht)},Z.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function s(t,n){var r,i,o,s=t.length,l=n.length,f=Math.min(s,l),h=new Array(l),p=new Array(l),d=new Array(s);if(e){var g,v=new k,m=new Array(s);for(r=-1;++r<s;)(i=t[r])&&(v.has(g=e.call(i,i.__data__,r))?d[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<l;)(i=v.get(g=e.call(n,o=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=o):p[r]=pt(o),v.set(g,!0);for(r=-1;++r<s;)r in m&&!0!==v.get(m[r])&&(d[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],o=n[r],i?(i.__data__=o,h[r]=i):p[r]=pt(o);for(;r<l;++r)p[r]=pt(n[r]);for(;r<s;++r)d[r]=t[r]}p.update=h,p.parentNode=h.parentNode=d.parentNode=t.parentNode,a.push(p),u.push(h),c.push(d)}var a=mt([]),u=$([]),c=$([]);if("function"===typeof t)for(;++i<o;)s(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)s(n=this[i],t);return u.enter=function(){return a},u.exit=function(){return c},u},Z.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Z.filter=function(t){var e,n,r,i=[];"function"!==typeof t&&(t=dt(t));for(var o=0,s=this.length;o<s;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var a=0,u=n.length;a<u;a++)(r=n[a])&&t.call(r,r.__data__,a,o)&&e.push(r)}return $(i)},Z.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Z.sort=function(t){t=gt.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Z.each=function(t){return vt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},Z.call=function(t){var e=a(arguments);return t.apply(e[0]=this,e),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Z.size=function(){var t=0;return vt(this,(function(){++t})),t};var yt=[];function bt(t){var e,n;return function(r,i,o){var s,a=t[o].update,u=a.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(s=a[e])&&++e<u;);return s}}function _t(t,e,n){var r="__on"+t,i=t.indexOf("."),s=xt;i>0&&(t=t.slice(0,i));var u=wt.get(t);function c(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return u&&(t=u,s=Et),i?e?function(){var i=s(e,a(arguments));c.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:c:e?F:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}o.selection.enter=mt,o.selection.enter.prototype=yt,yt.append=Z.append,yt.empty=Z.empty,yt.node=Z.node,yt.call=Z.call,yt.size=Z.size,yt.select=function(t){for(var e,n,r,i,o,s=[],a=-1,u=this.length;++a<u;){r=(i=this[a]).update,s.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(e.push(r[c]=n=t.call(i.parentNode,o.__data__,c,a)),n.__data__=o.__data__):e.push(null)}return $(s)},yt.insert=function(t,e){return arguments.length<2&&(e=bt(this)),Z.insert.call(this,t,e)},o.select=function(t){var e;return"string"===typeof t?(e=[K(t,u)]).parentNode=u.documentElement:(e=[t]).parentNode=c(t),$([e])},o.selectAll=function(t){var e;return"string"===typeof t?(e=a(X(t,u))).parentNode=u.documentElement:(e=a(t)).parentNode=null,$([e])},Z.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!==typeof t){for(n in r<2&&(e=!1),t)this.each(_t(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(_t(t,e,n))};var wt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function xt(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function Et(t,e){var n=xt(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}u&&wt.forEach((function(t){"on"+t in u&&wt.remove(t)}));var St,kt=0;function Mt(t){var e=".dragsuppress-"+ ++kt,n="click"+e,r=o.select(l(t)).on("touchmove"+e,z).on("dragstart"+e,z).on("selectstart"+e,z);if(null==St&&(St=!("onselectstart"in t)&&B(t.style,"userSelect")),St){var i=c(t).style,s=i[St];i[St]="none"}return function(t){if(r.on(e,null),St&&(i[St]=s),t){var o=function(){r.on(n,null)};r.on(n,(function(){z(),o()}),!0),setTimeout(o,0)}}}o.mouse=function(t){return Ot(t,W())};var Tt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ot(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Tt<0){var i=l(t);if(i.scrollX||i.scrollY){var s=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Tt=!(s.f||s.e),n.remove()}}return Tt?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}function Ct(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=W().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return Ot(t,r)},o.behavior.drag=function(){var t=Y(i,"drag","dragstart","dragend"),e=null,n=s(F,o.mouse,l,"mousemove","mouseup"),r=s(Ct,o.touch,j,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function s(n,r,i,s,a){return function(){var u,c=this,l=o.event.target.correspondingElement||o.event.target,f=c.parentNode,h=t.of(c,arguments),p=0,d=n(),g=".drag"+(null==d?"":"-"+d),v=o.select(i(l)).on(s+g,b).on(a+g,_),m=Mt(l),y=r(f,d);function b(){var t,e,n=r(f,d);n&&(t=n[0]-y[0],e=n[1]-y[1],p|=t|e,y=n,h({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:e}))}function _(){r(f,d)&&(v.on(s+g,null).on(a+g,null),m(p),h({type:"dragend"}))}u=e?[(u=e.apply(c,arguments)).x-y[0],u.y-y[1]]:[0,0],h({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=W().touches),e?a(e).map((function(e){var n=Ot(t,e);return n.identifier=e.identifier,n})):[]};var It=1e-6,Nt=It*It,At=Math.PI,Rt=2*At,Pt=Rt-It,Dt=At/2,jt=At/180,Lt=180/At;function Bt(t){return t>0?1:t<0?-1:0}function Ut(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Ft(t){return t>1?0:t<-1?At:Math.acos(t)}function Vt(t){return t>1?Dt:t<-1?-Dt:Math.asin(t)}function Ht(t){return((t=Math.exp(t))+1/t)/2}function zt(t){return(t=Math.sin(t/2))*t}var Wt=Math.SQRT2;o.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],s=t[2],a=e[0],u=e[1],c=e[2],l=a-i,f=u-o,h=l*l+f*f;if(h<Nt)r=Math.log(c/s)/Wt,n=function(t){return[i+t*l,o+t*f,s*Math.exp(Wt*t*r)]};else{var p=Math.sqrt(h),d=(c*c-s*s+4*h)/(2*s*2*p),g=(c*c-s*s-4*h)/(2*c*2*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Wt,n=function(t){var e,n=t*r,a=Ht(v),u=s/(2*p)*(a*(e=Wt*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+u*l,o+u*f,s*a/Ht(Wt*n+v)]}}return n.duration=1e3*r,n},o.behavior.zoom=function(){var t,e,n,r,i,s,a,c,f,h={x:0,y:0,k:1},p=[960,500],d=Gt,g=250,v=0,m="mousedown.zoom",y="mousemove.zoom",b="mouseup.zoom",_="touchstart.zoom",w=Y(x,"zoomstart","zoom","zoomend");function x(t){t.on(m,N).on(qt+".zoom",R).on("dblclick.zoom",P).on(_,A)}function E(t){return[(t[0]-h.x)/h.k,(t[1]-h.y)/h.k]}function S(t){h.k=Math.max(d[0],Math.min(d[1],t))}function k(t,e){e=function(t){return[t[0]*h.k+h.x,t[1]*h.k+h.y]}(e),h.x+=t[0]-e[0],h.y+=t[1]-e[1]}function M(t,n,r,i){t.__chart__={x:h.x,y:h.y,k:h.k},S(Math.pow(2,i)),k(e=n,r),t=o.select(t),g>0&&(t=t.transition().duration(g)),t.call(x.event)}function T(){a&&a.domain(s.range().map((function(t){return(t-h.x)/h.k})).map(s.invert)),f&&f.domain(c.range().map((function(t){return(t-h.y)/h.k})).map(c.invert))}function O(t){v++||t({type:"zoomstart"})}function C(t){T(),t({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function I(t){--v||(t({type:"zoomend"}),e=null)}function N(){var t=this,e=w.of(t,arguments),n=0,r=o.select(l(t)).on(y,(function(){n=1,k(o.mouse(t),i),C(e)})).on(b,(function(){r.on(y,null).on(b,null),s(n),I(e)})),i=E(o.mouse(t)),s=Mt(t);Ta.call(t),O(e)}function A(){var t,e=this,n=w.of(e,arguments),r={},s=0,a=".zoom-"+o.event.changedTouches[0].identifier,u="touchmove"+a,c="touchend"+a,l=[],f=o.select(e),p=Mt(e);function d(){var n=o.touches(e);return t=h.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=E(t))})),n}function g(){var t=o.event.target;o.select(t).on(u,v).on(c,y),l.push(t);for(var n=o.event.changedTouches,a=0,f=n.length;a<f;++a)r[n[a].identifier]=null;var p=d(),g=Date.now();if(1===p.length){if(g-i<500){var m=p[0];M(e,m,r[m.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),z()}i=g}else if(p.length>1){m=p[0];var b=p[1],_=m[0]-b[0],w=m[1]-b[1];s=_*_+w*w}}function v(){var a,u,c,l,f=o.touches(e);Ta.call(e);for(var h=0,p=f.length;h<p;++h,l=null)if(c=f[h],l=r[c.identifier]){if(u)break;a=c,u=l}if(l){var d=(d=c[0]-a[0])*d+(d=c[1]-a[1])*d,g=s&&Math.sqrt(d/s);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],u=[(u[0]+l[0])/2,(u[1]+l[1])/2],S(g*t)}i=null,k(a,u),C(n)}function y(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var s in r)return void d()}o.selectAll(l).on(a,null),f.on(m,N).on(_,A),p(),I(n)}g(),O(n),f.on(m,null).on(_,g)}function R(){var i=w.of(this,arguments);r?clearTimeout(r):(Ta.call(this),t=E(e=n||o.mouse(this)),O(i)),r=setTimeout((function(){r=null,I(i)}),50),z(),S(Math.pow(2,.002*Yt())*h.k),k(e,t),C(i)}function P(){var t=o.mouse(this),e=Math.log(h.k)/Math.LN2;M(this,t,E(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return qt||(qt="onwheel"in u?(Yt=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?(Yt=function(){return o.event.wheelDelta},"mousewheel"):(Yt=function(){return-o.event.detail},"MozMousePixelScroll")),x.event=function(t){t.each((function(){var t=w.of(this,arguments),n=h;Ia?o.select(this).transition().each("start.zoom",(function(){h=this.__chart__||{x:0,y:0,k:1},O(t)})).tween("zoom:zoom",(function(){var r=p[0],i=p[1],s=e?e[0]:r/2,a=e?e[1]:i/2,u=o.interpolateZoom([(s-h.x)/h.k,(a-h.y)/h.k,r/h.k],[(s-n.x)/n.k,(a-n.y)/n.k,r/n.k]);return function(e){var n=u(e),i=r/n[2];this.__chart__=h={x:s-n[0]*i,y:a-n[1]*i,k:i},C(t)}})).each("interrupt.zoom",(function(){I(t)})).each("end.zoom",(function(){I(t)})):(this.__chart__=h,O(t),C(t),I(t))}))},x.translate=function(t){return arguments.length?(h={x:+t[0],y:+t[1],k:h.k},T(),x):[h.x,h.y]},x.scale=function(t){return arguments.length?(h={x:h.x,y:h.y,k:null},S(+t),T(),x):h.k},x.scaleExtent=function(t){return arguments.length?(d=null==t?Gt:[+t[0],+t[1]],x):d},x.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],x):n},x.size=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],x):p},x.duration=function(t){return arguments.length?(g=+t,x):g},x.x=function(t){return arguments.length?(a=t,s=t.copy(),h={x:0,y:0,k:1},x):a},x.y=function(t){return arguments.length?(f=t,c=t.copy(),h={x:0,y:0,k:1},x):f},o.rebind(x,w,"on")};var Yt,qt,Gt=[0,1/0];function $t(){}function Kt(t,e,n){return this instanceof Kt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Kt?new Kt(t.h,t.s,t.l):me(""+t,ye,Kt):new Kt(t,e,n)}o.color=$t,$t.prototype.toString=function(){return this.rgb()+""},o.hsl=Kt;var Xt=Kt.prototype=new $t;function Jt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new he(o(t+120),o(t),o(t-120))}function Zt(t,e,n){return this instanceof Zt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Zt?new Zt(t.h,t.c,t.l):ue(t instanceof ee?t.l:(t=be((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Zt(t,e,n)}Xt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Kt(this.h,this.s,this.l/t)},Xt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Kt(this.h,this.s,t*this.l)},Xt.rgb=function(){return Jt(this.h,this.s,this.l)},o.hcl=Zt;var Qt=Zt.prototype=new $t;function te(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ee(n,Math.cos(t*=jt)*e,Math.sin(t)*e)}function ee(t,e,n){return this instanceof ee?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ee?new ee(t.l,t.a,t.b):t instanceof Zt?te(t.h,t.c,t.l):be((t=he(t)).r,t.g,t.b):new ee(t,e,n)}Qt.brighter=function(t){return new Zt(this.h,this.c,Math.min(100,this.l+ne*(arguments.length?t:1)))},Qt.darker=function(t){return new Zt(this.h,this.c,Math.max(0,this.l-ne*(arguments.length?t:1)))},Qt.rgb=function(){return te(this.h,this.c,this.l).rgb()},o.lab=ee;var ne=18,re=.95047,ie=1,oe=1.08883,se=ee.prototype=new $t;function ae(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new he(fe(3.2404542*(i=ce(i)*re)-1.5371385*(r=ce(r)*ie)-.4985314*(o=ce(o)*oe)),fe(-.969266*i+1.8760108*r+.041556*o),fe(.0556434*i-.2040259*r+1.0572252*o))}function ue(t,e,n){return t>0?new Zt(Math.atan2(n,e)*Lt,Math.sqrt(e*e+n*n),t):new Zt(NaN,NaN,t)}function ce(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function le(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function fe(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function he(t,e,n){return this instanceof he?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof he?new he(t.r,t.g,t.b):me(""+t,he,Jt):new he(t,e,n)}function pe(t){return new he(t>>16,t>>8&255,255&t)}function de(t){return pe(t)+""}se.brighter=function(t){return new ee(Math.min(100,this.l+ne*(arguments.length?t:1)),this.a,this.b)},se.darker=function(t){return new ee(Math.max(0,this.l-ne*(arguments.length?t:1)),this.a,this.b)},se.rgb=function(){return ae(this.l,this.a,this.b)},o.rgb=he;var ge=he.prototype=new $t;function ve(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function me(t,e,n){var r,i,o,s=0,a=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(we(i[0]),we(i[1]),we(i[2]))}return(o=xe.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s|=s>>4,a=240&o,a|=a>>4,u=15&o,u|=u<<4):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,u=255&o)),e(s,a,u))}function ye(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),s=Math.max(t,e,n),a=s-o,u=(s+o)/2;return a?(i=u<.5?a/(s+o):a/(2-s-o),r=t==s?(e-n)/a+(e<n?6:0):e==s?(n-t)/a+2:(t-e)/a+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new Kt(r,i,u)}function be(t,e,n){var r=le((.4124564*(t=_e(t))+.3575761*(e=_e(e))+.1804375*(n=_e(n)))/re),i=le((.2126729*t+.7151522*e+.072175*n)/ie);return ee(116*i-16,500*(r-i),200*(i-le((.0193339*t+.119192*e+.9503041*n)/oe)))}function _e(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function we(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ge.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new he(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new he(i,i,i)},ge.darker=function(t){return new he((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ge.hsl=function(){return ye(this.r,this.g,this.b)},ge.toString=function(){return"#"+ve(this.r)+ve(this.g)+ve(this.b)};var xe=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Ee(t){return"function"===typeof t?t:function(){return t}}function Se(t){return function(e,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=null),ke(e,n,t,r)}}function ke(t,e,n,r){var i={},s=o.dispatch("beforesend","progress","load","error"),u={},c=new XMLHttpRequest,l=null;function f(){var t,e=c.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||e>=200&&e<300||304===e){try{t=n.call(i,c)}catch(iu){return void s.error.call(i,iu)}s.load.call(i,t)}else s.error.call(i,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=f:c.onreadystatechange=function(){c.readyState>3&&f()},c.onprogress=function(t){var e=o.event;o.event=t;try{s.progress.call(i,c)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(l=t,i):l},i.response=function(t){return n=t,i},["get","post"].forEach((function(t){i[t]=function(){return i.send.apply(i,[t].concat(a(arguments)))}})),i.send=function(n,r,o){if(2===arguments.length&&"function"===typeof r&&(o=r,r=null),c.open(n,t,!0),null==e||"accept"in u||(u.accept=e+",*/*"),c.setRequestHeader)for(var a in u)c.setRequestHeader(a,u[a]);return null!=e&&c.overrideMimeType&&c.overrideMimeType(e),null!=l&&(c.responseType=l),null!=o&&i.on("error",o).on("load",(function(t){o(null,t)})),s.beforesend.call(i,c),c.send(null==r?null:r),i},i.abort=function(){return c.abort(),i},o.rebind(i,s,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}xe.forEach((function(t,e){xe.set(t,pe(e))})),o.functor=Ee,o.xhr=Se(j),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=ke(t,e,null==n?o:s(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:s(t)):n},i}function o(t){return i.parse(t.responseText)}function s(t){return function(e){return i.parse(e.responseText,t)}}function a(e){return e.map(u).join(t)}function u(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,o={},s={},a=[],u=t.length,c=0,l=0;function f(){if(c>=u)return s;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(a=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++c):10===a&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var a,l=1;if(10===(a=t.charCodeAt(c++)))i=!0;else if(13===a)i=!0,10===t.charCodeAt(c)&&(++c,++l);else if(a!==r)continue;return t.slice(e,c-l)}return t.slice(e)}for(;(n=f())!==s;){for(var h=[];n!==o&&n!==s;)h.push(n),n=f();e&&null==(h=e(h,l++))||a.push(h)}return a},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new D,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(u).join(t)].concat(e.map((function(e){return r.map((function(t){return u(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(a).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Me,Te,Oe,Ce,Ie=this[B(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Ne(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return Te?Te.n=i:Me=i,Te=i,Oe||(Ce=clearTimeout(Ce),Oe=1,Ie(Ae)),i}function Ae(){var t=Re(),e=Pe()-t;e>24?(isFinite(e)&&(clearTimeout(Ce),Ce=setTimeout(Ae,e)),Oe=0):(Oe=1,Ie(Ae))}function Re(){for(var t=Date.now(),e=Me;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Pe(){for(var t,e=Me,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:Me=e.n;return Te=t,n}function De(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(){Ne.apply(this,arguments)},o.timer.flush=function(){Re(),Pe()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var je=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*x(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function Le(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,s=r&&n?function(t,e){for(var i=t.length,o=[],s=0,a=r[0],u=0;i>0&&a>0&&(u+a+1>e&&(a=Math.max(1,e-u)),o.push(t.substring(i-=a,i+a)),!((u+=a+1)>e));)a=r[s=(s+1)%r.length];return o.reverse().join(n)}:j;return function(t){var n=Be.exec(t),r=n[1]||" ",a=n[2]||">",u=n[3]||"-",c=n[4]||"",l=n[5],f=+n[6],h=n[7],p=n[8],d=n[9],g=1,v="",m="",y=!1,b=!0;switch(p&&(p=+p.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),d){case"n":h=!0,d="g";break;case"%":g=100,m="%",d="f";break;case"p":g=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===c&&(v="0"+d.toLowerCase());case"c":b=!1;case"d":y=!0,p=0;break;case"s":g=-1,d="r"}"$"===c&&(v=i[0],m=i[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):"e"!=d&&"f"!=d||(p=Math.max(0,Math.min(20,p)))),d=Ue.get(d)||Fe;var _=l&&h;return function(t){var n=m;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(g<0){var c=o.formatPrefix(t,p);t=c.scale(t),n=c.symbol+m}else t*=g;var w,x,E=(t=d(t,p)).lastIndexOf(".");if(E<0){var S=b?t.lastIndexOf("e"):-1;S<0?(w=t,x=""):(w=t.substring(0,S),x=t.substring(S))}else w=t.substring(0,E),x=e+t.substring(E+1);!l&&h&&(w=s(w,1/0));var k=v.length+w.length+x.length+(_?0:i.length),M=k<f?new Array(k=f-k+1).join(r):"";return _&&(w=s(M+w,M.length?f-x.length:1/0)),i+=v,t=w+x,("<"===a?i+t+M:">"===a?M+i+t:"^"===a?M.substring(0,k>>=1)+i+t+M.substring(k):i+(_?t:M+t))+n}}}o.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=o.round(t,De(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),je[8+n/3]};var Be=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ue=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,De(t,e))).toFixed(Math.max(0,Math.min(20,De(t*(1+1e-15),e))))}});function Fe(t){return t+""}var Ve=o.time={},He=Date;function ze(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}ze.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){We.setUTCDate.apply(this._,arguments)},setDay:function(){We.setUTCDay.apply(this._,arguments)},setFullYear:function(){We.setUTCFullYear.apply(this._,arguments)},setHours:function(){We.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){We.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){We.setUTCMinutes.apply(this._,arguments)},setMonth:function(){We.setUTCMonth.apply(this._,arguments)},setSeconds:function(){We.setUTCSeconds.apply(this._,arguments)},setTime:function(){We.setTime.apply(this._,arguments)}};var We=Date.prototype;function Ye(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new He(n-1)),1),n}function o(t,n){return e(t=new He(+t),n),t}function s(t,r,o){var s=i(t),a=[];if(o>1)for(;s<r;)n(s)%o||a.push(new Date(+s)),e(s,1);else for(;s<r;)a.push(new Date(+s)),e(s,1);return a}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=s;var a=t.utc=qe(t);return a.floor=a,a.round=qe(r),a.ceil=qe(i),a.offset=qe(o),a.range=function(t,e,n){try{He=ze;var r=new ze;return r._=t,s(r,e,n)}finally{He=Date}},t}function qe(t){return function(e,n){try{He=ze;var r=new ze;return r._=e,t(r,n)._}finally{He=Date}}}function Ge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,u=t.months,c=t.shortMonths;function l(t){var e=t.length;function n(n){for(var r,i,o,s=[],a=-1,u=0;++a<e;)37===t.charCodeAt(a)&&(s.push(t.slice(u,a)),null!=(i=$e[r=t.charAt(++a)])&&(r=t.charAt(++a)),(o=w[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),s.push(r),u=a+1);return s.push(t.slice(u,a)),s.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&He!==ze,i=new(r?ze:He);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function f(t,e,n,r){for(var i,o,s,a=0,u=e.length,c=n.length;a<u;){if(r>=c)return-1;if(37===(i=e.charCodeAt(a++))){if(s=e.charAt(a++),!(o=x[s in $e?e.charAt(a++):s])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}l.utc=function(t){var e=l(t);function n(t){try{var n=new(He=ze);return n._=t,e(n)}finally{He=Date}}return n.parse=function(t){try{He=ze;var n=e.parse(t);return n&&n._}finally{He=Date}},n.toString=e.toString,n},l.multi=l.utc.multi=vn;var h=o.map(),p=Ze(s),d=Qe(s),g=Ze(a),v=Qe(a),m=Ze(u),y=Qe(u),b=Ze(c),_=Qe(c);i.forEach((function(t,e){h.set(t.toLowerCase(),e)}));var w={a:function(t){return a[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:l(e),d:function(t,e){return Je(t.getDate(),e,2)},e:function(t,e){return Je(t.getDate(),e,2)},H:function(t,e){return Je(t.getHours(),e,2)},I:function(t,e){return Je(t.getHours()%12||12,e,2)},j:function(t,e){return Je(1+Ve.dayOfYear(t),e,3)},L:function(t,e){return Je(t.getMilliseconds(),e,3)},m:function(t,e){return Je(t.getMonth()+1,e,2)},M:function(t,e){return Je(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return Je(t.getSeconds(),e,2)},U:function(t,e){return Je(Ve.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Je(Ve.mondayOfYear(t),e,2)},x:l(n),X:l(r),y:function(t,e){return Je(t.getFullYear()%100,e,2)},Y:function(t,e){return Je(t.getFullYear()%1e4,e,4)},Z:dn,"%":function(){return"%"}},x={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){p.lastIndex=0;var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return f(t,w.c.toString(),e,n)},d:un,e:un,H:ln,I:ln,j:cn,L:pn,m:an,M:fn,p:function(t,e,n){var r=h.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:hn,U:en,w:tn,W:nn,x:function(t,e,n){return f(t,w.x.toString(),e,n)},X:function(t,e,n){return f(t,w.X.toString(),e,n)},y:on,Y:rn,Z:sn,"%":gn};return l}Ve.year=Ye((function(t){return(t=Ve.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),Ve.years=Ve.year.range,Ve.years.utc=Ve.year.utc.range,Ve.day=Ye((function(t){var e=new He(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),Ve.days=Ve.day.range,Ve.days.utc=Ve.day.utc.range,Ve.dayOfYear=function(t){var e=Ve.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=Ve[t]=Ye((function(t){return(t=Ve.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=Ve.year(t).getDay();return Math.floor((Ve.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));Ve[t+"s"]=n.range,Ve[t+"s"].utc=n.utc.range,Ve[t+"OfYear"]=function(t){var n=Ve.year(t).getDay();return Math.floor((Ve.dayOfYear(t)+(n+e)%7)/7)}})),Ve.week=Ve.sunday,Ve.weeks=Ve.sunday.range,Ve.weeks.utc=Ve.sunday.utc.range,Ve.weekOfYear=Ve.sundayOfYear;var $e={"-":"",_:" ",0:"0"},Ke=/^\s*\d+/,Xe=/^%/;function Je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ze(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Qe(t){for(var e=new k,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function tn(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function en(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function nn(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function rn(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function on(t,e,n){Ke.lastIndex=0;var r,i=Ke.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function sn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function an(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function un(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function cn(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ln(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function fn(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hn(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function pn(t,e,n){Ke.lastIndex=0;var r=Ke.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=x(e)/60|0,i=x(e)%60;return n+Je(r,"0",2)+Je(i,"0",2)}function gn(t,e,n){Xe.lastIndex=0;var r=Xe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}o.locale=function(t){return{numberFormat:Le(t),timeFormat:Ge(t)}};var mn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yn(){}o.format=mn.numberFormat,o.geo={},yn.prototype={s:0,t:0,add:function(t){_n(t,this.t,bn),_n(bn.s,this.s,this),this.s?this.t+=bn.t:this.s=bn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bn=new yn;function _n(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function wn(t,e){t&&En.hasOwnProperty(t.type)&&En[t.type](t,e)}o.geo.stream=function(t,e){t&&xn.hasOwnProperty(t.type)?xn[t.type](t,e):wn(t,e)};var xn={Feature:function(t,e){wn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)wn(n[r].geometry,e)}},En={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Sn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Sn(n[r],e,0)},Polygon:function(t,e){kn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)kn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)wn(n[r],e)}};function Sn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function kn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Sn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return Mn=0,o.geo.stream(t,Un),Mn};var Mn,Tn,On,Cn,In,Nn,An,Rn,Pn,Dn,jn,Ln,Bn=new yn,Un={sphere:function(){Mn+=4*At},point:F,lineStart:F,lineEnd:F,polygonStart:function(){Bn.reset(),Un.lineStart=Fn},polygonEnd:function(){var t=2*Bn;Mn+=t<0?4*At+t:t,Un.lineStart=Un.lineEnd=Un.point=F}};function Fn(){var t,e,n,r,i;function o(t,e){e=e*jt/2+At/4;var o=(t*=jt)-n,s=o>=0?1:-1,a=s*o,u=Math.cos(e),c=Math.sin(e),l=i*c,f=r*u+l*Math.cos(a),h=l*s*Math.sin(a);Bn.add(Math.atan2(h,f)),n=t,r=u,i=c}Un.point=function(s,a){Un.point=o,n=(t=s)*jt,r=Math.cos(a=(e=a)*jt/2+At/4),i=Math.sin(a)},Un.lineEnd=function(){o(t,e)}}function Vn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Hn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function zn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Wn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Yn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Gn(t){return[Math.atan2(t[1],t[0]),Vt(t[2])]}function $n(t,e){return x(t[0]-e[0])<It&&x(t[1]-e[1])<It}o.geo.bounds=function(){var t,e,n,r,i,s,a,u,c,l,f,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=b,c=0,Un.polygonStart()},polygonEnd:function(){Un.polygonEnd(),h.point=p,h.lineStart=g,h.lineEnd=v,Bn<0?(t=-(n=180),e=-(r=90)):c>It?r=90:c<-It&&(e=-90),f[0]=t,f[1]=n}};function p(i,o){l.push(f=[t=i,n=i]),o<e&&(e=o),o>r&&(r=o)}function d(o,s){var a=Vn([o*jt,s*jt]);if(u){var c=zn(u,a),l=zn([c[1],-c[0],0],c);qn(l),l=Gn(l);var f=o-i,h=f>0?1:-1,d=l[0]*Lt*h,g=x(f)>180;if(g^(h*i<d&&d<h*o))(v=l[1]*Lt)>r&&(r=v);else if(g^(h*i<(d=(d+360)%360-180)&&d<h*o)){var v;(v=-l[1]*Lt)<e&&(e=v)}else s<e&&(e=s),s>r&&(r=s);g?o<i?_(t,o)>_(t,n)&&(n=o):_(o,n)>_(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>i?_(t,o)>_(t,n)&&(n=o):_(o,n)>_(t,n)&&(t=o)}else p(o,s);u=a,i=o}function g(){h.point=d}function v(){f[0]=t,f[1]=n,h.point=p,u=null}function m(t,e){if(u){var n=t-i;c+=x(n)>180?n+(n>0?360:-360):n}else s=t,a=e;Un.point(t,e),d(t,e)}function y(){Un.lineStart()}function b(){m(s,a),Un.lineEnd(),x(c)>It&&(t=-(n=180)),f[0]=t,f[1]=n,u=null}function _(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function E(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),l=[],o.geo.stream(i,h),c=l.length){l.sort(w);for(var s=1,a=[g=l[0]];s<c;++s)E((p=l[s])[0],g)||E(p[1],g)?(_(g[0],p[1])>_(g[0],g[1])&&(g[1]=p[1]),_(p[0],g[1])>_(g[0],g[1])&&(g[0]=p[0])):a.push(g=p);for(var u,c,p,d=-1/0,g=(s=0,a[c=a.length-1]);s<=c;g=p,++s)p=a[s],(u=_(g[1],p[0]))>d&&(d=u,t=p[0],n=g[1])}return l=f=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){Tn=On=Cn=In=Nn=An=Rn=Pn=Dn=jn=Ln=0,o.geo.stream(t,Kn);var e=Dn,n=jn,r=Ln,i=e*e+n*n+r*r;return i<Nt&&(e=An,n=Rn,r=Pn,On<It&&(e=Cn,n=In,r=Nn),(i=e*e+n*n+r*r)<Nt)?[NaN,NaN]:[Math.atan2(n,e)*Lt,Vt(r/Math.sqrt(i))*Lt]};var Kn={sphere:F,point:Xn,lineStart:Zn,lineEnd:Qn,polygonStart:function(){Kn.lineStart=tr},polygonEnd:function(){Kn.lineStart=Zn}};function Xn(t,e){t*=jt;var n=Math.cos(e*=jt);Jn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Jn(t,e,n){++Tn,Cn+=(t-Cn)/Tn,In+=(e-In)/Tn,Nn+=(n-Nn)/Tn}function Zn(){var t,e,n;function r(r,i){r*=jt;var o=Math.cos(i*=jt),s=o*Math.cos(r),a=o*Math.sin(r),u=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*u-n*a)*c+(c=n*s-t*u)*c+(c=t*a-e*s)*c),t*s+e*a+n*u);On+=c,An+=c*(t+(t=s)),Rn+=c*(e+(e=a)),Pn+=c*(n+(n=u)),Jn(t,e,n)}Kn.point=function(i,o){i*=jt;var s=Math.cos(o*=jt);t=s*Math.cos(i),e=s*Math.sin(i),n=Math.sin(o),Kn.point=r,Jn(t,e,n)}}function Qn(){Kn.point=Xn}function tr(){var t,e,n,r,i;function o(t,e){t*=jt;var o=Math.cos(e*=jt),s=o*Math.cos(t),a=o*Math.sin(t),u=Math.sin(e),c=r*u-i*a,l=i*s-n*u,f=n*a-r*s,h=Math.sqrt(c*c+l*l+f*f),p=n*s+r*a+i*u,d=h&&-Ft(p)/h,g=Math.atan2(h,p);Dn+=d*c,jn+=d*l,Ln+=d*f,On+=g,An+=g*(n+(n=s)),Rn+=g*(r+(r=a)),Pn+=g*(i+(i=u)),Jn(n,r,i)}Kn.point=function(s,a){t=s,e=a,Kn.point=o,s*=jt;var u=Math.cos(a*=jt);n=u*Math.cos(s),r=u*Math.sin(s),i=Math.sin(a),Jn(n,r,i)},Kn.lineEnd=function(){o(t,e),Kn.lineEnd=Qn,Kn.point=Xn}}function er(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function nr(){return!0}function rr(t,e,n,r,i){var o=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if($n(n,r)){i.lineStart();for(var a=0;a<e;++a)i.point((n=t[a])[0],n[1]);i.lineEnd()}else{var u=new or(n,t,null,!0),c=new or(n,null,u,!1);u.o=c,o.push(u),s.push(c),u=new or(r,t,null,!1),c=new or(r,null,u,!0),u.o=c,o.push(u),s.push(c)}}})),s.sort(e),ir(o),ir(s),o.length){for(var a=0,u=n,c=s.length;a<c;++a)s[a].e=u=!u;for(var l,f,h=o[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(a=0,c=l.length;a<c;++a)i.point((f=l[a])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(a=(l=p.p.z).length-1;a>=0;--a)i.point((f=l[a])[0],f[1]);else r(p.x,p.p.x,-1,i);p=p.p}l=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}}function ir(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function or(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function sr(t,e,n,r){return function(i,s){var a,u=e(s),c=i.invert(r[0],r[1]),l={point:f,lineStart:p,lineEnd:d,polygonStart:function(){l.point=_,l.lineStart=w,l.lineEnd=x,a=[],g=[]},polygonEnd:function(){l.point=f,l.lineStart=p,l.lineEnd=d,a=o.merge(a);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,s=0;Bn.reset();for(var a=0,u=e.length;a<u;++a){var c=e[a],l=c.length;if(l)for(var f=c[0],h=f[0],p=f[1]/2+At/4,d=Math.sin(p),g=Math.cos(p),v=1;;){v===l&&(v=0);var m=(t=c[v])[0],y=t[1]/2+At/4,b=Math.sin(y),_=Math.cos(y),w=m-h,x=w>=0?1:-1,E=x*w,S=E>At,k=d*b;if(Bn.add(Math.atan2(k*x*Math.sin(E),g*_+k*Math.cos(E))),o+=S?w+x*Rt:w,S^h>=n^m>=n){var M=zn(Vn(f),Vn(t));qn(M);var T=zn(i,M);qn(T);var O=(S^w>=0?-1:1)*Vt(T[2]);(r>O||r===O&&(M[0]||M[1]))&&(s+=S^w>=0?1:-1)}if(!v++)break;h=m,d=b,g=_,f=t}}return(o<-It||o<It&&Bn<0)^1&s}(c,g);a.length?(b||(s.polygonStart(),b=!0),rr(a,cr,t,n,s)):t&&(b||(s.polygonStart(),b=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),b&&(s.polygonEnd(),b=!1),a=g=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function f(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&s.point(e,n)}function h(t,e){var n=i(t,e);u.point(n[0],n[1])}function p(){l.point=h,u.lineStart()}function d(){l.point=f,u.lineEnd()}var g,v,m=ur(),y=e(m),b=!1;function _(t,e){v.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function w(){y.lineStart(),v=[]}function x(){_(v[0][0],v[0][1]),y.lineEnd();var t,e=y.clean(),n=m.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(b||(s.polygonStart(),b=!0),s.lineStart();++o<r;)s.point((i=t[o])[0],i[1]);s.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),a.push(n.filter(ar))}return l}}function ar(t){return t.length>1}function ur(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:F,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function cr(t,e){return((t=t.x)[0]<0?t[1]-Dt-It:Dt-t[1])-((e=e.x)[0]<0?e[1]-Dt-It:Dt-e[1])}var lr=sr(nr,(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?At:-At,u=x(o-n);x(u-At)<It?(t.point(n,r=(r+s)/2>0?Dt:-Dt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=At&&(x(n-i)<It&&(n-=i*It),x(o-a)<It&&(o-=a*It),r=function(t,e,n,r){var i,o,s=Math.sin(t-n);return x(s)>It?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Dt,r.point(-At,i),r.point(0,i),r.point(At,i),r.point(At,0),r.point(At,-i),r.point(0,-i),r.point(-At,-i),r.point(-At,0),r.point(-At,i);else if(x(t[0]-e[0])>It){var o=t[0]<e[0]?At:-At;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-At,-At/2]);function fr(t){var e=Math.cos(t),n=e>0,r=x(e)>It;return sr(i,(function(t){var e,a,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,h){var p,d=[f,h],g=i(f,h),v=n?g?0:s(f,h):g?s(f+(f<0?At:-At),h):0;if(!e&&(c=u=g)&&t.lineStart(),g!==u&&(p=o(e,d),($n(e,p)||$n(d,p))&&(d[0]+=It,d[1]+=It,g=i(d[0],d[1]))),g!==u)l=0,g?(t.lineStart(),p=o(d,e),t.point(p[0],p[1])):(p=o(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&n^g){var m;v&a||!(m=o(d,e,!0))||(l=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&$n(e,d)||t.point(d[0],d[1]),e=d,u=g,a=v},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}}),$r(t,6*jt),n?[0,-t]:[-At,t-At]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=zn(Vn(t),Vn(n)),s=Hn(o,o),a=o[0],u=s-a*a;if(!u)return!r&&t;var c=e*s/u,l=-e*a/u,f=zn(i,o),h=Yn(i,c);Wn(h,Yn(o,l));var p=f,d=Hn(h,p),g=Hn(p,p),v=d*d-g*(Hn(h,h)-1);if(!(v<0)){var m=Math.sqrt(v),y=Yn(p,(-d-m)/g);if(Wn(y,h),y=Gn(y),!r)return y;var b,_=t[0],w=n[0],E=t[1],S=n[1];w<_&&(b=_,_=w,w=b);var k=w-_,M=x(k-At)<It;if(!M&&S<E&&(b=E,E=S,S=b),M||k<It?M?E+S>0^y[1]<(x(y[0]-_)<It?E:S):E<=y[1]&&y[1]<=S:k>At^(_<=y[0]&&y[0]<=w)){var T=Yn(p,(-d+m)/g);return Wn(T,h),[y,Gn(T)]}}}function s(e,r){var i=n?t:At-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}function hr(t,e,n,r){return function(i){var o,s=i.a,a=i.b,u=s.x,c=s.y,l=0,f=1,h=a.x-u,p=a.y-c;if(o=t-u,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>l&&(l=o)}if(o=n-u,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<f&&(f=o)}if(o=e-c,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>l&&(l=o)}if(o=r-c,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<f&&(f=o)}return l>0&&(i.a={x:u+l*h,y:c+l*p}),f<1&&(i.b={x:u+f*h,y:c+f*p}),i}}}}}}var pr=1e9;function dr(t,e,n,r){return function(u){var c,l,f,h,p,d,g,v,m,y,b,_=u,w=ur(),x=hr(t,e,n,r),E={point:M,lineStart:function(){E.point=T,l&&l.push(f=[]);y=!0,m=!1,g=v=NaN},lineEnd:function(){c&&(T(h,p),d&&m&&w.rejoin(),c.push(w.buffer()));E.point=M,m&&u.lineEnd()},polygonStart:function(){u=w,c=[],l=[],b=!0},polygonEnd:function(){u=_,c=o.merge(c);var e=function(t){for(var e=0,n=l.length,r=t[1],i=0;i<n;++i)for(var o,s=1,a=l[i],u=a.length,c=a[0];s<u;++s)o=a[s],c[1]<=r?o[1]>r&&Ut(c,o,t)>0&&++e:o[1]<=r&&Ut(c,o,t)<0&&--e,c=o;return 0!==e}([t,r]),n=b&&e,i=c.length;(n||i)&&(u.polygonStart(),n&&(u.lineStart(),S(null,null,1,u),u.lineEnd()),i&&rr(c,s,e,S,u),u.polygonEnd()),c=l=f=null}};function S(o,s,u,c){var l=0,f=0;if(null==o||(l=i(o,u))!==(f=i(s,u))||a(o,s)<0^u>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+u+4)%4)!==f);else c.point(s[0],s[1])}function k(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function M(t,e){k(t,e)&&u.point(t,e)}function T(t,e){var n=k(t=Math.max(-pr,Math.min(pr,t)),e=Math.max(-pr,Math.min(pr,e)));if(l&&f.push([t,e]),y)h=t,p=e,d=n,y=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&m)u.point(t,e);else{var r={a:{x:g,y:v},b:{x:t,y:e}};x(r)?(m||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),b=!1):n&&(u.lineStart(),u.point(t,e),b=!1)}g=t,v=e,m=n}return E};function i(r,i){return x(r[0]-t)<It?i>0?0:3:x(r[0]-n)<It?i>0?2:1:x(r[1]-e)<It?i>0?1:0:i>0?3:2}function s(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function gr(t){var e=0,n=At/3,r=Fr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*At/180,n=t[1]*At/180):[e/At*180,n/At*180]},i}function vr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function s(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return s.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,Vt((i-(t*t+n*n)*r*r)/(2*r))]},s}o.geo.clipExtent=function(){var t,e,n,r,i,o,s={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(a){return arguments.length?(o=dr(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),s):[[t,e],[n,r]]}};return s.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return gr(vr)}).raw=vr,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,r,i=o.geo.albers(),s=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};function c(i){var o=i[0],s=i[1];return t=null,e(o,s),t||(n(o,s),t)||r(o,s),t}return c.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?s:o>=.166&&o<.234&&r>=-.214&&r<-.115?a:i).invert(t)},c.stream=function(t){var e=i.stream(t),n=s.stream(t),r=a.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},c.precision=function(t){return arguments.length?(i.precision(t),s.precision(t),a.precision(t),c):i.precision()},c.scale=function(t){return arguments.length?(i.scale(t),s.scale(.35*t),a.scale(t),c.translate(i.translate())):i.scale()},c.translate=function(t){if(!arguments.length)return i.translate();var o=i.scale(),l=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[l-.455*o,f-.238*o],[l+.455*o,f+.238*o]]).stream(u).point,n=s.translate([l-.307*o,f+.201*o]).clipExtent([[l-.425*o+It,f+.12*o+It],[l-.214*o-It,f+.234*o-It]]).stream(u).point,r=a.translate([l-.205*o,f+.212*o]).clipExtent([[l-.214*o+It,f+.166*o+It],[l-.115*o-It,f+.234*o-It]]).stream(u).point,c},c.scale(1070)};var mr,yr,br,_r,wr,xr,Er={point:F,lineStart:F,lineEnd:F,polygonStart:function(){yr=0,Er.lineStart=Sr},polygonEnd:function(){Er.lineStart=Er.lineEnd=Er.point=F,mr+=x(yr/2)}};function Sr(){var t,e,n,r;function i(t,e){yr+=r*t-n*e,n=t,r=e}Er.point=function(o,s){Er.point=i,t=n=o,e=r=s},Er.lineEnd=function(){i(t,e)}}var kr={point:function(t,e){t<br&&(br=t);t>wr&&(wr=t);e<_r&&(_r=e);e>xr&&(xr=e)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F};function Mr(){var t=Tr(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(e){return t=Tr(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function s(){n.point=r}function a(){e.push("Z")}return n}function Tr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Or,Cr={point:Ir,lineStart:Nr,lineEnd:Ar,polygonStart:function(){Cr.lineStart=Rr},polygonEnd:function(){Cr.point=Ir,Cr.lineStart=Nr,Cr.lineEnd=Ar}};function Ir(t,e){Cn+=t,In+=e,++Nn}function Nr(){var t,e;function n(n,r){var i=n-t,o=r-e,s=Math.sqrt(i*i+o*o);An+=s*(t+n)/2,Rn+=s*(e+r)/2,Pn+=s,Ir(t=n,e=r)}Cr.point=function(r,i){Cr.point=n,Ir(t=r,e=i)}}function Ar(){Cr.point=Ir}function Rr(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,s=Math.sqrt(i*i+o*o);An+=s*(n+t)/2,Rn+=s*(r+e)/2,Pn+=s,Dn+=(s=r*t-n*e)*(n+t),jn+=s*(r+e),Ln+=3*s,Ir(n=t,r=e)}Cr.point=function(o,s){Cr.point=i,Ir(t=n=o,e=r=s)},Cr.lineEnd=function(){i(t,e)}}function Pr(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=r},pointRadius:function(t){return e=t,n},result:F};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Rt)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function s(){n.point=r}function a(){t.closePath()}return n}function Dr(t){var e=.5,n=Math.cos(30*jt),r=16;function i(t){return(r?s:o)(t)}function o(e){return Br(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function s(e){var n,i,o,s,u,c,l,f,h,p,d,g,v={point:m,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),v.lineStart=w},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){f=NaN,v.point=b,e.lineStart()}function b(n,i){var o=Vn([n,i]),s=t(n,i);a(f,h,l,p,d,g,f=s[0],h=s[1],l=n,p=o[0],d=o[1],g=o[2],r,e),e.point(f,h)}function _(){v.point=m,e.lineEnd()}function w(){y(),v.point=x,v.lineEnd=E}function x(t,e){b(n=t,e),i=f,o=h,s=p,u=d,c=g,v.point=b}function E(){a(f,h,l,p,d,g,i,o,n,s,u,c,r,e),v.lineEnd=_,_()}return v}function a(r,i,o,s,u,c,l,f,h,p,d,g,v,m){var y=l-r,b=f-i,_=y*y+b*b;if(_>4*e&&v--){var w=s+p,E=u+d,S=c+g,k=Math.sqrt(w*w+E*E+S*S),M=Math.asin(S/=k),T=x(x(S)-1)<It||x(o-h)<It?(o+h)/2:Math.atan2(E,w),O=t(T,M),C=O[0],I=O[1],N=C-r,A=I-i,R=b*N-y*A;(R*R/_>e||x((y*N+b*A)/_-.5)>.3||s*p+u*d+c*g<n)&&(a(r,i,o,s,u,c,C,I,T,w/=k,E/=k,S,v,m),m.point(C,I),a(C,I,T,w,E,S,l,f,h,p,d,g,v,m))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function jr(t){var e=Dr((function(e,n){return t([e*Lt,n*Lt])}));return function(t){return Vr(e(t))}}function Lr(t){this.stream=t}function Br(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Ur(t){return Fr((function(){return t}))()}function Fr(t){var e,n,r,i,s,a,u=Dr((function(t,n){return[(t=e(t,n))[0]*c+i,s-t[1]*c]})),c=150,l=480,f=250,h=0,p=0,d=0,g=0,v=0,m=lr,y=j,b=null,_=null;function w(t){return[(t=r(t[0]*jt,t[1]*jt))[0]*c+i,s-t[1]*c]}function x(t){return(t=r.invert((t[0]-i)/c,(s-t[1])/c))&&[t[0]*Lt,t[1]*Lt]}function E(){r=er(n=Wr(d,g,v),e);var t=e(h,p);return i=l-t[0]*c,s=f+t[1]*c,S()}function S(){return a&&(a.valid=!1,a=null),w}return w.stream=function(t){return a&&(a.valid=!1),(a=Vr(m(n,u(y(t))))).valid=!0,a},w.clipAngle=function(t){return arguments.length?(m=null==t?(b=t,lr):fr((b=+t)*jt),S()):b},w.clipExtent=function(t){return arguments.length?(_=t,y=t?dr(t[0][0],t[0][1],t[1][0],t[1][1]):j,S()):_},w.scale=function(t){return arguments.length?(c=+t,E()):c},w.translate=function(t){return arguments.length?(l=+t[0],f=+t[1],E()):[l,f]},w.center=function(t){return arguments.length?(h=t[0]%360*jt,p=t[1]%360*jt,E()):[h*Lt,p*Lt]},w.rotate=function(t){return arguments.length?(d=t[0]%360*jt,g=t[1]%360*jt,v=t.length>2?t[2]%360*jt:0,E()):[d*Lt,g*Lt,v*Lt]},o.rebind(w,u,"precision"),function(){return e=t.apply(this,arguments),w.invert=e.invert&&x,E()}}function Vr(t){return Br(t,(function(e,n){t.point(e*jt,n*jt)}))}function Hr(t,e){return[t,e]}function zr(t,e){return[t>At?t-Rt:t<-At?t+Rt:t,e]}function Wr(t,e,n){return t?e||n?er(qr(t),Gr(e,n)):qr(t):e||n?Gr(e,n):zr}function Yr(t){return function(e,n){return[(e+=t)>At?e-Rt:e<-At?e+Rt:e,n]}}function qr(t){var e=Yr(t);return e.invert=Yr(-t),e}function Gr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function s(t,e){var s=Math.cos(e),a=Math.cos(t)*s,u=Math.sin(t)*s,c=Math.sin(e),l=c*n+a*r;return[Math.atan2(u*i-l*o,a*n-c*r),Vt(l*i+u*o)]}return s.invert=function(t,e){var s=Math.cos(e),a=Math.cos(t)*s,u=Math.sin(t)*s,c=Math.sin(e),l=c*i-u*o;return[Math.atan2(u*i+c*o,a*n+l*r),Vt(l*n-a*r)]},s}function $r(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,s,a){var u=s*e;null!=i?(i=Kr(n,i),o=Kr(n,o),(s>0?i<o:i>o)&&(i+=s*Rt)):(i=t+s*Rt,o=t-.5*u);for(var c,l=i;s>0?l>o:l<o;l-=u)a.point((c=Gn([n,-r*Math.cos(l),-r*Math.sin(l)]))[0],c[1])}}function Kr(t,e){var n=Vn(e);n[0]-=t,qn(n);var r=Ft(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-It)%(2*Math.PI)}function Xr(t,e,n){var r=o.range(t,e-It,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Jr(t,e,n){var r=o.range(t,e-It,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Zr(t){return t.source}function Qr(t){return t.target}o.geo.path=function(){var t,e,n,r,i,s=4.5;function a(t){return t&&("function"===typeof s&&r.pointRadius(+s.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(t,i)),r.result()}function u(){return i=null,a}return a.area=function(t){return mr=0,o.geo.stream(t,n(Er)),mr},a.centroid=function(t){return Cn=In=Nn=An=Rn=Pn=Dn=jn=Ln=0,o.geo.stream(t,n(Cr)),Ln?[Dn/Ln,jn/Ln]:Pn?[An/Pn,Rn/Pn]:Nn?[Cn/Nn,In/Nn]:[NaN,NaN]},a.bounds=function(t){return wr=xr=-(br=_r=1/0),o.geo.stream(t,n(kr)),[[br,_r],[wr,xr]]},a.projection=function(e){return arguments.length?(n=(t=e)?e.stream||jr(e):j,u()):t},a.context=function(t){return arguments.length?(r=null==(e=t)?new Mr:new Pr(t),"function"!==typeof s&&r.pointRadius(s),u()):e},a.pointRadius=function(t){return arguments.length?(s="function"===typeof t?t:(r.pointRadius(+t),+t),a):s},a.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Lr(e);for(var r in t)n[r]=t[r];return n}}},Lr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Ur,o.geo.projectionMutator=Fr,(o.geo.equirectangular=function(){return Ur(Hr)}).raw=Hr.invert=Hr,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*jt,e[1]*jt))[0]*=Lt,e[1]*=Lt,e}return t=Wr(t[0]%360*jt,t[1]*jt,t.length>2?t[2]*jt:0),e.invert=function(e){return(e=t.invert(e[0]*jt,e[1]*jt))[0]*=Lt,e[1]*=Lt,e},e},zr.invert=Hr,o.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"===typeof n?n.apply(this,arguments):n,r=Wr(-t[0]*jt,-t[1]*jt,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Lt,t[1]*=Lt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=$r((t=+n)*jt,r*jt),i):t},i.precision=function(n){return arguments.length?(e=$r(t*jt,(r=+n)*jt),i):r},i.angle(90)},o.geo.distance=function(t,e){var n,r=(e[0]-t[0])*jt,i=t[1]*jt,o=e[1]*jt,s=Math.sin(r),a=Math.cos(r),u=Math.sin(i),c=Math.cos(i),l=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*s)*n+(n=c*l-u*f*a)*n),u*l+c*f*a)},o.geo.graticule=function(){var t,e,n,r,i,s,a,u,c,l,f,h,p=10,d=p,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:b()}}function b(){return o.range(Math.ceil(r/g)*g,n,g).map(f).concat(o.range(Math.ceil(u/v)*v,a,v).map(h)).concat(o.range(Math.ceil(e/p)*p,t,p).filter((function(t){return x(t%g)>It})).map(c)).concat(o.range(Math.ceil(s/d)*d,i,d).filter((function(t){return x(t%v)>It})).map(l))}return y.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(a).slice(1),f(n).reverse().slice(1),h(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),y.precision(m)):[[r,u],[n,a]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],s=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),s>i&&(n=s,s=i,i=n),y.precision(m)):[[e,s],[t,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(o){return arguments.length?(m=+o,c=Xr(s,i,90),l=Jr(e,t,m),f=Xr(u,a,90),h=Jr(r,n,m),y):m},y.majorExtent([[-180,-90+It],[180,90-It]]).minorExtent([[-180,-80-It],[180,80+It]])},o.geo.greatArc=function(){var t,e,n=Zr,r=Qr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"===typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"===typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return function(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),s=Math.cos(r),a=Math.sin(r),u=i*Math.cos(t),c=i*Math.sin(t),l=s*Math.cos(n),f=s*Math.sin(n),h=2*Math.asin(Math.sqrt(zt(r-e)+i*s*zt(n-t))),p=1/Math.sin(h),d=h?function(t){var e=Math.sin(t*=h)*p,n=Math.sin(h-t)*p,r=n*u+e*l,i=n*c+e*f,s=n*o+e*a;return[Math.atan2(i,r)*Lt,Math.atan2(s,Math.sqrt(r*r+i*i))*Lt]}:function(){return[t*Lt,e*Lt]};return d.distance=h,d}(t[0]*jt,t[1]*jt,e[0]*jt,e[1]*jt)},o.geo.length=function(t){return Or=0,o.geo.stream(t,ti),Or};var ti={sphere:F,point:F,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=jt),s=Math.cos(i),a=x((r*=jt)-t),u=Math.cos(a);Or+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=n*o-e*s*u)*a),e*o+n*s*u),t=r,e=o,n=s}ti.point=function(i,o){t=i*jt,e=Math.sin(o*=jt),n=Math.cos(o),ti.point=r},ti.lineEnd=function(){ti.point=ti.lineEnd=F}},lineEnd:F,polygonStart:F,polygonEnd:F};function ei(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),s=Math.cos(i);return[Math.atan2(t*o,r*s),Math.asin(r&&n*o/r)]},n}var ni=ei((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(o.geo.azimuthalEqualArea=function(){return Ur(ni)}).raw=ni;var ri=ei((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),j);function ii(t,e){var n=Math.cos(t),r=function(t){return Math.tan(At/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return ai;function s(t,e){o>0?e<-Dt+It&&(e=-Dt+It):e>Dt-It&&(e=Dt-It);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return s.invert=function(t,e){var n=o-e,r=Bt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Dt]},s}function oi(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(x(r)<It)return Hr;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Bt(r)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Ur(ri)}).raw=ri,(o.geo.conicConformal=function(){return gr(ii)}).raw=ii,(o.geo.conicEquidistant=function(){return gr(oi)}).raw=oi;var si=ei((function(t){return 1/t}),Math.atan);function ai(t,e){return[t,Math.log(Math.tan(At/4+e/2))]}function ui(t){var e,n=Ur(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var s=o.apply(n,arguments);if(s===n){if(e=null==t){var a=At*r(),u=i();o([[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]])}}else e&&(s=null);return s},n.clipExtent(null)}(o.geo.gnomonic=function(){return Ur(si)}).raw=si,ai.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Dt]},(o.geo.mercator=function(){return ui(ai)}).raw=ai;var ci=ei((function(){return 1}),Math.asin);(o.geo.orthographic=function(){return Ur(ci)}).raw=ci;var li=ei((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function fi(t,e){return[Math.log(Math.tan(At/4+e/2)),-t]}function hi(t){return t[0]}function pi(t){return t[1]}function di(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Ut(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function gi(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Ur(li)}).raw=li,fi.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Dt]},(o.geo.transverseMercator=function(){var t=ui(fi),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=fi,o.geom={},o.geom.hull=function(t){var e=hi,n=pi;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=Ee(e),o=Ee(n),s=t.length,a=[],u=[];for(r=0;r<s;r++)a.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(a.sort(gi),r=0;r<s;r++)u.push([a[r][0],-a[r][1]]);var c=di(a),l=di(u),f=l[0]===c[0],h=l[l.length-1]===c[c.length-1],p=[];for(r=c.length-1;r>=0;--r)p.push(t[a[c[r]][2]]);for(r=+f;r<l.length-h;++r)p.push(t[a[l[r]][2]]);return p}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},o.geom.polygon=function(t){return G(t,vi),t};var vi=o.geom.polygon.prototype=[];function mi(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function yi(t,e,n,r){var i=t[0],o=n[0],s=e[0]-i,a=r[0]-o,u=t[1],c=n[1],l=e[1]-u,f=r[1]-c,h=(a*(u-c)-f*(i-o))/(f*s-a*l);return[i+h*s,u+h*l]}function bi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}vi.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},vi.centroid=function(t){var e,n,r=-1,i=this.length,o=0,s=0,a=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=a,a=this[r],n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o*t,s*t]},vi.clip=function(t){for(var e,n,r,i,o,s,a=bi(t),u=-1,c=this.length-bi(this),l=this[c-1];++u<c;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-a)-1],n=-1;++n<r;)mi(s=e[n],l,i)?(mi(o,l,i)||t.push(yi(o,s,l,i)),t.push(s)):mi(o,l,i)&&t.push(yi(o,s,l,i)),o=s;a&&t.push(t[0]),l=i}return t};var _i,wi,xi,Ei,Si,ki=[],Mi=[];function Ti(){qi(this),this.edge=this.site=this.circle=null}function Oi(t){var e=ki.pop()||new Ti;return e.site=t,e}function Ci(t){Bi(t),xi.remove(t),ki.push(t),qi(t)}function Ii(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,s=t.N,a=[t];Ci(t);for(var u=o;u.circle&&x(n-u.circle.x)<It&&x(r-u.circle.cy)<It;)o=u.P,a.unshift(u),Ci(u),u=o;a.unshift(u),Bi(u);for(var c=s;c.circle&&x(n-c.circle.x)<It&&x(r-c.circle.cy)<It;)s=c.N,a.push(c),Ci(c),c=s;a.push(c),Bi(c);var l,f=a.length;for(l=1;l<f;++l)c=a[l],u=a[l-1],zi(c.edge,u.site,c.site,i);u=a[0],(c=a[f-1]).edge=Vi(u.site,c.site,null,i),Li(u),Li(c)}function Ni(t){for(var e,n,r,i,o=t.x,s=t.y,a=xi._;a;)if((r=Ai(a,s)-o)>It)a=a.L;else{if(!((i=o-Ri(a,s))>It)){r>-It?(e=a.P,n=a):i>-It?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}var u=Oi(t);if(xi.insert(e,u),e||n){if(e===n)return Bi(e),n=Oi(e.site),xi.insert(u,n),u.edge=n.edge=Vi(e.site,u.site),Li(e),void Li(n);if(n){Bi(e),Bi(n);var c=e.site,l=c.x,f=c.y,h=t.x-l,p=t.y-f,d=n.site,g=d.x-l,v=d.y-f,m=2*(h*v-p*g),y=h*h+p*p,b=g*g+v*v,_={x:(v*y-p*b)/m+l,y:(h*b-g*y)/m+f};zi(n.edge,c,d,_),u.edge=Vi(c,t,null,_),n.edge=Vi(t,d,null,_),Li(e),Li(n)}else u.edge=Vi(e.site,u.site)}}function Ai(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site).x,u=n.y,c=u-e;if(!c)return a;var l=a-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+a)/2}function Ri(t,e){var n=t.N;if(n)return Ai(n,e);var r=t.site;return r.y===e?r.x:1/0}function Pi(t){this.site=t,this.edges=[]}function Di(t,e){return e.angle-t.angle}function ji(){qi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Li(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i.x,a=i.y,u=r.x-s,c=r.y-a,l=o.x-s,f=2*(u*(v=o.y-a)-c*l);if(!(f>=-Nt)){var h=u*u+c*c,p=l*l+v*v,d=(v*h-c*p)/f,g=(u*p-l*h)/f,v=g+a,m=Mi.pop()||new ji;m.arc=t,m.site=i,m.x=d+s,m.y=v+Math.sqrt(d*d+g*g),m.cy=v,t.circle=m;for(var y=null,b=Si._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}Si.insert(y,m),y||(Ei=m)}}}}function Bi(t){var e=t.circle;e&&(e.P||(Ei=e.N),Si.remove(e),Mi.push(e),qi(e),t.circle=null)}function Ui(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,s=e[0][0],a=e[1][0],u=e[0][1],c=e[1][1],l=t.l,f=t.r,h=l.x,p=l.y,d=f.x,g=f.y,v=(h+d)/2,m=(p+g)/2;if(g===p){if(v<s||v>=a)return;if(h>d){if(o){if(o.y>=c)return}else o={x:v,y:u};n={x:v,y:c}}else{if(o){if(o.y<u)return}else o={x:v,y:c};n={x:v,y:u}}}else if(i=m-(r=(h-d)/(g-p))*v,r<-1||r>1)if(h>d){if(o){if(o.y>=c)return}else o={x:(u-i)/r,y:u};n={x:(c-i)/r,y:c}}else{if(o){if(o.y<u)return}else o={x:(c-i)/r,y:c};n={x:(u-i)/r,y:u}}else if(p<g){if(o){if(o.x>=a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}else{if(o){if(o.x<s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}return t.a=o,t.b=n,!0}function Fi(t,e){this.l=t,this.r=e,this.a=this.b=null}function Vi(t,e,n,r){var i=new Fi(t,e);return _i.push(i),n&&zi(i,t,e,n),r&&zi(i,e,t,r),wi[t.i].edges.push(new Wi(i,t,e)),wi[e.i].edges.push(new Wi(i,e,t)),i}function Hi(t,e,n){var r=new Fi(t,null);return r.a=e,r.b=n,_i.push(r),r}function zi(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Wi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Yi(){this._=null}function qi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Gi(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function $i(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ki(t){for(;t.L;)t=t.L;return t}function Xi(t,e){var n,r,i,o=t.sort(Ji).pop();for(_i=[],wi=new Array(t.length),xi=new Yi,Si=new Yi;;)if(i=Ei,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(wi[o.i]=new Pi(o),Ni(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Ii(i.arc)}e&&(function(t){for(var e,n=_i,r=hr(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Ui(e=n[i],t)||!r(e)||x(e.a.x-e.b.x)<It&&x(e.a.y-e.b.y)<It)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,o,s,a,u,c,l,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],g=wi,v=g.length;v--;)if((o=g[v])&&o.prepare())for(u=(a=o.edges).length,s=0;s<u;)r=(l=a[s].end()).x,i=l.y,e=(c=a[++s%u].start()).x,n=c.y,(x(r-e)>It||x(i-n)>It)&&(a.splice(s,0,new Wi(Hi(o.site,l,x(r-f)<It&&d-i>It?{x:f,y:x(e-f)<It?n:d}:x(i-d)<It&&h-r>It?{x:x(n-d)<It?e:h,y:d}:x(r-h)<It&&i-p>It?{x:h,y:x(e-h)<It?n:p}:x(i-p)<It&&r-f>It?{x:x(n-p)<It?e:f,y:p}:null),o.site,null)),++u)}(e));var s={cells:wi,edges:_i};return xi=Si=_i=wi=null,s}function Ji(t,e){return e.y-t.y||e.x-t.x}Pi.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Di),e.length},Wi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Yi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ki(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Gi(this,n),n=(t=n).U),n.C=!1,r.C=!0,$i(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&($i(this,n),n=(t=n).U),n.C=!1,r.C=!0,Gi(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Ki(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Gi(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,$i(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Gi(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,$i(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Gi(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,$i(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=hi,n=pi,r=e,i=n,o=Zi;if(t)return s(t);function s(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],s=o[1][1];return Xi(a(t),o).cells.forEach((function(o,a){var u=o.edges,c=o.site;(e[a]=u.length?u.map((function(t){var e=t.start();return[e.x,e.y]})):c.x>=n&&c.x<=i&&c.y>=r&&c.y<=s?[[n,s],[i,s],[i,r],[n,r]]:[]).point=t[a]})),e}function a(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/It)*It,y:Math.round(i(t,e)/It)*It,i:e}}))}return s.links=function(t){return Xi(a(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},s.triangles=function(t){var e=[];return Xi(a(t)).cells.forEach((function(n,r){for(var i,o,s,a,u=n.site,c=n.edges.sort(Di),l=-1,f=c.length,h=c[f-1].edge,p=h.l===u?h.r:h.l;++l<f;)h,i=p,p=(h=c[l].edge).l===u?h.r:h.l,r<i.i&&r<p.i&&(s=i,a=p,((o=u).x-a.x)*(s.y-o.y)-(o.x-s.x)*(a.y-o.y)<0)&&e.push([t[r],t[i.i],t[p.i]])})),e},s.x=function(t){return arguments.length?(r=Ee(e=t),s):e},s.y=function(t){return arguments.length?(i=Ee(n=t),s):n},s.clipExtent=function(t){return arguments.length?(o=null==t?Zi:t,s):o===Zi?null:o},s.size=function(t){return arguments.length?s.clipExtent(t&&[[0,0],t]):o===Zi?null:o&&o[1]},s};var Zi=[[-1e6,-1e6],[1e6,1e6]];function Qi(t){return t.x}function to(t){return t.y}function eo(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var s=.5*(n+i),a=.5*(r+o),u=e.nodes;u[0]&&eo(t,u[0],n,r,s,a),u[1]&&eo(t,u[1],s,r,i,a),u[2]&&eo(t,u[2],n,a,s,o),u[3]&&eo(t,u[3],s,a,i,o)}}function no(t,e,n,r,i,o,s){var a,u=1/0;return function t(c,l,f,h,p){if(!(l>o||f>s||h<r||p<i)){if(d=c.point){var d,g=e-c.x,v=n-c.y,m=g*g+v*v;if(m<u){var y=Math.sqrt(u=m);r=e-y,i=n-y,o=e+y,s=n+y,a=d}}for(var b=c.nodes,_=.5*(l+h),w=.5*(f+p),x=(n>=w)<<1|e>=_,E=x+4;x<E;++x)if(c=b[3&x])switch(3&x){case 0:t(c,l,f,_,w);break;case 1:t(c,_,f,h,w);break;case 2:t(c,l,w,_,p);break;case 3:t(c,_,w,h,p)}}}(t,r,i,o,s),a}function ro(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,s=e.r-n,a=e.g-r,u=e.b-i;return function(t){return"#"+ve(Math.round(n+s*t))+ve(Math.round(r+a*t))+ve(Math.round(i+u*t))}}function io(t,e){var n,r={},i={};for(n in t)n in e?r[n]=co(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function oo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function so(t,e){var n,r,i,o=ao.lastIndex=uo.lastIndex=0,s=-1,a=[],u=[];for(t+="",e+="";(n=ao.exec(t))&&(r=uo.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,u.push({i:s,x:oo(n,r)})),o=uo.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)a[(n=u[r]).i]=n.x(t);return a.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var o,s=hi,a=pi;if(o=arguments.length)return s=Qi,a=to,3===o&&(i=n,r=e,n=e=0),u(t);function u(t){var u,c,l,f,h,p,d,g,v,m=Ee(s),y=Ee(a);if(null!=e)p=e,d=n,g=r,v=i;else if(g=v=-(p=d=1/0),c=[],l=[],h=t.length,o)for(f=0;f<h;++f)(u=t[f]).x<p&&(p=u.x),u.y<d&&(d=u.y),u.x>g&&(g=u.x),u.y>v&&(v=u.y),c.push(u.x),l.push(u.y);else for(f=0;f<h;++f){var b=+m(u=t[f],f),_=+y(u,f);b<p&&(p=b),_<d&&(d=_),b>g&&(g=b),_>v&&(v=_),c.push(b),l.push(_)}var w=g-p,E=v-d;function S(t,e,n,r,i,o,s,a){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(x(u-n)+x(c-r)<.01)k(t,e,n,r,i,o,s,a);else{var l=t.point;t.x=t.y=t.point=null,k(t,l,u,c,i,o,s,a),k(t,e,n,r,i,o,s,a)}else t.x=n,t.y=r,t.point=e}else k(t,e,n,r,i,o,s,a)}function k(t,e,n,r,i,o,s,a){var u=.5*(i+s),c=.5*(o+a),l=n>=u,f=r>=c,h=f<<1|l;t.leaf=!1,l?i=u:s=u,f?o=c:a=c,S(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,o,s,a)}w>E?v=d+w:g=p+E;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){S(M,t,+m(t,++f),+y(t,f),p,d,g,v)},visit:function(t){eo(t,M,p,d,g,v)},find:function(t){return no(M,t[0],t[1],p,d,g,v)}};if(f=-1,null==e){for(;++f<h;)S(M,t[f],c[f],l[f],p,d,g,v);--f}else t.forEach(M.add);return c=l=t=u=null,M}return u.x=function(t){return arguments.length?(s=t,u):s},u.y=function(t){return arguments.length?(a=t,u):a},u.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),u):null==e?null:[[e,n],[r,i]]},u.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),u):null==e?null:[r-e,i-n]},u},o.interpolateRgb=ro,o.interpolateObject=io,o.interpolateNumber=oo,o.interpolateString=so;var ao=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uo=new RegExp(ao.source,"g");function co(t,e){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](t,e)););return n}function lo(t,e){var n,r=[],i=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(n=0;n<a;++n)r.push(co(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<s;++n)i[n]=e[n];return function(t){for(n=0;n<a;++n)i[n]=r[n](t);return i}}o.interpolate=co,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?xe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?ro:so:e instanceof $t?ro:Array.isArray(e)?lo:"object"===n&&isNaN(e)?io:oo)(t,e)}],o.interpolateArray=lo;var fo=function(){return j},ho=o.map({linear:fo,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return yo},cubic:function(){return bo},sin:function(){return wo},exp:function(){return xo},circle:function(){return Eo},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Rt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Rt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return So}}),po=o.map({in:j,out:vo,"in-out":mo,"out-in":function(t){return mo(vo(t))}});function go(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function vo(t){return function(e){return 1-t(1-e)}}function mo(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function yo(t){return t*t}function bo(t){return t*t*t}function _o(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function wo(t){return 1-Math.cos(t*Dt)}function xo(t){return Math.pow(2,10*(t-1))}function Eo(t){return 1-Math.sqrt(1-t*t)}function So(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function ko(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Mo(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],s=Oo(i),a=To(i,o),u=Oo(((e=o)[0]+=(r=-a)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,s*=-1,a*=-1),this.rotate=(s?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Lt,this.translate=[t.e,t.f],this.scale=[s,u],this.skew=u?Math.atan2(a,u)*Lt:0}function To(t,e){return t[0]*e[0]+t[1]*e[1]}function Oo(t){var e=Math.sqrt(To(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ho.get(n)||fo,go((r=po.get(r)||j)(n.apply(null,s.call(arguments,1))))},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,s=e.h-n,a=e.c-r,u=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.c:r);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return te(n+s*t,r+a*t,i+u*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,s=e.h-n,a=e.s-r,u=e.l-i;isNaN(a)&&(a=0,r=isNaN(r)?e.s:r);isNaN(s)?(s=0,n=isNaN(n)?e.h:n):s>180?s-=360:s<-180&&(s+=360);return function(t){return Jt(n+s*t,r+a*t,i+u*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,s=e.l-n,a=e.a-r,u=e.b-i;return function(t){return ae(n+s*t,r+a*t,i+u*t)+""}},o.interpolateRound=ko,o.transform=function(t){var e=u.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Mo(n?n.matrix:Co)})(t)},Mo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Co={a:1,b:0,c:0,d:1,e:0,f:0};function Io(t){return t.length?t.pop()+",":""}function No(t,e){var n=[],r=[];return t=o.transform(t),e=o.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:oo(t[0],e[0])},{i:i-2,x:oo(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Io(n)+"rotate(",null,")")-2,x:oo(t,e)})):e&&n.push(Io(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(Io(n)+"skewX(",null,")")-2,x:oo(t,e)}):e&&n.push(Io(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Io(n)+"scale(",null,",",null,")");r.push({i:i-4,x:oo(t[0],e[0])},{i:i-2,x:oo(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Io(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,o=r.length;++i<o;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Ao(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Ro(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Po(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=Do(t),r=Do(e),i=n.pop(),o=r.pop(),s=null;for(;i===o;)s=i,i=n.pop(),o=r.pop();return s}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Do(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function jo(t){t.fixed|=2}function Lo(t){t.fixed&=-7}function Bo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Uo(t){t.fixed&=-5}o.interpolateTransform=No,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Po(t[n]));return e}},o.layout.chord=function(){var t,e,n,r,i,s,a,u={},c=0;function l(){var u,l,h,p,d,g={},v=[],m=o.range(r),y=[];for(t=[],e=[],u=0,p=-1;++p<r;){for(l=0,d=-1;++d<r;)l+=n[p][d];v.push(l),y.push(o.range(r)),u+=l}for(i&&m.sort((function(t,e){return i(v[t],v[e])})),s&&y.forEach((function(t,e){t.sort((function(t,r){return s(n[e][t],n[e][r])}))})),u=(Rt-c*r)/u,l=0,p=-1;++p<r;){for(h=l,d=-1;++d<r;){var b=m[p],_=y[b][d],w=n[b][_],x=l,E=l+=w*u;g[b+"-"+_]={index:b,subindex:_,startAngle:x,endAngle:E,value:w}}e[b]={index:b,startAngle:h,endAngle:l,value:v[b]},l+=c}for(p=-1;++p<r;)for(d=p-1;++d<r;){var S=g[p+"-"+d],k=g[d+"-"+p];(S.value||k.value)&&t.push(S.value<k.value?{source:k,target:S}:{source:S,target:k})}a&&f()}function f(){t.sort((function(t,e){return a((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return u.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,u):n},u.padding=function(n){return arguments.length?(c=n,t=e=null,u):c},u.sortGroups=function(n){return arguments.length?(i=n,t=e=null,u):i},u.sortSubgroups=function(e){return arguments.length?(s=e,t=null,u):s},u.sortChords=function(e){return arguments.length?(a=e,t&&f(),u):a},u.chords=function(){return t||l(),t},u.groups=function(){return e||l(),e},u},o.layout.force=function(){var t,e,n,r,i,s,a={},u=o.dispatch("start","tick","end"),c=[1,1],l=.9,f=Fo,h=Vo,p=-30,d=Ho,g=.1,v=.64,m=[],y=[];function b(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=i-n,u=o*o+s*s;if(a*a/v<u){if(u<d){var c=e.charge/u;t.px-=o*c,t.py-=s*c}return!0}if(e.point&&u&&u<d){c=e.pointCharge/u;t.px-=o*c,t.py-=s*c}}return!e.charge}}function _(t){t.px=o.event.x,t.py=o.event.y,a.resume()}return a.tick=function(){if((n*=.99)<.005)return t=null,u.end({type:"end",alpha:n=0}),!0;var e,a,f,h,d,v,_,w,x,E=m.length,S=y.length;for(a=0;a<S;++a)h=(f=y[a]).source,(v=(w=(d=f.target).x-h.x)*w+(x=d.y-h.y)*x)&&(w*=v=n*i[a]*((v=Math.sqrt(v))-r[a])/v,x*=v,d.x-=w*(_=h.weight+d.weight?h.weight/(h.weight+d.weight):.5),d.y-=x*_,h.x+=w*(_=1-_),h.y+=x*_);if((_=n*g)&&(w=c[0]/2,x=c[1]/2,a=-1,_))for(;++a<E;)(f=m[a]).x+=(w-f.x)*_,f.y+=(x-f.y)*_;if(p)for(!function t(e,n,r){var i=0,o=0;if(e.charge=0,!e.leaf)for(var s,a=e.nodes,u=a.length,c=-1;++c<u;)null!=(s=a[c])&&(t(s,n,r),e.charge+=s.charge,i+=s.charge*s.cx,o+=s.charge*s.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=n*r[e.point.index];e.charge+=e.pointCharge=l,i+=l*e.point.x,o+=l*e.point.y}e.cx=i/e.charge,e.cy=o/e.charge}(e=o.geom.quadtree(m),n,s),a=-1;++a<E;)(f=m[a]).fixed||e.visit(b(f));for(a=-1;++a<E;)(f=m[a]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*l,f.y-=(f.py-(f.py=f.y))*l);u.tick({type:"tick",alpha:n})},a.nodes=function(t){return arguments.length?(m=t,a):m},a.links=function(t){return arguments.length?(y=t,a):y},a.size=function(t){return arguments.length?(c=t,a):c},a.linkDistance=function(t){return arguments.length?(f="function"===typeof t?t:+t,a):f},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(h="function"===typeof t?t:+t,a):h},a.friction=function(t){return arguments.length?(l=+t,a):l},a.charge=function(t){return arguments.length?(p="function"===typeof t?t:+t,a):p},a.chargeDistance=function(t){return arguments.length?(d=t*t,a):Math.sqrt(d)},a.gravity=function(t){return arguments.length?(g=+t,a):g},a.theta=function(t){return arguments.length?(v=t*t,a):Math.sqrt(v)},a.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,u.end({type:"end",alpha:n=0})):e>0&&(u.start({type:"start",alpha:n=e}),t=Ne(a.tick)),a):n},a.start=function(){var t,e,n,o=m.length,u=y.length,l=c[0],d=c[1];for(t=0;t<o;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<u;++t)"number"==typeof(n=y[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<o;++t)n=m[t],isNaN(n.x)&&(n.x=g("x",l)),isNaN(n.y)&&(n.y=g("y",d)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"===typeof f)for(t=0;t<u;++t)r[t]=+f.call(this,y[t],t);else for(t=0;t<u;++t)r[t]=f;if(i=[],"function"===typeof h)for(t=0;t<u;++t)i[t]=+h.call(this,y[t],t);else for(t=0;t<u;++t)i[t]=h;if(s=[],"function"===typeof p)for(t=0;t<o;++t)s[t]=+p.call(this,m[t],t);else for(t=0;t<o;++t)s[t]=p;function g(n,r){if(!e){for(e=new Array(o),c=0;c<o;++c)e[c]=[];for(c=0;c<u;++c){var i=y[c];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var s,a=e[t],c=-1,l=a.length;++c<l;)if(!isNaN(s=a[c][n]))return s;return Math.random()*r}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(e||(e=o.behavior.drag().origin(j).on("dragstart.force",jo).on("drag.force",_).on("dragend.force",Lo)),!arguments.length)return e;this.on("mouseover.force",Bo).on("mouseout.force",Uo).call(e)},o.rebind(a,u,"on")};var Fo=20,Vo=1,Ho=1/0;function zo(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Ko,t}function Wo(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Yo(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,s=-1;++s<i;)n.push(o[s]);for(;null!=(t=r.pop());)e(t)}function qo(t){return t.children}function Go(t){return t.value}function $o(t,e){return e.value-t.value}function Ko(t){return o.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}o.layout.hierarchy=function(){var t=$o,e=qo,n=Go;function r(i){var o,s=[i],a=[];for(i.depth=0;null!=(o=s.pop());)if(a.push(o),(c=e.call(r,o,o.depth))&&(u=c.length)){for(var u,c,l;--u>=0;)s.push(l=c[u]),l.parent=o,l.depth=o.depth+1;n&&(o.value=0),o.children=c}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Yo(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),a}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Wo(t,(function(t){t.children&&(t.value=0)})),Yo(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,r){var i=t.call(this,n,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(s=o.length)){var s,a,u,c=-1;for(r=e.value?r/e.value:0;++c<s;)t(a=o[c],n,u=a.value*r,i),n+=u}}(i[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return n.size=function(t){return arguments.length?(e=t,n):e},zo(n,t)},o.layout.pie=function(){var t=Number,e=Xo,n=0,r=Rt,i=0;function s(a){var u,c=a.length,l=a.map((function(e,n){return+t.call(s,e,n)})),f=+("function"===typeof n?n.apply(this,arguments):n),h=("function"===typeof r?r.apply(this,arguments):r)-f,p=Math.min(Math.abs(h)/c,+("function"===typeof i?i.apply(this,arguments):i)),d=p*(h<0?-1:1),g=o.sum(l),v=g?(h-c*d)/g:0,m=o.range(c),y=[];return null!=e&&m.sort(e===Xo?function(t,e){return l[e]-l[t]}:function(t,n){return e(a[t],a[n])}),m.forEach((function(t){y[t]={data:a[t],value:u=l[t],startAngle:f,endAngle:f+=u*v+d,padAngle:p}})),y}return s.value=function(e){return arguments.length?(t=e,s):t},s.sort=function(t){return arguments.length?(e=t,s):e},s.startAngle=function(t){return arguments.length?(n=t,s):n},s.endAngle=function(t){return arguments.length?(r=t,s):r},s.padAngle=function(t){return arguments.length?(i=t,s):i},s};var Xo={};function Jo(t){return t.x}function Zo(t){return t.y}function Qo(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=j,e=ns,n=rs,r=Qo,i=Jo,s=Zo;function a(u,c){if(!(p=u.length))return u;var l=u.map((function(e,n){return t.call(a,e,n)})),f=l.map((function(t){return t.map((function(t,e){return[i.call(a,t,e),s.call(a,t,e)]}))})),h=e.call(a,f,c);l=o.permute(l,h),f=o.permute(f,h);var p,d,g,v,m=n.call(a,f,c),y=l[0].length;for(g=0;g<y;++g)for(r.call(a,l[0][g],v=m[g],f[0][g][1]),d=1;d<p;++d)r.call(a,l[d][g],v+=f[d-1][g][1],f[d][g][1]);return u}return a.values=function(e){return arguments.length?(t=e,a):t},a.order=function(t){return arguments.length?(e="function"===typeof t?t:ts.get(t)||ns,a):e},a.offset=function(t){return arguments.length?(n="function"===typeof t?t:es.get(t)||rs,a):n},a.x=function(t){return arguments.length?(i=t,a):i},a.y=function(t){return arguments.length?(s=t,a):s},a.out=function(t){return arguments.length?(r=t,a):r},a};var ts=o.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(is),s=t.map(os),a=o.range(r).sort((function(t,e){return i[t]-i[e]})),u=0,c=0,l=[],f=[];for(e=0;e<r;++e)n=a[e],u<c?(u+=s[n],l.push(n)):(c+=s[n],f.push(n));return f.reverse().concat(l)},reverse:function(t){return o.range(t.length).reverse()},default:ns}),es=o.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,s=[],a=0,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>a&&(a=r),s.push(r)}for(n=0;n<o;++n)u[n]=(a-s[n])/2;return u},wiggle:function(t){var e,n,r,i,o,s,a,u,c,l=t.length,f=t[0],h=f.length,p=[];for(p[0]=u=c=0,n=1;n<h;++n){for(e=0,i=0;e<l;++e)i+=t[e][n][1];for(e=0,o=0,a=f[n][0]-f[n-1][0];e<l;++e){for(r=0,s=(t[e][n][1]-t[e][n-1][1])/(2*a);r<e;++r)s+=(t[r][n][1]-t[r][n-1][1])/a;o+=s*t[e][n][1]}p[n]=u-=i?o/i*a:0,u<c&&(c=u)}for(n=0;n<h;++n)p[n]-=c;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,s=1/i,a=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=s}for(n=0;n<o;++n)a[n]=0;return a},zero:rs});function ns(t){return o.range(t.length)}function rs(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function is(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function os(t){return t.reduce(ss,0)}function ss(t,e){return t+e[1]}function as(t,e){return us(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function us(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function cs(t){return[o.min(t),o.max(t)]}function ls(t,e){return t.value-e.value}function fs(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function hs(t,e){t._pack_next=e,e._pack_prev=t}function ps(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function ds(t){if((e=t.children)&&(u=e.length)){var e,n,r,i,o,s,a,u,c=1/0,l=-1/0,f=1/0,h=-1/0;if(e.forEach(gs),(n=e[0]).x=-n.r,n.y=0,b(n),u>1&&((r=e[1]).x=r.r,r.y=0,b(r),u>2))for(ms(n,r,i=e[2]),b(i),fs(n,i),n._pack_prev=i,fs(i,r),r=n._pack_next,o=3;o<u;o++){ms(n,r,i=e[o]);var p=0,d=1,g=1;for(s=r._pack_next;s!==r;s=s._pack_next,d++)if(ps(s,i)){p=1;break}if(1==p)for(a=n._pack_prev;a!==s._pack_prev&&!ps(a,i);a=a._pack_prev,g++);p?(d<g||d==g&&r.r<n.r?hs(n,r=s):hs(n=a,r),o--):(fs(n,i),r=i,b(i))}var v=(c+l)/2,m=(f+h)/2,y=0;for(o=0;o<u;o++)(i=e[o]).x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(vs)}function b(t){c=Math.min(t.x-t.r,c),l=Math.max(t.x+t.r,l),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}}function gs(t){t._pack_next=t._pack_prev=t}function vs(t){delete t._pack_next,delete t._pack_prev}function ms(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var s=e.r+n.r,a=i*i+o*o,u=.5+((r*=r)-(s*=s))/(2*a),c=Math.sqrt(Math.max(0,2*s*(r+a)-(r-=a)*r-s*s))/(2*a);n.x=t.x+u*i+c*o,n.y=t.y+u*o-c*i}else n.x=t.x+r,n.y=t.y}function ys(t,e){return t.parent==e.parent?1:2}function bs(t){var e=t.children;return e.length?e[0]:t.t}function _s(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ws(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function xs(t,e,n){return t.a.parent===e.parent?t.a:n}function Es(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ss(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function ks(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Ms(t){return t.rangeExtent?t.rangeExtent():ks(t.range())}function Ts(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Os(t,e){var n,r=0,i=t.length-1,o=t[r],s=t[i];return s<o&&(n=r,r=i,i=n,n=o,o=s,s=n),t[r]=e.floor(o),t[i]=e.ceil(s),t}function Cs(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Is}o.layout.histogram=function(){var t=!0,e=Number,n=cs,r=as;function i(i,s){for(var a,u,c=[],l=i.map(e,this),f=n.call(this,l,s),h=r.call(this,f,l,s),p=(s=-1,l.length),d=h.length-1,g=t?1:1/p;++s<d;)(a=c[s]=[]).dx=h[s+1]-(a.x=h[s]),a.y=0;if(d>0)for(s=-1;++s<p;)(u=l[s])>=f[0]&&u<=f[1]&&((a=c[o.bisect(h,u,1,d)-1]).y+=g,a.push(i[s]));return c}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=Ee(t),i):n},i.bins=function(t){return arguments.length?(r="number"===typeof t?function(e){return us(e,t)}:Ee(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(ls),n=0,r=[1,1];function i(i,o){var s=e.call(this,i,o),a=s[0],u=r[0],c=r[1],l=null==t?Math.sqrt:"function"===typeof t?t:function(){return t};if(a.x=a.y=0,Yo(a,(function(t){t.r=+l(t.value)})),Yo(a,ds),n){var f=n*(t?1:Math.max(2*a.r/u,2*a.r/c))/2;Yo(a,(function(t){t.r+=f})),Yo(a,ds),Yo(a,(function(t){t.r-=f}))}return function t(e,n,r,i){var o=e.children;if(e.x=n+=i*e.x,e.y=r+=i*e.y,e.r*=i,o)for(var s=-1,a=o.length;++s<a;)t(o[s],n,r,i)}(a,u/2,c/2,t?1:1/Math.max(2*a.r/u,2*a.r/c)),s}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"===typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},zo(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ys,n=[1,1],r=null;function i(i,o){var c=t.call(this,i,o),l=c[0],f=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,o=e.children,s=0,a=o.length;s<a;++s)r.push((o[s]=i={_:o[s],parent:e,children:(i=o[s].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=i);return n.children[0]}(l);if(Yo(f,s),f.parent.m=-f.z,Wo(f,a),r)Wo(l,u);else{var h=l,p=l,d=l;Wo(l,(function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>d.depth&&(d=t)}));var g=e(h,p)/2-h.x,v=n[0]/(p.x+e(p,h)/2+g),m=n[1]/(d.depth||1);Wo(l,(function(t){t.x=(t.x+g)*v,t.y=t.depth*m}))}return c}function s(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,i=t.children,o=i.length;for(;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,s=t,a=n,u=o.parent.children[0],c=o.m,l=s.m,f=a.m,h=u.m;a=_s(a),o=bs(o),a&&o;)u=bs(u),(s=_s(s)).a=t,(i=a.z+f-o.z-c+e(a._,o._))>0&&(ws(xs(a,t,r),t,i),c+=i,l+=i),f+=a.m,c+=o.m,h+=u.m,l+=s.m;a&&!_s(s)&&(s.t=a,s.m+=f-l),o&&!bs(u)&&(u.t=o,u.m+=c-h,r=t)}return r}(t,i,t.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?u:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:u,i):r?n:null},zo(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ys,n=[1,1],r=!1;function i(i,s){var a,u=t.call(this,i,s),c=u[0],l=0;Yo(c,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+o.max(t,(function(t){return t.y}))}(n)):(t.x=a?l+=e(t,a):0,t.y=0,a=t)}));var f=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(c),h=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(c),p=f.x-e(f,h)/2,d=h.x+e(h,f)/2;return Yo(c,r?function(t){t.x=(t.x-c.x)*n[0],t.y=(c.y-t.y)*n[1]}:function(t){t.x=(t.x-p)/(d-p)*n[0],t.y=(1-(c.y?t.y/c.y:1))*n[1]}),u}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},zo(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,s=Es,a=!1,u="squarify",c=.5*(1+Math.sqrt(5));function l(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t){var e=t.children;if(e&&e.length){var n,r,i,o=s(t),a=[],c=e.slice(),h=1/0,g="slice"===u?o.dx:"dice"===u?o.dy:"slice-dice"===u?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(l(c,o.dx*o.dy/t.value),a.area=0;(i=c.length)>0;)a.push(n=c[i-1]),a.area+=n.area,"squarify"!==u||(r=p(a,g))<=h?(c.pop(),h=r):(a.area-=a.pop().area,d(a,g,o,!1),g=Math.min(o.dx,o.dy),a.length=a.area=0,h=1/0);a.length&&(d(a,g,o,!0),a.length=a.area=0),e.forEach(f)}}function h(t){var e=t.children;if(e&&e.length){var n,r=s(t),i=e.slice(),o=[];for(l(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(d(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(h)}}function p(t,e){for(var n,r=t.area,i=0,o=1/0,s=-1,a=t.length;++s<a;)(n=t[s].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*c/r,r/(e*o*c)):1/0}function d(t,e,r,i){var o,s=-1,a=t.length,u=r.x,c=r.y,l=e?n(t.area/e):0;if(e==r.dx){for((i||l>r.dy)&&(l=r.dy);++s<a;)(o=t[s]).x=u,o.y=c,o.dy=l,u+=o.dx=Math.min(r.x+r.dx-u,l?n(o.area/l):0);o.z=!0,o.dx+=r.x+r.dx-u,r.y+=l,r.dy-=l}else{for((i||l>r.dx)&&(l=r.dx);++s<a;)(o=t[s]).x=u,o.y=c,o.dx=l,c+=o.dy=Math.min(r.y+r.dy-c,l?n(o.area/l):0);o.z=!1,o.dy+=r.y+r.dy-c,r.x+=l,r.dx-=l}}function g(n){var i=t||e(n),o=i[0];return o.x=o.y=0,o.value?(o.dx=r[0],o.dy=r[1]):o.dx=o.dy=0,t&&e.revalue(o),l([o],o.dx*o.dy/o.value),(t?h:f)(o),a&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){var n=t.call(g,e,e.depth);return null==n?Es(e):Ss(e,"number"===typeof n?[n,n,n,n]:n)}function n(e){return Ss(e,t)}var r;return s=null==(i=t)?Es:"function"===(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(a=e,t=null,g):a},g.ratio=function(t){return arguments.length?(c=t,g):c},g.mode=function(t){return arguments.length?(u=t+"",g):u},zo(g,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var Is={floor:j,ceil:j};function Ns(t,e,n,r){var i=[],s=[],a=0,u=Math.min(t.length,e.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=u;)i.push(n(t[a-1],t[a])),s.push(r(e[a-1],e[a]));return function(e){var n=o.bisect(t,e,1,u)-1;return s[n](i[n](e))}}function As(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Rs(t,e){return Os(t,Cs(Ps(t,e)[2])),Os(t,Cs(Ps(t,e)[2])),t}function Ps(t,e){null==e&&(e=10);var n=ks(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Ds(t,e){return o.range.apply(o,Ps(t,e))}function js(t,e,n){var r=Ps(t,e);if(n){var i=Be.exec(n);if(i.shift(),"s"===i[8]){var s=o.formatPrefix(Math.max(x(r[0]),x(r[1])));return i[7]||(i[7]="."+Bs(s.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(t){return n(s.scale(t))+s.symbol}}i[7]||(i[7]="."+function(t,e){var n=Bs(e[2]);return t in Ls?Math.abs(n-Bs(Math.max(x(e[0]),x(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+Bs(r[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,r,i){var o,s;function a(){var t=Math.min(e.length,n.length)>2?Ns:Ts,a=i?Ro:Ao;return o=t(e,n,a,r),s=t(n,e,a,co),u}function u(t){return o(t)}return u.invert=function(t){return s(t)},u.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},u.range=function(t){return arguments.length?(n=t,a()):n},u.rangeRound=function(t){return u.range(t).interpolate(ko)},u.clamp=function(t){return arguments.length?(i=t,a()):i},u.interpolate=function(t){return arguments.length?(r=t,a()):r},u.ticks=function(t){return Ds(e,t)},u.tickFormat=function(t,n){return js(e,t,n)},u.nice=function(t){return Rs(e,t),a()},u.copy=function(){return t(e,n,r,i)},a()}([0,1],[0,1],co,!1)};var Ls={s:1,g:1,p:1,r:1,e:1};function Bs(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,r,i){function s(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function a(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function u(t){return e(s(t))}return u.invert=function(t){return a(e.invert(t))},u.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(s)),u):i},u.base=function(t){return arguments.length?(n=+t,e.domain(i.map(s)),u):n},u.nice=function(){var t=Os(i.map(s),r?Math:Fs);return e.domain(t),i=t.map(a),u},u.ticks=function(){var t=ks(i),e=[],o=t[0],u=t[1],c=Math.floor(s(o)),l=Math.ceil(s(u)),f=n%1?2:n;if(isFinite(l-c)){if(r){for(;c<l;c++)for(var h=1;h<f;h++)e.push(a(c)*h);e.push(a(c))}else for(e.push(a(c));c++<l;)for(h=f-1;h>0;h--)e.push(a(c)*h);for(c=0;e[c]<o;c++);for(l=e.length;e[l-1]>u;l--);e=e.slice(c,l)}return e},u.tickFormat=function(t,e){if(!arguments.length)return Us;arguments.length<2?e=Us:"function"!==typeof e&&(e=o.format(e));var r=Math.max(1,n*t/u.ticks().length);return function(t){var i=t/a(Math.round(s(t)));return i*n<n-.5&&(i*=n),i<=r?e(t):""}},u.copy=function(){return t(e.copy(),n,r,i)},As(u,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Us=o.format(".0e"),Fs={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Vs(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,r){var i=Vs(n),o=Vs(1/n);function s(t){return e(i(t))}return s.invert=function(t){return o(e.invert(t))},s.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),s):r},s.ticks=function(t){return Ds(r,t)},s.tickFormat=function(t,e){return js(r,t,e)},s.nice=function(t){return s.domain(Rs(r,t))},s.exponent=function(t){return arguments.length?(i=Vs(n=t),o=Vs(1/n),e.domain(r.map(i)),s):n},s.copy=function(){return t(e.copy(),n,r)},As(s,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var r,i,s;function a(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function u(t,n){return o.range(e.length).map((function(e){return t+n*e}))}return a.domain=function(t){if(!arguments.length)return e;e=[],r=new k;for(var i,o=-1,s=t.length;++o<s;)r.has(i=t[o])||r.set(i,e.push(i));return a[n.t].apply(a,n.a)},a.range=function(t){return arguments.length?(i=t,s=0,n={t:"range",a:arguments},a):i},a.rangePoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],c=t[1],l=e.length<2?(o=(o+c)/2,0):(c-o)/(e.length-1+r);return i=u(o+l*r/2,l),s=0,n={t:"rangePoints",a:arguments},a},a.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],c=t[1],l=e.length<2?(o=c=Math.round((o+c)/2),0):(c-o)/(e.length-1+r)|0;return i=u(o+Math.round(l*r/2+(c-o-(e.length-1+r)*l)/2),l),s=0,n={t:"rangeRoundPoints",a:arguments},a},a.rangeBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var c=t[1]<t[0],l=t[c-0],f=t[1-c],h=(f-l)/(e.length-r+2*o);return i=u(l+h*o,h),c&&i.reverse(),s=h*(1-r),n={t:"rangeBands",a:arguments},a},a.rangeRoundBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var c=t[1]<t[0],l=t[c-0],f=t[1-c],h=Math.floor((f-l)/(e.length-r+2*o));return i=u(l+Math.round((f-l-(e.length-r)*h)/2),h),c&&i.reverse(),s=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},a},a.rangeBand=function(){return s},a.rangeExtent=function(){return ks(n.a[0])},a.copy=function(){return t(e,n)},a.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Hs)},o.scale.category20=function(){return o.scale.ordinal().range(zs)},o.scale.category20b=function(){return o.scale.ordinal().range(Ws)},o.scale.category20c=function(){return o.scale.ordinal().range(Ys)};var Hs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(de),zs=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(de),Ws=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(de),Ys=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(de);function qs(){return 0}o.scale.quantile=function(){return function t(e,n){var r;function i(){var t=0,i=n.length;for(r=[];++t<i;)r[t-1]=o.quantile(e,t/i);return s}function s(t){if(!isNaN(t=+t))return n[o.bisect(r,t)]}return s.domain=function(t){return arguments.length?(e=t.map(m).filter(y).sort(v),i()):e},s.range=function(t){return arguments.length?(n=t,i()):n},s.quantiles=function(){return r},s.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},s.copy=function(){return t(e,n)},i()}([],[])},o.scale.quantize=function(){return function t(e,n,r){var i,o;function s(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function a(){return i=r.length/(n-e),o=r.length-1,s}return s.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],a()):[e,n]},s.range=function(t){return arguments.length?(r=t,a()):r},s.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]},s.copy=function(){return t(e,n,r)},a()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[o.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return Ds(e,t)},n.tickFormat=function(t,n){return js(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},o.svg={},o.svg.arc=function(){var t=$s,e=Ks,n=qs,r=Gs,i=Xs,o=Js,s=Zs;function a(){var a=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),l=i.apply(this,arguments)-Dt,f=o.apply(this,arguments)-Dt,h=Math.abs(f-l),p=l>f?0:1;if(c<a&&(d=c,c=a,a=d),h>=Pt)return u(c,p)+(a?u(a,1-p):"")+"Z";var d,g,v,m,y,b,_,w,x,E,S,k,M=0,T=0,O=[];if((m=(+s.apply(this,arguments)||0)/2)&&(v=r===Gs?Math.sqrt(a*a+c*c):+r.apply(this,arguments),p||(T*=-1),c&&(T=Vt(v/c*Math.sin(m))),a&&(M=Vt(v/a*Math.sin(m)))),c){y=c*Math.cos(l+T),b=c*Math.sin(l+T),_=c*Math.cos(f-T),w=c*Math.sin(f-T);var C=Math.abs(f-l-2*T)<=At?0:1;if(T&&Qs(y,b,_,w)===p^C){var I=(l+f)/2;y=c*Math.cos(I),b=c*Math.sin(I),_=w=null}}else y=b=0;if(a){x=a*Math.cos(f-M),E=a*Math.sin(f-M),S=a*Math.cos(l+M),k=a*Math.sin(l+M);var N=Math.abs(l-f+2*M)<=At?0:1;if(M&&Qs(x,E,S,k)===1-p^N){var A=(l+f)/2;x=a*Math.cos(A),E=a*Math.sin(A),S=k=null}}else x=E=0;if(h>It&&(d=Math.min(Math.abs(c-a)/2,+n.apply(this,arguments)))>.001){g=a<c^p?0:1;var R=d,P=d;if(h<At){var D=null==S?[x,E]:null==_?[y,b]:yi([y,b],[S,k],[_,w],[x,E]),j=y-D[0],L=b-D[1],B=_-D[0],U=w-D[1],F=1/Math.sin(Math.acos((j*B+L*U)/(Math.sqrt(j*j+L*L)*Math.sqrt(B*B+U*U)))/2),V=Math.sqrt(D[0]*D[0]+D[1]*D[1]);P=Math.min(d,(a-V)/(F-1)),R=Math.min(d,(c-V)/(F+1))}if(null!=_){var H=ta(null==S?[x,E]:[S,k],[y,b],c,R,p),z=ta([_,w],[x,E],c,R,p);d===R?O.push("M",H[0],"A",R,",",R," 0 0,",g," ",H[1],"A",c,",",c," 0 ",1-p^Qs(H[1][0],H[1][1],z[1][0],z[1][1]),",",p," ",z[1],"A",R,",",R," 0 0,",g," ",z[0]):O.push("M",H[0],"A",R,",",R," 0 1,",g," ",z[0])}else O.push("M",y,",",b);if(null!=S){var W=ta([y,b],[S,k],a,-P,p),Y=ta([x,E],null==_?[y,b]:[_,w],a,-P,p);d===P?O.push("L",Y[0],"A",P,",",P," 0 0,",g," ",Y[1],"A",a,",",a," 0 ",p^Qs(Y[1][0],Y[1][1],W[1][0],W[1][1]),",",1-p," ",W[1],"A",P,",",P," 0 0,",g," ",W[0]):O.push("L",Y[0],"A",P,",",P," 0 0,",g," ",W[0])}else O.push("L",x,",",E)}else O.push("M",y,",",b),null!=_&&O.push("A",c,",",c," 0 ",C,",",p," ",_,",",w),O.push("L",x,",",E),null!=S&&O.push("A",a,",",a," 0 ",N,",",1-p," ",S,",",k);return O.push("Z"),O.join("")}function u(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return a.innerRadius=function(e){return arguments.length?(t=Ee(e),a):t},a.outerRadius=function(t){return arguments.length?(e=Ee(t),a):e},a.cornerRadius=function(t){return arguments.length?(n=Ee(t),a):n},a.padRadius=function(t){return arguments.length?(r=t==Gs?Gs:Ee(t),a):r},a.startAngle=function(t){return arguments.length?(i=Ee(t),a):i},a.endAngle=function(t){return arguments.length?(o=Ee(t),a):o},a.padAngle=function(t){return arguments.length?(s=Ee(t),a):s},a.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Dt;return[Math.cos(r)*n,Math.sin(r)*n]},a};var Gs="auto";function $s(t){return t.innerRadius}function Ks(t){return t.outerRadius}function Xs(t){return t.startAngle}function Js(t){return t.endAngle}function Zs(t){return t&&t.padAngle}function Qs(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function ta(t,e,n,r,i){var o=t[0]-e[0],s=t[1]-e[1],a=(i?r:-r)/Math.sqrt(o*o+s*s),u=a*s,c=-a*o,l=t[0]+u,f=t[1]+c,h=e[0]+u,p=e[1]+c,d=(l+h)/2,g=(f+p)/2,v=h-l,m=p-f,y=v*v+m*m,b=n-r,_=l*p-h*f,w=(m<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-_*_)),x=(_*m-v*w)/y,E=(-_*v-m*w)/y,S=(_*m+v*w)/y,k=(-_*v+m*w)/y,M=x-d,T=E-g,O=S-d,C=k-g;return M*M+T*T>O*O+C*C&&(x=S,E=k),[[x-u,E-c],[x*n/b,E*n/b]]}function ea(t){var e=hi,n=pi,r=nr,i=ra,o=i.key,s=.7;function a(o){var a,u=[],c=[],l=-1,f=o.length,h=Ee(e),p=Ee(n);function d(){u.push("M",i(t(c),s))}for(;++l<f;)r.call(this,a=o[l],l)?c.push([+h.call(this,a,l),+p.call(this,a,l)]):c.length&&(d(),c=[]);return c.length&&d(),u.length?u.join(""):null}return a.x=function(t){return arguments.length?(e=t,a):e},a.y=function(t){return arguments.length?(n=t,a):n},a.defined=function(t){return arguments.length?(r=t,a):r},a.interpolate=function(t){return arguments.length?(o="function"===typeof t?i=t:(i=na.get(t)||ra).key,a):o},a.tension=function(t){return arguments.length?(s=t,a):s},a}o.svg.line=function(){return ea(j)};var na=o.map({linear:ra,"linear-closed":ia,step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":oa,"step-after":sa,basis:ca,"basis-open":function(t){if(t.length<4)return ra(t);var e,n=[],r=-1,i=t.length,o=[0],s=[0];for(;++r<3;)e=t[r],o.push(e[0]),s.push(e[1]);n.push(la(pa,o)+","+la(pa,s)),--r;for(;++r<i;)e=t[r],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),da(n,o,s);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,o=i+4,s=[],a=[];for(;++r<4;)n=t[r%i],s.push(n[0]),a.push(n[1]);e=[la(pa,s),",",la(pa,a)],--r;for(;++r<o;)n=t[r%i],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),da(e,s,a);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],s=t[0][1],a=t[n][0]-o,u=t[n][1]-s,c=-1;++c<=n;)r=t[c],i=c/n,r[0]=e*r[0]+(1-e)*(o+i*a),r[1]=e*r[1]+(1-e)*(s+i*u);return ca(t)},cardinal:function(t,e){return t.length<3?ra(t):t[0]+aa(t,ua(t,e))},"cardinal-open":function(t,e){return t.length<4?ra(t):t[1]+aa(t.slice(1,-1),ua(t,e))},"cardinal-closed":function(t,e){return t.length<3?ia(t):t[0]+aa((t.push(t[0]),t),ua([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?ra(t):t[0]+aa(t,function(t){var e,n,r,i,o=[],s=function(t){var e=0,n=t.length-1,r=[],i=t[0],o=t[1],s=r[0]=ga(i,o);for(;++e<n;)r[e]=(s+(s=ga(i=o,o=t[e+1])))/2;return r[e]=s,r}(t),a=-1,u=t.length-1;for(;++a<u;)e=ga(t[a],t[a+1]),x(e)<It?s[a]=s[a+1]=0:(n=s[a]/e,r=s[a+1]/e,(i=n*n+r*r)>9&&(i=3*e/Math.sqrt(i),s[a]=i*n,s[a+1]=i*r));a=-1;for(;++a<=u;)i=(t[Math.min(u,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([i||0,s[a]*i||0]);return o}(t))}});function ra(t){return t.length>1?t.join("L"):t+"Z"}function ia(t){return t.join("L")+"Z"}function oa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function sa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function aa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ra(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],s=e[0],a=s,u=1;if(n&&(r+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){a=e[1],o=t[u],u++,r+="C"+(i[0]+s[0])+","+(i[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var c=2;c<e.length;c++,u++)o=t[u],a=e[c],r+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var l=t[u];r+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+l[0]+","+l[1]}return r}function ua(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],s=t[1],a=1,u=t.length;++a<u;)n=o,o=s,s=t[a],r.push([i*(s[0]-n[0]),i*(s[1]-n[1])]);return r}function ca(t){if(t.length<3)return ra(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],s=[i,i,i,(r=t[1])[0]],a=[o,o,o,r[1]],u=[i,",",o,"L",la(pa,s),",",la(pa,a)];for(t.push(t[n-1]);++e<=n;)r=t[e],s.shift(),s.push(r[0]),a.shift(),a.push(r[1]),da(u,s,a);return t.pop(),u.push("L",r),u.join("")}function la(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}na.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var fa=[0,2/3,1/3,0],ha=[0,1/3,2/3,0],pa=[0,1/6,2/3,1/6];function da(t,e,n){t.push("C",la(fa,e),",",la(fa,n),",",la(ha,e),",",la(ha,n),",",la(pa,e),",",la(pa,n))}function ga(t,e){return(e[1]-t[1])/(e[0]-t[0])}function va(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Dt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function ma(t){var e=hi,n=hi,r=0,i=pi,o=nr,s=ra,a=s.key,u=s,c="L",l=.7;function f(a){var f,h,p,d=[],g=[],v=[],m=-1,y=a.length,b=Ee(e),_=Ee(r),w=e===n?function(){return h}:Ee(n),x=r===i?function(){return p}:Ee(i);function E(){d.push("M",s(t(v),l),c,u(t(g.reverse()),l),"Z")}for(;++m<y;)o.call(this,f=a[m],m)?(g.push([h=+b.call(this,f,m),p=+_.call(this,f,m)]),v.push([+w.call(this,f,m),+x.call(this,f,m)])):g.length&&(E(),g=[],v=[]);return g.length&&E(),d.length?d.join(""):null}return f.x=function(t){return arguments.length?(e=n=t,f):n},f.x0=function(t){return arguments.length?(e=t,f):e},f.x1=function(t){return arguments.length?(n=t,f):n},f.y=function(t){return arguments.length?(r=i=t,f):i},f.y0=function(t){return arguments.length?(r=t,f):r},f.y1=function(t){return arguments.length?(i=t,f):i},f.defined=function(t){return arguments.length?(o=t,f):o},f.interpolate=function(t){return arguments.length?(a="function"===typeof t?s=t:(s=na.get(t)||ra).key,u=s.reverse||s,c=s.closed?"M":"L",f):a},f.tension=function(t){return arguments.length?(l=t,f):l},f}function ya(t){return t.radius}function ba(t){return[t.x,t.y]}function _a(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Dt;return[n*Math.cos(r),n*Math.sin(r)]}}function wa(){return 64}function xa(){return"circle"}function Ea(t){var e=Math.sqrt(t/At);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=ea(va);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},oa.reverse=sa,sa.reverse=oa,o.svg.area=function(){return ma(j)},o.svg.area.radial=function(){var t=ma(va);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Zr,e=Qr,n=ya,r=Xs,i=Js;function o(n,r){var i,o,c=s(this,t,n,r),l=s(this,e,n,r);return"M"+c.p0+a(c.r,c.p1,c.a1-c.a0)+(o=l,(i=c).a0==o.a0&&i.a1==o.a1?u(c.r,c.p1,c.r,c.p0):u(c.r,c.p1,l.r,l.p0)+a(l.r,l.p1,l.a1-l.a0)+u(l.r,l.p1,c.r,c.p0))+"Z"}function s(t,e,o,s){var a=e.call(t,o,s),u=n.call(t,a,s),c=r.call(t,a,s)-Dt,l=i.call(t,a,s)-Dt;return{r:u,a0:c,a1:l,p0:[u*Math.cos(c),u*Math.sin(c)],p1:[u*Math.cos(l),u*Math.sin(l)]}}function a(t,e,n){return"A"+t+","+t+" 0 "+ +(n>At)+",1 "+e}function u(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=Ee(t),o):n},o.source=function(e){return arguments.length?(t=Ee(e),o):t},o.target=function(t){return arguments.length?(e=Ee(t),o):e},o.startAngle=function(t){return arguments.length?(r=Ee(t),o):r},o.endAngle=function(t){return arguments.length?(i=Ee(t),o):i},o},o.svg.diagonal=function(){var t=Zr,e=Qr,n=ba;function r(r,i){var o=t.call(this,r,i),s=e.call(this,r,i),a=(o.y+s.y)/2,u=[o,{x:o.x,y:a},{x:s.x,y:a},s];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return r.source=function(e){return arguments.length?(t=Ee(e),r):t},r.target=function(t){return arguments.length?(e=Ee(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=ba,n=t.projection;return t.projection=function(t){return arguments.length?n(_a(e=t)):e},t},o.svg.symbol=function(){var t=xa,e=wa;function n(n,r){return(Sa.get(t.call(this,n,r))||Ea)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=Ee(e),n):t},n.size=function(t){return arguments.length?(e=Ee(t),n):e},n};var Sa=o.map({circle:Ea,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ma)),n=e*Ma;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ka),n=e*ka/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ka),n=e*ka/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=Sa.keys();var ka=Math.sqrt(3),Ma=Math.tan(30*jt);Z.transition=function(t){for(var e,n,r=Ia||++Ra,i=ja(t),o=[],s=Na||{time:Date.now(),ease:_o,delay:0,duration:250},a=-1,u=this.length;++a<u;){o.push(e=[]);for(var c=this[a],l=-1,f=c.length;++l<f;)(n=c[l])&&La(n,l,i,r,s),e.push(n)}return Ca(o,i,r)},Z.interrupt=function(t){return this.each(null==t?Ta:Oa(ja(t)))};var Ta=Oa(ja());function Oa(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ca(t,e,n){return G(t,Aa),t.namespace=e,t.id=n,t}var Ia,Na,Aa=[],Ra=0;function Pa(t,e,n,r){var i=t.id,o=t.namespace;return vt(t,"function"===typeof n?function(t,s,a){t[o][i].tween.set(e,r(n.call(t,t.__data__,s,a)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Da(t){return null==t&&(t=""),function(){this.textContent=t}}function ja(t){return null==t?"__transition__":"__transition_"+t+"__"}function La(t,e,n,r,i){var o,s,a,u,c,l=t[n]||(t[n]={active:0,count:0}),f=l[r];function h(n){var i=l.active,h=l[i];for(var d in h&&(h.timer.c=null,h.timer.t=NaN,--l.count,delete l[i],h.event&&h.event.interrupt.call(t,t.__data__,h.index)),l)if(+d<r){var g=l[d];g.timer.c=null,g.timer.t=NaN,--l.count,delete l[d]}s.c=p,Ne((function(){return s.c&&p(n||1)&&(s.c=null,s.t=NaN),1}),0,o),l.active=r,f.event&&f.event.start.call(t,t.__data__,e),c=[],f.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&c.push(r)})),u=f.ease,a=f.duration}function p(i){for(var o=i/a,s=u(o),h=c.length;h>0;)c[--h].call(t,s);if(o>=1)return f.event&&f.event.end.call(t,t.__data__,e),--l.count?delete l[r]:delete t[n],1}f||(o=i.time,s=Ne((function(t){var e=f.delay;if(s.t=e+o,e<=t)return h(t-e);s.c=h}),0,o),f=l[r]={tween:new k,time:o,timer:s,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++l.count)}Aa.call=Z.call,Aa.empty=Z.empty,Aa.node=Z.node,Aa.size=Z.size,o.transition=function(t,e){return t&&t.transition?Ia?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=Aa,Aa.select=function(t){var e,n,r,i=this.id,o=this.namespace,s=[];t=Q(t);for(var a=-1,u=this.length;++a<u;){s.push(e=[]);for(var c=this[a],l=-1,f=c.length;++l<f;)(r=c[l])&&(n=t.call(r,r.__data__,l,a))?("__data__"in r&&(n.__data__=r.__data__),La(n,l,o,i,r[o][i]),e.push(n)):e.push(null)}return Ca(s,o,i)},Aa.selectAll=function(t){var e,n,r,i,o,s=this.id,a=this.namespace,u=[];t=tt(t);for(var c=-1,l=this.length;++c<l;)for(var f=this[c],h=-1,p=f.length;++h<p;)if(r=f[h]){o=r[a][s],n=t.call(r,r.__data__,h,c),u.push(e=[]);for(var d=-1,g=n.length;++d<g;)(i=n[d])&&La(i,d,a,s,o),e.push(i)}return Ca(u,a,s)},Aa.filter=function(t){var e,n,r=[];"function"!==typeof t&&(t=dt(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var s,a=0,u=(s=this[i]).length;a<u;a++)(n=s[a])&&t.call(n,n.__data__,a,i)&&e.push(n)}return Ca(r,this.namespace,this.id)},Aa.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):vt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Aa.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?No:co,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function s(){this.removeAttributeNS(r.space,r.local)}function a(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function u(t){return null==t?s:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return Pa(this,"attr."+t,e,r.local?u:a)},Aa.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},Aa.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!==typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function o(e){return null==e?i:(e+="",function(){var r,i=l(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=co(i,e),function(e){this.style.setProperty(t,r(e),n)})})}return Pa(this,"style."+t,e,o)},Aa.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,l(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Aa.text=function(t){return Pa(this,"text",t,Da)},Aa.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Aa.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!==typeof t&&(t=o.ease.apply(o,arguments)),vt(this,(function(r){r[n][e].ease=t})))},Aa.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:vt(this,"function"===typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Aa.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:vt(this,"function"===typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Aa.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Na,s=Ia;try{Ia=n,vt(this,(function(e,i,o){Na=e[r][n],t.call(e,e.__data__,i,o)}))}finally{Na=i,Ia=s}}else vt(this,(function(i){var s=i[r][n];(s.event||(s.event=o.dispatch("start","end","interrupt"))).on(t,e)}));return this},Aa.transition=function(){for(var t,e,n,r=this.id,i=++Ra,o=this.namespace,s=[],a=0,u=this.length;a<u;a++){s.push(t=[]);for(var c,l=0,f=(c=this[a]).length;l<f;l++)(e=c[l])&&La(e,l,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Ca(s,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),n=Ba,r=6,i=6,s=3,u=[10],c=null;function l(a){a.each((function(){var a,l=o.select(this),f=this.__chart__||e,h=this.__chart__=e.copy(),p=null==c?h.ticks?h.ticks.apply(h,u):h.domain():c,d=null==t?h.tickFormat?h.tickFormat.apply(h,u):j:t,g=l.selectAll(".tick").data(p,h),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",It),m=o.transition(g.exit()).style("opacity",It).remove(),y=o.transition(g.order()).style("opacity",1),b=Math.max(r,0)+s,_=Ms(h),w=l.selectAll(".domain").data([0]),x=(w.enter().append("path").attr("class","domain"),o.transition(w));v.append("line"),v.append("text");var E,S,k,M,T=v.select("line"),O=y.select("line"),C=g.select("text").text(d),I=v.select("text"),N=y.select("text"),A="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(a=Fa,E="x",k="y",S="x2",M="y2",C.attr("dy",A<0?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+_[0]+","+A*i+"V0H"+_[1]+"V"+A*i)):(a=Va,E="y",k="x",S="y2",M="x2",C.attr("dy",".32em").style("text-anchor",A<0?"end":"start"),x.attr("d","M"+A*i+","+_[0]+"H0V"+_[1]+"H"+A*i)),T.attr(M,A*r),I.attr(k,A*b),O.attr(S,0).attr(M,A*r),N.attr(E,0).attr(k,A*b),h.rangeBand){var R=h,P=R.rangeBand()/2;f=h=function(t){return R(t)+P}}else f.rangeBand?f=h:m.call(a,h,f);v.call(a,f,h),y.call(a,h,h)}))}return l.scale=function(t){return arguments.length?(e=t,l):e},l.orient=function(t){return arguments.length?(n=t in Ua?t+"":Ba,l):n},l.ticks=function(){return arguments.length?(u=a(arguments),l):u},l.tickValues=function(t){return arguments.length?(c=t,l):c},l.tickFormat=function(e){return arguments.length?(t=e,l):t},l.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],l):r},l.innerTickSize=function(t){return arguments.length?(r=+t,l):r},l.outerTickSize=function(t){return arguments.length?(i=+t,l):i},l.tickPadding=function(t){return arguments.length?(s=+t,l):s},l.tickSubdivide=function(){return arguments.length&&l},l};var Ba="bottom",Ua={top:1,right:1,bottom:1,left:1};function Fa(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Va(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}o.svg.brush=function(){var t,e,n=Y(h,"brushstart","brush","brushend"),r=null,i=null,s=[0,0],a=[0,0],u=!0,c=!0,f=za[0];function h(t){t.each((function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(f,j);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Ha[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",h.empty()?"none":null);var s,a=o.transition(t),u=o.transition(e);r&&(s=Ms(r),u.attr("x",s[0]).attr("width",s[1]-s[0]),d(a)),i&&(s=Ms(i),u.attr("y",s[0]).attr("height",s[1]-s[0]),g(a)),p(a)}))}function p(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+s[+/e$/.test(t)]+","+a[+/^s/.test(t)]+")"}))}function d(t){t.select(".extent").attr("x",s[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function g(t){t.select(".extent").attr("y",a[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",a[1]-a[0])}function v(){var f,v,m=this,y=o.select(o.event.target),b=n.of(m,arguments),_=o.select(m),w=y.datum(),x=!/^(n|s)$/.test(w)&&r,E=!/^(e|w)$/.test(w)&&i,S=y.classed("extent"),k=Mt(m),M=o.mouse(m),T=o.select(l(m)).on("keydown.brush",(function(){32==o.event.keyCode&&(S||(f=null,M[0]-=s[1],M[1]-=a[1],S=2),z())})).on("keyup.brush",(function(){32==o.event.keyCode&&2==S&&(M[0]+=s[1],M[1]+=a[1],S=0,z())}));if(o.event.changedTouches?T.on("touchmove.brush",I).on("touchend.brush",A):T.on("mousemove.brush",I).on("mouseup.brush",A),_.interrupt().selectAll("*").interrupt(),S)M[0]=s[0]-M[0],M[1]=a[0]-M[1];else if(w){var O=+/w$/.test(w),C=+/^n/.test(w);v=[s[1-O]-M[0],a[1-C]-M[1]],M[0]=s[O],M[1]=a[C]}else o.event.altKey&&(f=M.slice());function I(){var t=o.mouse(m),e=!1;v&&(t[0]+=v[0],t[1]+=v[1]),S||(o.event.altKey?(f||(f=[(s[0]+s[1])/2,(a[0]+a[1])/2]),M[0]=s[+(t[0]<f[0])],M[1]=a[+(t[1]<f[1])]):f=null),x&&N(t,r,0)&&(d(_),e=!0),E&&N(t,i,1)&&(g(_),e=!0),e&&(p(_),b({type:"brush",mode:S?"move":"resize"}))}function N(n,r,i){var o,l,h=Ms(r),p=h[0],d=h[1],g=M[i],v=i?a:s,m=v[1]-v[0];if(S&&(p-=g,d-=m+g),o=(i?c:u)?Math.max(p,Math.min(d,n[i])):n[i],S?l=(o+=g)+m:(f&&(g=Math.max(p,Math.min(d,2*f[i]-o))),g<o?(l=o,o=g):l=g),v[0]!=o||v[1]!=l)return i?e=null:t=null,v[0]=o,v[1]=l,!0}function A(){I(),_.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),o.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),b({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",y.style("cursor")),b({type:"brushstart"}),I()}return h.event=function(r){r.each((function(){var r=n.of(this,arguments),i={x:s,y:a,i:t,j:e},u=this.__chart__||i;this.__chart__=i,Ia?o.select(this).transition().each("start.brush",(function(){t=u.i,e=u.j,s=u.x,a=u.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=lo(s,i.x),o=lo(a,i.y);return t=e=null,function(t){s=i.x=n(t),a=i.y=o(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},h.x=function(t){return arguments.length?(f=za[!(r=t)<<1|!i],h):r},h.y=function(t){return arguments.length?(f=za[!r<<1|!(i=t)],h):i},h.clamp=function(t){return arguments.length?(r&&i?(u=!!t[0],c=!!t[1]):r?u=!!t:i&&(c=!!t),h):r&&i?[u,c]:r?u:i?c:null},h.extent=function(n){var o,u,c,l,f;return arguments.length?(r&&(o=n[0],u=n[1],i&&(o=o[0],u=u[0]),t=[o,u],r.invert&&(o=r(o),u=r(u)),u<o&&(f=o,o=u,u=f),o==s[0]&&u==s[1]||(s=[o,u])),i&&(c=n[0],l=n[1],r&&(c=c[1],l=l[1]),e=[c,l],i.invert&&(c=i(c),l=i(l)),l<c&&(f=c,c=l,l=f),c==a[0]&&l==a[1]||(a=[c,l])),h):(r&&(t?(o=t[0],u=t[1]):(o=s[0],u=s[1],r.invert&&(o=r.invert(o),u=r.invert(u)),u<o&&(f=o,o=u,u=f))),i&&(e?(c=e[0],l=e[1]):(c=a[0],l=a[1],i.invert&&(c=i.invert(c),l=i.invert(l)),l<c&&(f=c,c=l,l=f))),r&&i?[[o,c],[u,l]]:r?[o,u]:i&&[c,l])},h.clear=function(){return h.empty()||(s=[0,0],a=[0,0],t=e=null),h},h.empty=function(){return!!r&&s[0]==s[1]||!!i&&a[0]==a[1]},o.rebind(h,n,"on")};var Ha={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},za=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wa=Ve.format=mn.timeFormat,Ya=Wa.utc,qa=Ya("%Y-%m-%dT%H:%M:%S.%LZ");function Ga(t){return t.toISOString()}function $a(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=o.bisect(Xa,r);return i==Xa.length?[e.year,Ps(t.map((function(t){return t/31536e6})),n)[2]]:i?e[r/Xa[i-1]<Xa[i]/r?i-1:i]:[Qa,Ps(t,n)[2]]}return r.invert=function(e){return Ka(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Ka)},r.nice=function(t,e){var n=r.domain(),o=ks(n),s=null==t?i(o,10):"number"===typeof t&&i(o,t);function a(n){return!isNaN(n)&&!t.range(n,Ka(+n+1),e).length}return s&&(t=s[0],e=s[1]),r.domain(Os(n,e>1?{floor:function(e){for(;a(e=t.floor(e));)e=Ka(e-1);return e},ceil:function(e){for(;a(e=t.ceil(e));)e=Ka(+e+1);return e}}:t))},r.ticks=function(t,e){var n=ks(r.domain()),o=null==t?i(n,10):"number"===typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Ka(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return $a(t.copy(),e,n)},As(r,t)}function Ka(t){return new Date(t)}Wa.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ga:qa,Ga.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ga.toString=qa.toString,Ve.second=Ye((function(t){return new He(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),Ve.seconds=Ve.second.range,Ve.seconds.utc=Ve.second.utc.range,Ve.minute=Ye((function(t){return new He(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),Ve.minutes=Ve.minute.range,Ve.minutes.utc=Ve.minute.utc.range,Ve.hour=Ye((function(t){var e=t.getTimezoneOffset()/60;return new He(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),Ve.hours=Ve.hour.range,Ve.hours.utc=Ve.hour.utc.range,Ve.month=Ye((function(t){return(t=Ve.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),Ve.months=Ve.month.range,Ve.months.utc=Ve.month.utc.range;var Xa=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ja=[[Ve.second,1],[Ve.second,5],[Ve.second,15],[Ve.second,30],[Ve.minute,1],[Ve.minute,5],[Ve.minute,15],[Ve.minute,30],[Ve.hour,1],[Ve.hour,3],[Ve.hour,6],[Ve.hour,12],[Ve.day,1],[Ve.day,2],[Ve.week,1],[Ve.month,1],[Ve.month,3],[Ve.year,1]],Za=Wa.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",nr]]),Qa={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(Ka)},floor:j,ceil:j};Ja.year=Ve.year,Ve.scale=function(){return $a(o.scale.linear(),Ja,Za)};var tu=Ja.map((function(t){return[t[0].utc,t[1]]})),eu=Ya.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",nr]]);function nu(t){return JSON.parse(t.responseText)}function ru(t){var e=u.createRange();return e.selectNode(u.body),e.createContextualFragment(t.responseText)}tu.year=Ve.year.utc,Ve.scale.utc=function(){return $a(o.scale.linear(),tu,eu)},o.text=Se((function(t){return t.responseText})),o.json=function(t,e){return ke(t,"application/json",nu,e)},o.html=function(t,e){return ke(t,"text/html",ru,e)},o.xml=Se((function(t){return t.responseXML})),this.d3=o,void 0===(i="function"===typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)}()},,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=28)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_SERVICE_WORKER_URL="pushwoosh-service-worker.js",e.DEFAULT_API_URL="https://cp.pushwoosh.com/json/1.3/",e.FACEBOOK_APP_ID="436711767081797",e.FACEBOOK_HWID_KEY="FACEBOOK_HWID_KEY",e.PERIOD_SEND_APP_OPEN=36e5,e.PERIOD_GOAL_EVENT=864e5,e.DEFAULT_NOTIFICATION_DURATION=10,e.MIN_NOTIFICATION_DURATION=10,e.MAX_NOTIFICATION_DURATION=90,e.WAKE_UP_SERVICE_WORKER_INTERVAL=20,e.DEFAULT_NOTIFICATION_TITLE="Pushwoosh notification",e.DEFAULT_NOTIFICATION_IMAGE="https://cp.pushwoosh.com/img/logo-medium.png",e.DEFAULT_NOTIFICATION_URL="/",e.KEY_API_PARAMS="API_PARAMS",e.KEY_INIT_PARAMS="INIT_PARAMS",e.KEY_SDK_VERSION="SDK_VERSION",e.KEY_WORKER_VERSION="WORKER_VERSION",e.KEY_LAST_SENT_APP_OPEN="LAST_SENT_APP_OPEN",e.KEY_LAST_OPEN_MESSAGE="LAST_OPEN_MESSAGE",e.KEY_API_BASE_URL="API_BASE_URL",e.KEY_SHOW_SUBSCRIBE_WIDGET="WIDGET_SHOWED",e.KEY_CLICK_SUBSCRIBE_WIDGET="WIDGET_CLICKED",e.KEY_DELAYED_EVENT="DELAYED_EVENT",e.KEY_COMMUNICATION_ENABLED="COMMUNICATION_ENABLED",e.KEY_DEVICE_DATA_REMOVED="DEVICE_DATA_REMOVED",e.KEY_INTERNAL_EVENTS="INTERNAL_EVENTS",e.KEY_UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS="UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS",e.KEY_FAKE_PUSH_TOKEN="fakePushToken",e.KEY_DEVICE_REGISTRATION_STATUS="deviceRegistrationStatus",e.KEY_SAFARI_PREVIOUS_PERMISSION="safariPreviousPermission",e.MANUAL_SET_LOGGER_LEVEL="PW_SET_LOGGER_LEVEL",e.DEVICE_REGISTRATION_STATUS_REGISTERED="registered",e.DEVICE_REGISTRATION_STATUS_UNREGISTERED="unregistered",e.KEY_SENDER_ID="GCM_SENDER_ID",e.KEY_FCM_SUBSCRIPTION="FCM_SUBSCRIPTION",e.PERMISSION_DENIED="denied",e.PERMISSION_GRANTED="granted",e.PERMISSION_PROMPT="default",e.EVENT_ON_READY="onReady",e.EVENT_ON_SUBSCRIBE="onSubscribe",e.EVENT_ON_UNSUBSCRIBE="onUnsubscribe",e.EVENT_ON_REGISTER="onRegister",e.EVENT_ON_PERMISSION_PROMPT="onPermissionPrompt",e.EVENT_ON_PERMISSION_DENIED="onPermissionDenied",e.EVENT_ON_PERMISSION_GRANTED="onPermissionGranted",e.EVENT_ON_SW_INIT_ERROR="onSWInitError",e.EVENT_ON_PUSH_DELIVERY="onPushDelivery",e.EVENT_ON_NOTIFICATION_CLICK="onNotificationClick",e.EVENT_ON_NOTIFICATION_CLOSE="onNotificationClose",e.EVENT_ON_CHANGE_COMMUNICATION_ENABLED="onChangeCommunicationEnabled",e.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE="onPutNewMessageToInboxStore",e.EVENT_ON_UPDATE_INBOX_MESSAGES="onUpdateInboxMessages",e.EVENT_SHOW_SUBSCRIBE_BUTTON="showSubscribeButton",e.EVENT_CLICK_SUBSCRIBE_BUTTON="clickSubscribeButton",e.EVENT_GDPR_CONSENT="GDPRConsent",e.EVENT_GDPR_DELETE="GDPRDelete",e.MANUAL_UNSUBSCRIBE="MANUAL_UNSUBSCRIBE"},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},s=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var u,c=n(9),l=n(10),f=n(7);function h(t,e){console.info("onversionchange",e),t.close()}function p(){return u||(u=new Promise((function(t,e){var n=indexedDB.open("PUSHWOOSH_SDK_STORE",c.default);n.onsuccess=function(n){var r=n.target.result;r.onversionchange=h.bind(null,r,e),t(r)},n.onerror=function(){return e(n.error)},n.onupgradeneeded=function(t){var n=t.target.result;n.onversionchange=h.bind(null,n,e),new l.default(n).applyMigrations()}}))),u}function d(t){return p().then((function(e){return new Promise((function(n,r){return t(e,n,r)}))}))}e.getInstance=p;var g=function(){function t(){}return t.prototype._add=function(t){var e=this;return d((function(n,r,i){var o=n.transaction([e.name],"readwrite").objectStore(e.name).add(t);o.onsuccess=function(){r(t)},o.onerror=function(){i(o.error)}})).then((function(t){return e.getAll().then((function(n){if(Array.isArray(n)){var r=n.map((function(t){return t.id})).sort((function(t,e){return t==e?0:t<e?1:-1}));if(r.length>e.maxItems)return Promise.all(r.slice(e.maxItems).map((function(t){return e.delete(t)}))).then((function(){return t}))}return t}))}))},t.prototype.delete=function(t){var e=this;return d((function(n,r,i){var o=n.transaction([e.name],"readwrite").objectStore(e.name).delete(t);o.onsuccess=function(){r(o.result)},o.onerror=function(){i(o.error)}}))},t.prototype.getAll=function(){var t=this;return d((function(e,n,r){var i=[],o=e.transaction(t.name).objectStore(t.name).openCursor();o.onsuccess=function(t){var e=t.target.result;e?(e.value&&i.push(e.value),e.continue()):n(i)},o.onerror=function(){r(o.error)}}))},t}();e.LogBase=g;var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name=f.STORE_NAME_MAIN_LOG,e.maxItems=100,e.environment="undefined"!=typeof self&&self.registration?"worker":"browser",e}return r(e,t),e.prototype.add=function(t,e,n){var r={type:t,environment:this.environment,message:""+e,date:new Date};return e instanceof Error&&(r.stack=e.stack),n&&(r.additional=n),this._add(r)},e}(g);e.LogLog=v;var m,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name=f.STORE_NAME_MESSAGE_LOG,e.maxItems=25,e}return r(e,t),e.prototype.add=function(t){return this._add(i({},t,{date:new Date}))},e}(g);e.LogMessage=y,e.keyValue=(m=f.STORE_NAME_KEY_VALUE,{get:function(t,e){return d((function(n,r,i){var o,s=n.transaction(m).objectStore(m).get(t),a=!1,u=!1,c=function(){if(clearTimeout(o),a){var t=s.result;r(t&&t.value||e)}else u?i(s.error):o=setTimeout(c,0)};s.onsuccess=function(){return a=!0},s.onerror=function(){return u=!0},c()}))},getAll:function(){return d((function(t,e,n){var r,i={},o=t.transaction(m).objectStore(m).openCursor(),s=!1,a=!1,u=function(){clearTimeout(r),s?e(i):a?n(o.error):r=setTimeout(u,0)};o.onsuccess=function(t){var e=t.target.result;e?(i[e.key]=e.value.value,e.continue()):s=!0},o.onerror=function(){return a=!0},u()}))},extend:function(t,e){return o(this,void 0,void 0,(function(){var n,r;return s(this,(function(o){switch(o.label){case 0:return[4,this.get(t)];case 1:return n=o.sent(),r=a(e,[]),[4,this.set(t,i({},n,r))];case 2:return o.sent(),[2]}}))}))},set:function(t,e){return d((function(n,r,i){var o,s=n.transaction([m],"readwrite").objectStore(m).put({key:t,value:e}),a=!1,u=!1,c=function(){clearTimeout(o),a?r(t):u?i(s.error):o=setTimeout(c,0)};s.onsuccess=function(){return a=!0},s.onerror=function(){return u=!0},c()}))}}),e.log=new v,e.message=new y},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(0),a=n(24),u=function(){function t(t){void 0===t&&(t=new a.default),this.paramsBuilder=t}return Object.defineProperty(t.prototype,"apiUrl",{get:function(){return o.keyValue.get("params.apiUrl",s.DEFAULT_API_URL)},enumerable:!0,configurable:!0}),t.prototype.setApiUrl=function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return t?[3,2]:[4,this.paramsBuilder.buildApiUrl(this.appCode)];case 1:return e=n.sent(),[2,o.keyValue.set("params.apiUrl",e)];case 2:return[2,o.keyValue.set("params.apiUrl",t)]}}))}))},Object.defineProperty(t.prototype,"appCode",{get:function(){return o.keyValue.get("params.applicationCode","")},enumerable:!0,configurable:!0}),t.prototype.setAppCode=function(t){return o.keyValue.set("params.applicationCode",t)},Object.defineProperty(t.prototype,"hwid",{get:function(){return o.keyValue.get("params.hwid","")},enumerable:!0,configurable:!0}),t.prototype.setHwid=function(t){return r(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return e=s.KEY_API_PARAMS,[4,o.keyValue.getAll()];case 1:return(n=r.sent()[e])?(n.hwid=t,[4,o.keyValue.extend(s.KEY_API_PARAMS,n)]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2,o.keyValue.set("params.hwid",t)]}}))}))},Object.defineProperty(t.prototype,"defaultNotificationImage",{get:function(){return o.keyValue.get("params.defaultNotificationImage",s.DEFAULT_NOTIFICATION_IMAGE)},enumerable:!0,configurable:!0}),t.prototype.setDefaultNotificationImage=function(t){return o.keyValue.set("params.defaultNotificationImage",t)},Object.defineProperty(t.prototype,"defaultNotificationTitle",{get:function(){return o.keyValue.get("params.defaultNotificationTitle",s.DEFAULT_NOTIFICATION_TITLE)},enumerable:!0,configurable:!0}),t.prototype.setDefaultNotificationTitle=function(t){return o.keyValue.set("params.defaultNotificationTitle",t)},Object.defineProperty(t.prototype,"userId",{get:function(){return o.keyValue.get("params.userId","")},enumerable:!0,configurable:!0}),t.prototype.setUserId=function(t){return r(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.userId];case 1:return e=r.sent(),n="user_id"===t?"":t,[4,this.setUserIdWasChanged(e!==n)];case 2:return r.sent(),[2,o.keyValue.set("params.userId",n)]}}))}))},Object.defineProperty(t.prototype,"userIdWasChanged",{get:function(){return o.keyValue.get("params.userIdWasChanged",!1)},enumerable:!0,configurable:!0}),t.prototype.setUserIdWasChanged=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,o.keyValue.set("params.userIdWasChanged",t)]}))}))},Object.defineProperty(t.prototype,"subscriptionPopupLastOpen",{get:function(){return o.keyValue.get("params.subscriptionPopupLastOpen",0)},enumerable:!0,configurable:!0}),t.prototype.setSubscriptionPopupLastOpen=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,o.keyValue.set("params.subscriptionPopupLastOpen",t)]}))}))},t}();e.default=u},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),s=n(0),a=n(4);function u(){return Function("return this")()}function c(t){for(var e="",n=0;n<32;n++){var r=t.length-n-1,i=0;r>=0&&(i=t.charCodeAt(r)),e+="0123456789abcdef".substr(i%"0123456789abcdef".length,1)}return e}function l(){return localStorage.getItem(s.KEY_FAKE_PUSH_TOKEN)}function f(){var t=function(t){t=t||32;for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}();return localStorage.setItem(s.KEY_FAKE_PUSH_TOKEN,t),t}function h(t,e){var n=t&&t.getKey&&t.getKey(e);return n?btoa(String.fromCharCode.apply(String,new Uint8Array(n))):""}e.getGlobal=u,e.getVersion=function(){return"3.6.0"},e.parseSerializedNotificationParams=function(t,e){if("string"==typeof t)try{return JSON.parse(t)}catch(n){console.log(n)}return void 0===t&&void 0!==e?e:t},e.urlB64ToUint8Array=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.createUUID=c,e.generateHwid=function(t,e){return t+"_"+c(e=l()||e||f())},e.getFakePushToken=l,e.generateFakePushToken=f,e.getPushToken=function(t){return t?t.subscriptionId?t.subscriptionId:12===a.default.platform?t.endpoint:t.endpoint.split("/").pop()||"":""},e.getFcmKey=function(t,e){return t?new Promise((function(t){o.keyValue.get(s.KEY_FCM_SUBSCRIPTION).then((function(n){t(n&&n[e]||"")})).catch((function(){t("")}))})):Promise.resolve("")},e.getAuthToken=function(t){return h(t,"auth")},e.getPublicKey=function(t){return h(t,"p256dh")},e.getPushwooshUrl=function(t){var e=t&&!~t.indexOf(".")?"https://"+t+".api.pushwoosh.com/json/1.3/":"https://cp.pushwoosh.com/json/1.3/";return o.keyValue.get(s.KEY_API_BASE_URL).then((function(t){return void 0===t&&(t=null),t||e})).catch((function(){return e}))},e.patchConsole=function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,i=u(),o=i.console=i.console||{};r--;)o[t=n[r]]||(o[t]=e)},e.patchPromise=function(){!a.default.isAvailablePromise&&a.default.isAvailableNotifications&&(window.Promise=function(){return{then:function(){},catch:function(){}}})},e.clearLocationHash=function(){"history"in u()&&history.pushState?history.pushState(null,"","#"):location.hash="#"},e.validateParams=function(t){var e=i(t,[]);return e.userId&&"user_id"===e.userId&&delete e.userId,e},e.sendInternalPostEvent=function(t){o.keyValue.get(s.KEY_INTERNAL_EVENTS).then((function(e){var n;void 0===e&&(e={}),0===Object.keys(e).length&&o.keyValue.set(s.KEY_INTERNAL_EVENTS,{});var i=(new Date).setHours(0,0,0,0),a=e[t.event];if(!a||i>a){o.keyValue.extend(s.KEY_INTERNAL_EVENTS,((n={})[t.event]=i,n));var u=new XMLHttpRequest,c=r({application:"DD275-06947"},t);u.open("POST","https://cp.pushwoosh.com/json/1.3/postEvent",!0),u.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),u.send(JSON.stringify({request:c}))}}))},e.generateUUID=function(){var t=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=n(12);e.PlatformChecker=i.PlatformChecker,e.default=r.platformChecker},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){void 0===t&&(t=new Date),this._date=t}return Object.defineProperty(t.prototype,"date",{get:function(){return this._date},set:function(t){this._date=t},enumerable:!0,configurable:!0}),t.prototype.getUtcTimestamp=function(){return Math.floor((this.date.getTime()+60*this.date.getTimezoneOffset()*1e3)/1e3)},t.prototype.getTimestamp=function(){return Math.round(this.date.getTime()/1e3)},t.prototype.setLocal=function(){var t=this._date.getTime()-60*this.date.getTimezoneOffset()*1e3;this._date=new Date(t)},t.prototype.addDays=function(t){var e=this._date.getTime()+24*t*60*60*1e3;this._date=new Date(e)},t.prototype.getInboxFakeOrder=function(){return(100*this._date.getTime()+9e9).toString()},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i={error:1,info:2,debug:3},o=3;n(3).patchConsole();var s={setLevel:function(t){i[t]||(t="error"),o=i[t]},write:function(t,e,n){return"error"===t?this.error(e):this.info(e),r.log.add(t,e,n)}};Object.keys(i).forEach((function(t){var e=i[t];s[t]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e<=o&&(console.groupCollapsed(t),console.info.apply(console,[""].concat(n)),console.trace("trace"),console.groupEnd())}})),e.logAndThrowError=function(t){var e=new Error(t);throw s.write("error",e,"logAndThrowError"),e},e.logAndRejectError=function(t,e){var n=new Error(t);s.write("error",n,"logAndRejectError"),e(n)},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STORE_NAME_KEY_VALUE="keyValue",e.STORE_NAME_MESSAGE_LOG="messages",e.STORE_NAME_MAIN_LOG="log",e.STORE_NAME_INBOX_MESSAGES="inboxMessages",e.KEY_PATH_BASE_INCREMENT="id"},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},s=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0});var a=n(19),u=new a.Logger({level:"error",subscribers:[{level:"fatal",handler:a.handlerSematext},{level:"error",handler:a.handlerSematext}]});function c(t){var e=t.message,n=t.code,i=t.error,o=s(t,["message","code","error"]),a=function(t){var e=new Error("unknown error");return"string"!=typeof t&&"number"!=typeof t&&"boolean"!=typeof t||(e.message=t.toString()),t instanceof Error&&(e=t),e}(i);return{text:e,code:n,options:r({},o,{errorText:a.message,errorStack:a.stack})}}e.logger=u,e.sendFatalLogToRemoteServer=function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){return e=c(t),[2,u.fatal(e.text,e.code,e.options)]}))}))},e.sendErrorLogToRemoteServer=function(t){return i(this,void 0,void 0,(function(){var e;return o(this,(function(n){return e=c(t),[2,u.error(e.text,e.code,e.options)]}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=7},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(21),i=function(){function t(t,e){void 0===e&&(e=new r.default),this.db=t,this.migrationsBuilder=e}return t.prototype.applyMigrations=function(){var t=this;this.applyMigrationsPack(this.migrationsBuilder.initial),this.migrationsBuilder.dateSorted.forEach((function(e){t.applyMigrationsPack(e)}))},t.prototype.applyMigrationsPack=function(t){var e=this;t.forEach((function(t){t(e.db)}))},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.storeCreatorDecorator=function(t,e){return function(n){n.objectStoreNames.contains(t)||e(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){void 0===t&&(t=window),this.global=t,this._isSafari=this.isSafariBrowser(),this._isOpera=this.isOperaBrowser(),this._isEdge=this.isEdgeBrowser(),this._isFirefox=this.isFirefoxBrowser(),this._isChrome=this.isChromeBrowser(),this._isMacOS=this.isMacOS(),this._isAvailablePromise=this.canUsePromise(),this._isAvailableServiceWorker=this.canUseServiceWorkers(),this._isAvailableNotifications=this.canReceiveNotifications(),this._platform=this.getPlatformType(),this._browserVersion=this.getBrowserVersion()}return Object.defineProperty(t.prototype,"isEdge",{get:function(){return this._isEdge},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSafari",{get:function(){return this._isSafari},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOpera",{get:function(){return this._isOpera},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAvailablePromise",{get:function(){return this._isAvailablePromise},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAvailableServiceWorker",{get:function(){return this._isAvailableServiceWorker},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAvailableNotifications",{get:function(){return this._isAvailableNotifications},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"platform",{get:function(){return this._platform},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"browserVersion",{get:function(){return this._browserVersion},enumerable:!0,configurable:!0}),t.prototype.isSafariBrowser=function(){return"safari"in this.global&&navigator.userAgent.indexOf("Safari")>-1},t.prototype.isOperaBrowser=function(){return-1!==navigator.userAgent.indexOf("Opera")||-1!==navigator.userAgent.indexOf("OPR")},t.prototype.isEdgeBrowser=function(){return navigator.userAgent.indexOf("Edge")>-1},t.prototype.isFirefoxBrowser=function(){return-1!==navigator.userAgent.toLowerCase().indexOf("firefox")},t.prototype.isChromeBrowser=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&!this._isOpera&&!this._isEdge},t.prototype.isMacOS=function(){return"platform"in navigator&&-1!==navigator.platform.toLowerCase().indexOf("mac")},t.prototype.canUseServiceWorkers=function(){return!!navigator.serviceWorker&&"PushManager"in this.global&&"Notification"in this.global},t.prototype.canUsePromise=function(){return"Promise"in this.global},t.prototype.canReceiveNotifications=function(){return this._isSafari&&this._isMacOS||this._isAvailableServiceWorker&&!this._isEdge},t.prototype.getPlatformType=function(){var t=11;switch(!0){case this._isSafari:t=10;break;case this._isOpera||this._isChrome:t=11;break;case this._isFirefox:t=12;break;case this._isEdge:t=150}return t},t.prototype.getBrowserVersion=function(){var t=navigator.userAgent,e=t.match(/\bOPR\/(\d+)/);if(null!==e)return"Opera "+e[1];var n=t.match(/\bEdge\/(\d+)/);if(null!==n)return"Edge "+n[1];var r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],i=(r[0],r[1]),o=void 0===i?"":i;if(/trident/i.test(t)){var s=/trident\/([.\d]+)/gi.exec(t)||[];return"IE "+(("7.0"===s[1]?"11":s[1])||"")}r=r[2]?[o,r[2]]:[navigator.appName,navigator.appVersion,"-?"];var a=t.match(/version\/([.\d]+)/i);return null!==a&&r.splice(1,1,a[1]),r.join(" ")},t}();e.PlatformChecker=r,e.platformChecker=new r(Function("return this")())},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(6),s=n(1),a=n(0),u=n(2);e.default=function(t,e){var n=this;return new Promise((function(c,l){return r(n,void 0,void 0,(function(){var n,f,h=this;return i(this,(function(p){switch(p.label){case 0:return[4,(n=new u.default).apiUrl];case 1:f=p.sent();try{fetch(""+f+t,{method:"post",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify({request:e})}).then((function(u){u.ok?u.json().then((function(u){return r(h,void 0,void 0,(function(){var r,f;return i(this,(function(i){switch(i.label){case 0:return 200!=u.status_code?(o.logAndRejectError("Error occurred during the "+t+" call to Pushwoosh: "+u.status_message,l),[2]):(r=u.base_url,(f=void 0===r?null:r)?(s.keyValue.set(a.KEY_API_BASE_URL,f),[4,n.setApiUrl(f)]):[3,2]);case 1:i.sent(),i.label=2;case 2:return o.default.write("apirequest",t+" call with arguments: "+JSON.stringify(e)+" to Pushwoosh has been successful. Result: "+JSON.stringify(u.response),"createDoApiFetch"),c(u.response),[2]}}))}))})):o.logAndRejectError(u.statusText||"response not ok",l)}))}catch(d){o.logAndRejectError("Exception while "+t+" the device: "+d,l)}return[2]}}))}))}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(25),s=n(2),a=n(15),u=n(5),c=n(16),l=n(17),f=n(18),h=n(0),p=function(){function t(t,e,n,r,i,f){void 0===t&&(t=new o.default),void 0===e&&(e=new s.default),void 0===n&&(n=new a.default),void 0===r&&(r=new u.default),void 0===i&&(i=new c.default),void 0===f&&(f=new l.default),this.storage=t,this.storeName="inboxMessages",this.params=e,this.inboxParams=n,this.dateModule=r,this.payloadBuilder=f,this.apiClient=i}return t.prototype.getInboxMessages=function(){return r(this,void 0,void 0,(function(){var t,e;return i(this,(function(n){switch(n.label){case 0:return[4,this.payloadBuilder.getInboxMessages()];case 1:return t=n.sent(),[4,this.apiClient.getInboxMessages(t)];case 2:return e=n.sent(),[4,this.storeGetInboxMessagesRequestParams(e.next,e.new_inbox)];case 3:return n.sent(),[2,e]}}))}))},t.prototype.storeGetInboxMessagesRequestParams=function(t,e){return r(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return this.dateModule.date=new Date,[4,this.inboxParams.setLastRequestTime(this.dateModule.getUtcTimestamp())];case 1:return n.sent(),[4,this.inboxParams.setLastRequestCode(t)];case 2:return n.sent(),[4,this.inboxParams.setNewMessagesCount(e)];case 3:return n.sent(),[2]}}))}))},t.prototype.putServerMessages=function(t){return r(this,void 0,void 0,(function(){var e,n=this;return i(this,(function(o){return e=t.map((function(t){return r(n,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,this.storage.get(this.storeName,t.inbox_id,{})];case 1:return"status"in(e=n.sent())&&(t.status=e.status),[2,this.putMessage(t)]}}))}))})),[2,Promise.all(e)]}))}))},t.prototype.putMessage=function(t){return this.storage.put(this.storeName,t)},t.prototype.putBulkMessages=function(t){var e=this,n=t.map((function(t){return e.putMessage(t)}));return Promise.all(n)},t.prototype.deleteMessages=function(t){var e=this,n=t.map((function(t){return e.storage.delete(e.storeName,t)}));return Promise.all(n)},t.prototype.deleteExpiredMessages=function(){return r(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(r){switch(r.label){case 0:return this.dateModule.date=new Date,t=this.dateModule.getTimestamp().toString(),[4,this.storage.getAll(this.storeName)];case 1:return e=r.sent(),n=e.filter((function(e){return e.rt>t})).map((function(t){return t.inbox_id})),[2,this.deleteMessages(n)]}}))}))},t.prototype.getMessage=function(t){return this.storage.get(this.storeName,t)},t.prototype.getReadOpenMessages=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,t.sent().filter((function(t){return 2===t.status||3===t.status}))]}}))}))},t.prototype.getDeliveredMessages=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,t.sent().filter((function(t){return 1===t.status}))]}}))}))},t.prototype.messagesCount=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.storage.count(this.storeName)]}))}))},t.prototype.getDeliveredMessagesCount=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.storage.countByIndex(this.storeName,"status",1)]}))}))},t.prototype.getReadMessagesCount=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.storage.countByIndex(this.storeName,"status",2)]}))}))},t.prototype.getDeliveredReadMessagesCount=function(){return r(this,void 0,void 0,(function(){var t,e,n,r;return i(this,(function(i){return e=(t=[2,3])[0],n=t[1],r=IDBKeyRange.bound(e,n),[2,this.storage.countByIndex(this.storeName,"status",r)]}))}))},t.prototype.updateMessages=function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,this.getInboxMessages()];case 1:return e=n.sent(),[4,this.deleteExpiredMessages()];case 2:return n.sent(),[4,this.deleteMessages(e.deleted)];case 3:return n.sent(),[4,this.putServerMessages(e.messages)];case 4:return n.sent(),t&&t.emit(h.EVENT_ON_UPDATE_INBOX_MESSAGES,new f.default),[2]}}))}))},t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=function(){function t(){}return Object.defineProperty(t.prototype,"lastRequestCode",{get:function(){return r.keyValue.get("inbox.lastRequestCode","")},enumerable:!0,configurable:!0}),t.prototype.setLastRequestCode=function(t){return r.keyValue.set("inbox.lastRequestCode",t)},Object.defineProperty(t.prototype,"lastRequestTime",{get:function(){return r.keyValue.get("inbox.lastRequestTime",0)},enumerable:!0,configurable:!0}),t.prototype.setLastRequestTime=function(t){return r.keyValue.set("inbox.lastRequestTime",t)},Object.defineProperty(t.prototype,"newMessagesCount",{get:function(){return r.keyValue.get("inbox.newMessagesCount",0)},enumerable:!0,configurable:!0}),t.prototype.setNewMessagesCount=function(t){return r.keyValue.set("inbox.newMessagesCount",t)},t}();e.default=i},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),s=function(){function t(){}return t.prototype.getInboxMessages=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,o.default("getInboxMessages",t)]}))}))},t.prototype.inboxStatus=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){return[2,o.default("inboxStatus",t)]}))}))},t}();e.default=s},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),s=n(15),a=n(4),u=function(){function t(t,e,n){void 0===t&&(t=new o.default),void 0===e&&(e=new s.default),void 0===n&&(n=new a.PlatformChecker(Function("return this")())),this.params=t,this.inboxParams=e,this.platformChecker=n}return t.prototype.getInboxMessages=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return[4,this.params.appCode];case 1:return e=i.sent(),[4,this.params.hwid];case 2:return n=i.sent(),[4,this.params.userId];case 3:return r=i.sent()||n,[4,this.inboxParams.lastRequestCode];case 4:return o=i.sent(),[4,this.inboxParams.lastRequestTime];case 5:return s=i.sent(),[2,{application:e,hwid:n,userId:r,count:t,last_code:o,last_request_time:s}]}}))}))},t.prototype.inboxStatus=function(t,e){return r(this,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return[4,this.params.appCode];case 1:return n=i.sent(),[4,this.params.hwid];case 2:return r=i.sent(),[4,this.params.userId];case 3:return o=i.sent()||r,[2,{application:n,hwid:r,userId:o,inbox_code:t,status:e,time:(new Date).getTime(),device_type:this.platformChecker.platform}]}}))}))},t}();e.default=u},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),s=n(5),a=n(16),u=n(17),c=n(2),l=function(){function t(t,e,n,r,i){void 0===t&&(t=new o.default),void 0===e&&(e=new s.default),void 0===n&&(n=new a.default),void 0===r&&(r=new u.default),void 0===i&&(i=new c.default),this.inboxModel=t,this.dateModule=e,this.apiClient=n,this.payloadBuilder=r,this.params=i,this.publicMessageBuilder=this.publicMessageBuilder.bind(this)}return t.prototype.messageTypeFactory=function(t){var e=0;return"h"in t||"rm"in t||"r"in t?e=1:"l"in t&&void 0!==t.l&&(e=t.l.startsWith("http")?2:3),e},t.prototype.updateMessagesStatusWithCodes=function(t,e,n){return r(this,void 0,void 0,(function(){var o,s,a=this;return i(this,(function(u){switch(u.label){case 0:return o=[],s=[],e.forEach((function(e){return r(a,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return-1===t.indexOf(e.inbox_id)?[2]:(e.status=n,o.push(e),[4,this.payloadBuilder.inboxStatus(e.order,e.status)]);case 1:return r=i.sent(),s.push(this.apiClient.inboxStatus(r)),[2]}}))}))})),[4,this.inboxModel.putBulkMessages(o)];case 1:return u.sent(),[4,Promise.all(s)];case 2:return u.sent(),[2]}}))}))},t.prototype.publicMessageBuilder=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o;return i(this,(function(i){switch(i.label){case 0:return(n=t.image)?[3,2]:[4,this.params.defaultNotificationImage];case 1:n=i.sent(),i.label=2;case 2:return e=n,(o=t.title)?[3,4]:[4,this.params.defaultNotificationTitle];case 3:o=i.sent(),i.label=4;case 4:return r=o,this.dateModule.date=new Date(1e3*parseInt(t.send_date)),this.dateModule.setLocal(),[2,{title:r,imageUrl:e,code:t.inbox_id,message:t.text,sendDate:this.dateModule.date.toISOString(),type:this.messageTypeFactory(JSON.parse(t.action_params)),isRead:2===t.status||3===t.status,isActionPerformed:3===t.status}]}}))}))},t.prototype.messagesWithNoActionPerformedCount=function(){return this.inboxModel.getDeliveredReadMessagesCount()},t.prototype.unreadMessagesCount=function(){return this.inboxModel.getDeliveredMessagesCount()},t.prototype.messagesCount=function(){return this.inboxModel.messagesCount()},t.prototype.loadMessages=function(){return r(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return t=r.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return e=r.sent(),n=t.concat(e).sort((function(t,e){return parseInt(e.send_date,10)-parseInt(t.send_date,10)})).sort((function(t,e){return parseInt(e.order||"0",10)-parseInt(t.order||"0",10)})).map(this.publicMessageBuilder),[2,Promise.all(n)]}}))}))},t.prototype.readMessagesWithCodes=function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,this.inboxModel.getDeliveredMessages()];case 1:return e=n.sent(),[4,this.updateMessagesStatusWithCodes(t,e,2)];case 2:return n.sent(),[2]}}))}))},t.prototype.performActionForMessageWithCode=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o;return i(this,(function(i){switch(i.label){case 0:return[4,this.inboxModel.getMessage(t)];case 1:return e=i.sent(),n=JSON.parse(e.action_params),2===(r=this.messageTypeFactory(n))&&void 0!==n.l?document.location.href=n.l:3===r&&void 0!==n.l&&window.history.go(n.l),e.status=3,[4,this.inboxModel.putMessage(e)];case 2:return i.sent(),[4,this.payloadBuilder.inboxStatus(e.order,e.status)];case 3:return o=i.sent(),[4,this.apiClient.inboxStatus(o)];case 4:return i.sent(),[2]}}))}))},t.prototype.deleteMessagesWithCodes=function(t){return r(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return e=r.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return n=r.sent(),[4,this.updateMessagesStatusWithCodes(t,e.concat(n),4)];case 3:return r.sent(),[2]}}))}))},t.prototype.syncMessages=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.inboxModel.updateMessages()];case 1:return t.sent(),[2]}}))}))},t}();e.default=l},function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return f})),n.d(e,"__exportStar",(function(){return h})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return d})),n.d(e,"__spread",(function(){return g})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return m})),n.d(e,"__asyncDelegator",(function(){return y})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return _})),n.d(e,"__importStar",(function(){return w})),n.d(e,"__importDefault",(function(){return x}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;0<=a;a--)(i=t[a])&&(s=(o<3?i(s):3<o?i(e,n,s):i(e,n))||s);return 3<o&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=0<(i=s.trys).length&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function d(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function m(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){1<o.push([t,e,n,r])||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function y(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.LOGGER_LEVEL_SILENT="silent",e.LOGGER_LEVEL_FATAL="fatal",e.LOGGER_LEVEL_ERROR="error",e.LOGGER_LEVEL_WARN="warn",e.LOGGER_LEVEL_INFO="info",e.LOGGER_LEVEL_DEBUG="debug",e.LOGGER_LEVEL_VALUE_SILENT=0,e.LOGGER_LEVEL_VALUE_FATAL=10,e.LOGGER_LEVEL_VALUE_ERROR=20,e.LOGGER_LEVEL_VALUE_WARN=30,e.LOGGER_LEVEL_VALUE_INFO=40,e.LOGGER_LEVEL_VALUE_DEBUG=50,e.loggerRelationsMap=((r={})[e.LOGGER_LEVEL_SILENT]=e.LOGGER_LEVEL_VALUE_SILENT,r[e.LOGGER_LEVEL_FATAL]=e.LOGGER_LEVEL_VALUE_FATAL,r[e.LOGGER_LEVEL_ERROR]=e.LOGGER_LEVEL_VALUE_ERROR,r[e.LOGGER_LEVEL_WARN]=e.LOGGER_LEVEL_VALUE_WARN,r[e.LOGGER_LEVEL_INFO]=e.LOGGER_LEVEL_VALUE_INFO,r[e.LOGGER_LEVEL_DEBUG]=e.LOGGER_LEVEL_VALUE_DEBUG,r)},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);n(5),n(6),r.__exportStar(n(10),e),r.__exportStar(n(11),e),r.__exportStar(n(12),e)},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",(function(){return c})),n.d(e,"Request",(function(){return v})),n.d(e,"Response",(function(){return y})),n.d(e,"DOMException",(function(){return _})),n.d(e,"fetch",(function(){return w}));var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&-1<i.indexOf(Object.prototype.toString.call(t))};function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function h(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){var e;(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=p(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,e,n,r=l(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=f(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=s(t),e=a(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},c.prototype.delete=function(t){delete this.map[s(t)]},c.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},c.prototype.set=function(t,e){this.map[s(t)]=a(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),u(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),u(t)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var n,r,i=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),-1<g.indexOf(r)?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},d.call(v.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];y.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})};var _=self.DOMException;try{new _}catch(x){(_=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function w(t,e){return new Promise((function(n,i){var o=new v(t,e);if(o.signal&&o.signal.aborted)return i(new _("Aborted","AbortError"));var s=new XMLHttpRequest;function a(){s.abort()}s.onload=function(){var t,e,r={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new c,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new y(i,r))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new _("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",a),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",a)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=c,self.Request=v,self.Response=y)},function(t,e,n){"use strict";n.r(e),function(t){var r=n(3),i=setTimeout;function o(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void c(e.promise,i)}u(e.promise,r)}else(1===t._state?u:c)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof s)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void f((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(o){c(t,o)}var r,i}function c(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&s._immediateFn((function(){t._handled||s._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(r){if(n)return;n=!0,c(e,r)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,e,n)),n},s.prototype.finally=r.a,s.all=function(t){return new s((function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){o(t,e)}),n)}r[t]=s,0==--i&&e(r)}catch(u){n(u)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s((function(e){e(t)}))},s.reject=function(t){return new s((function(e,n){n(t)}))},s.race=function(t){return new s((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},s._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){i(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.default=s}.call(this,n(7).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(8),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,s,a,u=1,c={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,r="[object process]"==={}.toString.call(t.process)?function(t){e.nextTick((function(){d(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),function(e){t.postMessage(s+e,"*")}):t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,function(t){var e=f.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):function(t){setTimeout(d,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},h.clearImmediate=p}function p(t){delete c[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(1),n(9))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var t=a(h);l=!0;for(var e=c.length;e;){for(u=c,c=[];++f<e;)u&&u[f].run();f=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(2);r.__exportStar(n(2),e);var o=function(){function t(t){this.relations=i.loggerRelationsMap,this.level=t&&void 0!==t.level?t.level:i.LOGGER_LEVEL_ERROR,this.applicationType=t&&void 0!==t.applicationType?t.applicationType:"sdk",this.subscribers=t&&void 0!==t.subscribers?t.subscribers:[]}return t.prototype.updateLogLevel=function(t){this.level=t},t.prototype.updateApplicationType=function(t){this.applicationType=t},t.prototype.updateApplicationCode=function(t){this.applicationCode=t},t.prototype.updateDomain=function(t){this.domain=t},t.prototype.updateDeviceInfo=function(t){this.deviceInfo=t},t.prototype.subscribe=function(t,e){this.subscribers.push({handler:e,level:t})},t.prototype.log=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,o,s,a,u,c=this;return r.__generator(this,(function(l){switch(l.label){case 0:return e=[],n=t.options,o=r.__rest(t,["options"]),s=o,n&&(n.handler,a=r.__rest(n,["handler"]),s=r.__assign({},o,a)),u=this.getMessage(s),this.subscribers.forEach((function(n){n.level===t.type&&c.relations[n.level]<=c.relations[c.level]&&e.push(n.handler.call(null,u))})),n&&n.handler&&this.level!==i.LOGGER_LEVEL_SILENT&&n.handler.call(null,u),[4,Promise.all(e)];case 1:return l.sent(),[2]}}))}))},t.prototype.debug=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return[2,this.log({type:i.LOGGER_LEVEL_DEBUG,text:t,options:e})]}))}))},t.prototype.info=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return[2,this.log({type:i.LOGGER_LEVEL_INFO,text:t,options:e})]}))}))},t.prototype.warn=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,this.log({type:i.LOGGER_LEVEL_WARN,text:t,code:e,options:n})]}))}))},t.prototype.error=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,this.log({type:i.LOGGER_LEVEL_ERROR,text:t,code:e,options:n})]}))}))},t.prototype.fatal=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,this.log({type:i.LOGGER_LEVEL_FATAL,text:t,code:e,options:n})]}))}))},t.prototype.errorAndThrow=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,this.logAndThrow({type:i.LOGGER_LEVEL_ERROR,text:t,code:e,options:n})]}))}))},t.prototype.errorAndReject=function(t,e,n,o){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,this.logAndReject(t,{type:i.LOGGER_LEVEL_ERROR,text:e,code:n,options:o})]}))}))},t.prototype.fatalAndThrow=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,this.logAndThrow({type:i.LOGGER_LEVEL_FATAL,text:t,code:e,options:n})]}))}))},t.prototype.fatalAndReject=function(t,e,n,o){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){return[2,this.logAndReject(t,{type:i.LOGGER_LEVEL_FATAL,text:e,code:n,options:o})]}))}))},t.prototype.logAndThrow=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return[4,this.log(t)];case 1:throw n.sent(),e=new Error(t.text),t.code&&(e.code=t.code),e}}))}))},t.prototype.logAndReject=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.log(e)];case 1:return r.sent(),n=new Error(e.text),e.code&&(n.code=e.code),t(n),[2]}}))}))},t.prototype.getMessage=function(t){return r.__assign({applicationCode:this.applicationCode,domain:this.domain,applicationType:this.applicationType,deviceInfo:this.deviceInfo},t)},t}();e.Logger=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.handlerConsole=function(t){var e=t.code,n=t.text,r=t.type,i=function(t){switch(t){case"fatal":case"error":return console.error;case"warn":case"info":case"debug":return console.log}}(r);console.groupCollapsed(r),i(e?e+": "+n:n),console.groupEnd()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.handlerSematext=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s;return r.__generator(this,(function(a){switch(a.label){case 0:for(s in e=t.text,n=t.type,i=r.__rest(t,["text","type"]),o="https://logsene-receiver.eu.sematext.com/0ebd661c-f417-4b86-aa50-223165ac1047/"+n,i)i.hasOwnProperty(s)&&"object"==typeof i[s]&&(i[s]=JSON.stringify(i[s]));return[4,fetch(o,{method:"POST",body:JSON.stringify(r.__assign({message:e},i))})];case 1:return a.sent(),[2]}}))}))}}])},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(8),u=n(3),c=n(4),l=n(1),f=n(6),h=n(13),p=n(2),d=function(){function t(t,e,n){void 0===n&&(n=new p.default),this.apiParams=t,this.lastOpenMessage=e,this.timezone=60*-(new Date).getTimezoneOffset(),this.doPushwooshApiMethod=h.default,this.paramsModule=n}return Object.defineProperty(t.prototype,"params",{get:function(){return console.error('Property "Pushwoosh.api.params" will be deprecated in next minor version. Instead, use the async method "Pushwoosh.api.getParams()"'),u.sendInternalPostEvent({hwid:this.apiParams.hwid,userId:this.apiParams.userId,device_type:this.apiParams.deviceType,event:"API Params",attributes:{app_code:this.apiParams.applicationCode,device_type:this.apiParams.deviceType,url:this.apiParams.applicationCode+" - "+(location?location.href:"none")}}),this.apiParams},enumerable:!0,configurable:!0}),t.prototype.getParams=function(){return i(this,void 0,void 0,(function(){var t,e,n,i,a;return o(this,(function(o){switch(o.label){case 0:return[4,l.keyValue.getAll()];case 1:return t=o.sent(),e=s.KEY_API_PARAMS,n=t[e],i=s.KEY_INIT_PARAMS,a=t[i],[2,r({},n,a)]}}))}))},t.prototype.callAPI=function(t,e){return i(this,void 0,void 0,(function(){var n,h,p,d,g,v,m,y,b,_=this;return o(this,(function(w){switch(w.label){case 0:return[4,this.getParams()];case 1:return n=w.sent(),[4,l.keyValue.get(s.KEY_DEVICE_DATA_REMOVED)];case 2:return w.sent()?[4,a.sendFatalLogToRemoteServer({message:"Error in callAPI",code:"FATAL-API-001",error:"Device data is removed",applicationCode:n.applicationCode,deviceType:n.deviceType})]:[3,4];case 3:return w.sent(),f.default.write("error","Device data has been removed"),[2];case 4:return h=n.hwid,p=void 0===h?"":h,d=n.applicationCode,g=void 0===d?"":d,v=n.userId,m=void 0===v?"":v,c.default.isSafari&&!p?[2]:(y=e&&e.userId,b={hwid:p,application:g,userId:y||m||p,device_type:n.deviceType,v:u.getVersion()},[2,this.doPushwooshApiMethod(t,r({},e,b)).catch((function(t){return i(_,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,a.sendFatalLogToRemoteServer({message:"Error in callAPI",code:"FATAL-API-002",error:t,applicationCode:n.applicationCode,deviceType:n.deviceType})];case 1:return e.sent(),[2]}}))}))}))])}}))}))},t.prototype.registerDevice=function(){return i(this,void 0,void 0,(function(){var t,e;return o(this,(function(n){switch(n.label){case 0:return[4,this.getParams()];case 1:if(!(t=n.sent()).pushToken||c.default.isSafari)return[2];n.label=2;case 2:return n.trys.push([2,5,,6]),[4,l.keyValue.get(s.KEY_COMMUNICATION_ENABLED)];case 3:return 0!==n.sent()?[4,this.callAPI("registerDevice",{push_token:t.pushToken,public_key:t.publicKey,auth_token:t.authToken,fcm_token:t.fcmToken,fcm_push_set:t.fcmPushSet,language:t.tags.Language,timezone:this.timezone,device_model:t.tags["Device Model"]})]:(f.default.write("error","Communication is disabled"),[2]);case 4:return n.sent(),localStorage.setItem(s.KEY_DEVICE_REGISTRATION_STATUS,s.DEVICE_REGISTRATION_STATUS_REGISTERED),[3,6];case 5:return e=n.sent(),f.logAndThrowError(e),[3,6];case 6:return[2]}}))}))},t.prototype.unregisterDevice=function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:if(c.default.isSafari)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.callAPI("unregisterDevice")];case 2:return e.sent(),localStorage.setItem(s.KEY_DEVICE_REGISTRATION_STATUS,s.DEVICE_REGISTRATION_STATUS_UNREGISTERED),[3,4];case 3:return t=e.sent(),f.logAndThrowError(t),[3,4];case 4:return[2]}}))}))},t.prototype.registerUser=function(t){return i(this,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,this.getParams()];case 1:return(e=r.sent()).userId||t?(n={timezone:this.timezone,userId:t||e.userId},[4,this.paramsModule.setUserId(n.userId||"")]):[2];case 2:return r.sent(),[4,l.keyValue.extend(s.KEY_INIT_PARAMS,u.validateParams(n))];case 3:return r.sent(),this.callAPI("registerUser",n),[2]}}))}))},t.prototype.applicationOpen=function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,this.getParams()];case 1:return t=e.sent(),this.callAPI("applicationOpen",{push_token:t.pushToken,timezone:this.timezone}),[2]}}))}))},t.prototype.setTags=function(t){return this.callAPI("setTags",{tags:t})},t.prototype.getTags=function(){return this.callAPI("getTags")},t.prototype.pushStat=function(t){return this.callAPI("pushStat",{hash:t})},t.prototype.messageDeliveryEvent=function(t){return this.callAPI("messageDeliveryEvent",{hash:t})},t.prototype.postEvent=function(t,e){var n=this.lastOpenMessage,i=new Date,o=i.getTime(),s=Math.floor(o/1e3),a=s-i.getTimezoneOffset()/60*3600;if(n.expiry>Date.now()){if(e.msgHash)return Promise.reject("attribute msgHash already defined");e=r({},e,{msgHash:n.messageHash})}return this.callAPI("postEvent",{event:t,attributes:e,timestampUTC:s,timestampCurrent:a})},t.prototype.triggerEvent=function(t,e){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return e?[4,l.keyValue.get(e)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n=null,r.label=3;case 3:return e&&n?[2]:[4,this.callAPI("triggerEvent",t)];case 4:return r.sent(),e&&l.keyValue.set(e,1),[2]}}))}))},t.prototype.checkDevice=function(t,e){return this.callAPI("checkDevice",{application:t,hwid:e})},t}();e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(22),i=n(23),o=n(5),s=function(){function t(t){void 0===t&&(t=new o.default),this.migrations={initial:r.default,"2018/11/26":i.default},this.dateModule=t}return Object.defineProperty(t.prototype,"initial",{get:function(){return this.migrations.initial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateSorted",{get:function(){var t=this;return Object.keys(this.migrations).filter((function(t){return"initial"!==t})).sort((function(t,e){var n=new o.default(new Date(t)),r=new o.default(new Date(e));return n.getTimestamp()-r.getTimestamp()})).map((function(e){return t.migrations[e]}))},enumerable:!0,configurable:!0}),t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(7);e.default=[r.storeCreatorDecorator(i.STORE_NAME_KEY_VALUE,(function(t){t.createObjectStore(i.STORE_NAME_KEY_VALUE,{keyPath:"key"})})),r.storeCreatorDecorator(i.STORE_NAME_MAIN_LOG,(function(t){var e=t.createObjectStore(i.STORE_NAME_MAIN_LOG,{keyPath:i.KEY_PATH_BASE_INCREMENT,autoIncrement:!0});e.createIndex("environment","environment",{unique:!1}),e.createIndex("date","date",{unique:!1}),e.createIndex("type","type",{unique:!1})})),r.storeCreatorDecorator(i.STORE_NAME_MESSAGE_LOG,(function(t){t.createObjectStore(i.STORE_NAME_MESSAGE_LOG,{keyPath:i.KEY_PATH_BASE_INCREMENT,autoIncrement:!0}).createIndex("date","date",{unique:!1})}))]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11),i=n(7);e.default=[r.storeCreatorDecorator(i.STORE_NAME_INBOX_MESSAGES,(function(t){var e=t.createObjectStore(i.STORE_NAME_INBOX_MESSAGES,{keyPath:"inbox_id",autoIncrement:!1});e.createIndex("status","status",{unique:!1,multiEntry:!0}),e.createIndex("rt","rt",{unique:!1,multiEntry:!0})}))]},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=function(){function t(){}return t.prototype.buildApiUrl=function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,t];case 1:return[2,(e=n.sent())&&-1===e.indexOf(".")?"https://"+e+".api.pushwoosh.com/json/1.3/":o.DEFAULT_API_URL]}}))}))},t}();e.default=s},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),s=n(10),a=n(26),u=function(){function t(){}return t.prototype.dbVersionChangeHandler=function(t,e){console.info("onversionchange",e),t.close()},t.prototype.dbRequestSuccessHandler=function(t,e){var n=this,r=e.target.result;r.onversionchange=function(t){n.dbVersionChangeHandler(r,t)},t(r)},t.prototype.dbRequestUpgradeNeededHandler=function(t){var e=this,n=t.target.result;n.onversionchange=function(t){e.dbVersionChangeHandler(n,t)},new s.default(n).applyMigrations()},t.prototype.getDB=function(){var t=this;return new Promise((function(e,n){var r=indexedDB.open("PUSHWOOSH_SDK_STORE",o.default);r.onsuccess=function(n){t.dbRequestSuccessHandler(e,n)},r.onupgradeneeded=function(e){t.dbRequestUpgradeNeededHandler(e)},r.onerror=function(){return n(r.error)}}))},t.prototype.put=function(t,e,n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return[4,this.getDB()];case 1:return r=i.sent(),[4,new a.default(r,t).put(e,n)];case 2:return o=i.sent(),r.close(),[2,o]}}))}))},t.prototype.delete=function(t,e){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,this.getDB()];case 1:return n=i.sent(),[4,new a.default(n,t).delete(e)];case 2:return r=i.sent(),n.close(),[2,r]}}))}))},t.prototype.get=function(t,e,n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return[4,this.getDB()];case 1:return r=i.sent(),[4,new a.default(r,t).get(e,n)];case 2:return o=i.sent(),r.close(),[2,o]}}))}))},t.prototype.getAll=function(t){return r(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.getDB()];case 1:return e=r.sent(),[4,new a.default(e,t).getAll()];case 2:return n=r.sent(),e.close(),[2,n||[]]}}))}))},t.prototype.count=function(t,e){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,this.getDB()];case 1:return n=i.sent(),[4,new a.default(n,t).count(e)];case 2:return r=i.sent(),n.close(),[2,r]}}))}))},t.prototype.countByIndex=function(t,e,n){return r(this,void 0,void 0,(function(){var r,o,s;return i(this,(function(i){switch(i.label){case 0:return[4,this.getDB()];case 1:return r=i.sent(),(o=new a.default(r,t)).index=e,[4,o.countByIndex(n)];case 2:return s=i.sent(),r.close(),[2,s]}}))}))},t}();e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){this.name=e,this.store=t.transaction(this.name,"readwrite").objectStore(this.name)}return Object.defineProperty(t.prototype,"index",{set:function(t){this.store.indexNames.contains(t)?this._index=this.store.index(t):console.warn('Index "'+t+'" in ')},enumerable:!0,configurable:!0}),t.prototype.writeRequestPromise=function(t,e){return new Promise((function(n,r){t.onsuccess=function(){n(e)},t.onerror=function(){r(t.error)}}))},t.prototype.readRequestPromise=function(t,e){return new Promise((function(n,r){t.onsuccess=function(t){var r=t.target;n(r.result||e)},t.onerror=function(){r(t.error)}}))},t.prototype.put=function(t,e){var n=this.store.put(t,e);return this.writeRequestPromise(n,e)},t.prototype.add=function(t,e){return this.put(t,e)},t.prototype.delete=function(t){var e=this.store.delete(t);return this.writeRequestPromise(e)},t.prototype.get=function(t,e){var n=this.store.get(t);return this.readRequestPromise(n,e)},t.prototype.getAll=function(){var t=this.store.openCursor(),e=[];return new Promise((function(n,r){t.onsuccess=function(t){var r=t.target.result;r?(e.push(r.value),r.continue()):n(e)},t.onerror=function(){r(t.error)}}))},t.prototype.count=function(t){var e=this.store.count(t);return this.readRequestPromise(e,0)},t.prototype.countByIndex=function(t){var e=this._index.count(t);return this.readRequestPromise(e,0)},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BELL_POSITION_BOTTOM_RIGHT="bottomRight",e.BELL_POSITION_BOTTOM_LEFT="bottomLeft",e.BELL_POSITION_TOP_RIGHT="topRight",e.BELL_POSITION_TOP_LEFT="topLeft",e.WIDGET_CONTAINER_ID="pushwooshBellWidget",e.SUBSCRIBE_WIDGET_DEFAULT_CONFIG={position:e.BELL_POSITION_BOTTOM_LEFT,bgColor:"#12AE7E",bellColor:"white",bellStrokeColor:"#08754f",bellButtonBorder:"1px solid #379676",shadow:"0px 0px 6px rgba(0, 0, 0, 0.75)",size:"48px",indent:"20px",zIndex:"999999",tooltipText:{successSubscribe:"You are successfully subscribed!",needSubscribe:"Get notifications about important news!",blockSubscribe:"Click to see how to get notifications",alreadySubscribed:"You are already subscribed"}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(29);var r=n(30);e.Pushwoosh=r.default,n(35),n(41),n(43)},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",(function(){return c})),n.d(e,"Request",(function(){return v})),n.d(e,"Response",(function(){return y})),n.d(e,"DOMException",(function(){return _})),n.d(e,"fetch",(function(){return w}));var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function c(t){this.map={},t instanceof c?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function h(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||o(t))?this._bodyArrayBuffer=p(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=f(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(t,e){t=s(t),e=a(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},c.prototype.delete=function(t){delete this.map[s(t)]},c.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},c.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},c.prototype.set=function(t,e){this.map[s(t)]=a(e)},c.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},c.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),u(t)},c.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},c.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),u(t)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var n=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new c(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new c(e.headers)),this.method=function(t){var e=t.toUpperCase();return g.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new c(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},d.call(v.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var b=[301,302,303,307,308];y.redirect=function(t,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})};var _=self.DOMException;try{new _}catch(x){(_=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function w(t,e){return new Promise((function(n,i){var o=new v(t,e);if(o.signal&&o.signal.aborted)return i(new _("Aborted","AbortError"));var s=new XMLHttpRequest;function a(){s.abort()}s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:function(t){var e=new c;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;n(new y(e,t))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new _("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",a),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",a)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=c,self.Request=v,self.Response=y)},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),a=n(31),u=n(20),c=n(3),l=n(4),f=n(0),h=n(6),p=n(32),d=n(33),g=n(34),v=n(1),m=n(2),y=n(14),b=n(18);c.patchPromise();var _=function(){function t(t,e,n,r){var s;void 0===t&&(t=new m.default),void 0===e&&(e=new y.default),void 0===n&&(n=new b.default),void 0===r&&(r=new l.PlatformChecker);var u=this;this._ee=new a.default,this._isNeedResubscribe=!1,this.ready=!1,this.debug={showLog:function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,v.log.getAll()];case 1:return t=e.sent(),console.log(t),[2]}}))}))},showKeyValues:function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,v.keyValue.getAll()];case 1:return t=e.sent(),console.log(t),[2]}}))}))},showMessages:function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,v.message.getAll()];case 1:return t.sent().forEach((function(t){return console.log(t)})),[2]}}))}))}},this.pwinbox=n,this.inboxModel=e,this.paramsModule=t,this.platformChecker=r,this._onPromises={},this.platformChecker.isAvailablePromise&&(this._onPromises=((s={})[f.EVENT_ON_PERMISSION_DENIED]=new Promise((function(t){return u._ee.once(f.EVENT_ON_PERMISSION_DENIED,t)})),s[f.EVENT_ON_PERMISSION_PROMPT]=new Promise((function(t){return u._ee.once(f.EVENT_ON_PERMISSION_PROMPT,t)})),s[f.EVENT_ON_PERMISSION_GRANTED]=new Promise((function(t){return u._ee.once(f.EVENT_ON_PERMISSION_GRANTED,t)})),s)),this.onServiceWorkerMessage=this.onServiceWorkerMessage.bind(this)}return t.prototype.onReadyHandler=function(t){var e=this;this.ready?t(this.api):this._ee.on(f.EVENT_ON_READY,(function(n){return t(e.api,n)}))},t.prototype.push=function(t){return i(this,void 0,void 0,(function(){var e,n,r,i=this;return o(this,(function(o){switch(o.label){case 0:return"function"!=typeof t?[3,1]:(this.onReadyHandler(t),[3,15]);case 1:if(!Array.isArray(t))return[3,14];switch(e=t[0],n=t[1],e){case"init":return[3,2];case f.EVENT_ON_READY:return[3,9];case f.EVENT_ON_REGISTER:case f.EVENT_ON_SUBSCRIBE:case f.EVENT_ON_UNSUBSCRIBE:case f.EVENT_ON_SW_INIT_ERROR:case f.EVENT_ON_PUSH_DELIVERY:case f.EVENT_ON_NOTIFICATION_CLICK:case f.EVENT_ON_NOTIFICATION_CLOSE:case f.EVENT_ON_CHANGE_COMMUNICATION_ENABLED:case f.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:case f.EVENT_ON_UPDATE_INBOX_MESSAGES:return[3,10];case f.EVENT_ON_PERMISSION_DENIED:case f.EVENT_ON_PERMISSION_PROMPT:case f.EVENT_ON_PERMISSION_GRANTED:return[3,11]}return[3,12];case 2:if("object"!=typeof n)return[3,13];if(!this.platformChecker.isAvailableNotifications)return[3,7];o.label=3;case 3:return o.trys.push([3,5,,6]),this.initFacebook(n),[4,this.init(n)];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),h.default.write("info","Pushwoosh init failed",r),[3,6];case 6:return[3,8];case 7:this.initFacebook(n),h.default.write("info","This browser does not support pushes"),o.label=8;case 8:return[3,13];case 9:return"function"!=typeof n?[3,13]:(this.onReadyHandler(n),[3,13]);case 10:return"function"!=typeof n?[3,13]:(this._ee.on(e,(function(t){return n(i.api,t)})),[3,13]);case 11:return"function"!=typeof n?[3,13]:(this._onPromises[e]&&this._onPromises[e].then((function(){return n(i.api)})),[3,13]);case 12:throw new Error("unknown command");case 13:return[3,15];case 14:throw new Error("invalid command");case 15:return[2]}}))}))},t.prototype.initFacebook=function(t){var e=r({enable:!1,pageId:"",containerClass:""},t.facebook);if(e&&e.enable)try{new g.default({pageId:e.pageId,containerClass:e.containerClass,applicationCode:t.applicationCode,userId:t.userId||""})}catch(n){h.default.write("error",n,"facebook module initialization failed")}},t.prototype.init=function(t){return i(this,void 0,void 0,(function(){var e,n,i,s,a,u,l,g,v,m,y,b,_,w,x,E=this;return o(this,(function(o){switch(o.label){case 0:if(this._initParams=t,e=t.scope,n=t.applicationCode,i=t.pushwooshApiUrl,s=t.userId,a=void 0===s?"":s,u=t.logLevel,l=void 0===u?"error":u,!n)throw new Error("no application code");return[4,this.getParams()];case 1:return(g=o.sent()).applicationCode&&g.applicationCode!==n&&(this._isNeedResubscribe=!0),[4,this.paramsModule.setAppCode(n)];case 2:return o.sent(),[4,this.paramsModule.setApiUrl(i)];case 3:return o.sent(),[4,this.paramsModule.setUserId(a)];case 4:return o.sent(),[4,this.paramsModule.setDefaultNotificationImage(t.defaultNotificationImage||"")];case 5:return o.sent(),[4,this.paramsModule.setDefaultNotificationTitle(t.defaultNotificationTitle||"")];case 6:return o.sent(),[4,this.paramsModule.apiUrl];case 7:if(v=o.sent(),m=this.params=r({autoSubscribe:!0,serviceWorkerUrl:null,pushwooshUrl:v},t,{deviceType:this.platformChecker.platform,tags:r({Language:navigator.language||"en"},t.tags,{"Device Model":this.platformChecker.browserVersion}),driversSettings:{worker:r({serviceWorkerUrl:f.DEFAULT_SERVICE_WORKER_URL,applicationServerPublicKey:void 0},t.driversSettings&&t.driversSettings.worker)},subscribeWidget:r({enable:!1},t.subscribeWidget),inboxWidget:r({enable:!1},t.inboxWidget),subscribePopup:r({enable:!1},t.subscribePopup)}),this.subscribeWidgetConfig=m.subscribeWidget,this.inboxWidgetConfig=m.inboxWidget,this.subscribePopupConfig=m.subscribePopup,y=localStorage.getItem(f.MANUAL_SET_LOGGER_LEVEL),h.default.setLevel(y||l),!this.platformChecker.isAvailableServiceWorker)return[3,13];b=m.driversSettings.worker,this.driver=new p.default({eventEmitter:this._ee,scope:e,applicationCode:n,serviceWorkerUrl:m.serviceWorkerUrl,applicationServerPublicKey:b.applicationServerPublicKey}),o.label=8;case 8:return o.trys.push([8,11,,12]),this.driver&&this.driver.initWorker?[4,this.driver.initWorker()]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,12];case 11:return _=o.sent(),h.default.write("error",_,"driver initialization failed"),[3,12];case 12:return[3,14];case 13:if(!this.platformChecker.isSafari||!m.safariWebsitePushID)throw new Error("can't initialize safari");this.driver=new d.default({eventEmitter:this._ee,applicationCode:n,pushwooshUrl:v,pushwooshApiUrl:m.pushwooshApiUrl,webSitePushID:m.safariWebsitePushID}),this._ee.on(f.EVENT_ON_READY,(function(){var t=/#P(.*)/,e=decodeURIComponent(document.location.hash);t.test(e)&&E.api.pushStat(t.exec(e)[1]).then(c.clearLocationHash)})),o.label=14;case 14:return o.trys.push([14,16,,17]),[4,this.defaultProcess()];case 15:return o.sent(),"serviceWorker"in navigator&&(navigator.serviceWorker.onmessage=this.onServiceWorkerMessage),[3,17];case 16:return w=o.sent(),h.default.write("error",w,"defaultProcess fail"),[3,17];case 17:return localStorage.setItem("pushwoosh-websdk-status","init"),x=new CustomEvent("pushwoosh.initialized",{detail:{pw:this}}),document.dispatchEvent(x),[2]}}))}))},t.prototype.onServiceWorkerMessage=function(t){var e=(t||{}).data,n=(void 0===e?{}:e)||{},r=n.type,i=void 0===r?"":r,o=n.payload,s=void 0===o?{}:o;this._ee.emit(i,s)},t.prototype.initApi=function(){return i(this,void 0,void 0,(function(){var t,e,n,i;return o(this,(function(o){switch(o.label){case 0:return t=this.params,[4,this.driver.getAPIParams()];case 1:return e=o.sent(),[4,v.keyValue.get(f.KEY_LAST_OPEN_MESSAGE)];case 2:return n=o.sent()||{},i=r({},e,{deviceType:t.deviceType,deviceModel:t.tags["Device Model"],applicationCode:t.applicationCode,language:t.tags.Language}),t.userId&&(i.userId=t.userId),[4,Promise.all([v.keyValue.extend(f.KEY_INIT_PARAMS,c.validateParams(this.params)),v.keyValue.extend(f.KEY_API_PARAMS,e)])];case 3:return o.sent(),this.api=new u.default(i,n),[2]}}))}))},t.prototype.subscribe=function(){return i(this,void 0,void 0,(function(){var t,e;return o(this,(function(n){switch(n.label){case 0:return[4,this.isCommunicationEnabled()];case 1:if(!n.sent())return h.default.write("error","Communication is disabled"),[2];n.label=2;case 2:return n.trys.push([2,9,,10]),[4,this.driver.isSubscribed()];case 3:return t=n.sent(),[4,v.keyValue.get(f.MANUAL_UNSUBSCRIBE)];case 4:return n.sent()?[2]:[4,this.driver.askSubscribe(this.isDeviceRegistered())];case 5:return n.sent(),[4,this.registerDuringSubscribe()];case 6:return n.sent(),t?[3,8]:[4,this.onSubscribeEmitter()];case 7:n.sent(),n.label=8;case 8:return[3,10];case 9:return e=n.sent(),h.default.write("error",e,"subscribe fail"),[3,10];case 10:return[2]}}))}))},t.prototype.forceSubscribe=function(){return i(this,void 0,void 0,(function(){var t,e;return o(this,(function(n){switch(n.label){case 0:return[4,this.isCommunicationEnabled()];case 1:if(!n.sent())return h.default.write("error","Communication is disabled"),[2];n.label=2;case 2:return n.trys.push([2,8,,9]),[4,this.driver.isSubscribed()];case 3:return t=n.sent(),[4,this.driver.askSubscribe(this.isDeviceRegistered())];case 4:return n.sent(),[4,this.registerDuringSubscribe()];case 5:return n.sent(),t?[3,7]:[4,this.onSubscribeEmitter()];case 6:n.sent(),n.label=7;case 7:return[3,9];case 8:return e=n.sent(),h.default.write("error",e,"subscribe fail"),[3,9];case 9:return[2]}}))}))},t.prototype.registerDuringSubscribe=function(){return i(this,void 0,void 0,(function(){var t,e;return o(this,(function(n){switch(n.label){case 0:return[4,this.driver.isSubscribed()];case 1:return t=n.sent(),this.platformChecker.isSafari?[4,this.needForcedOpen()]:[3,5];case 2:return e=n.sent(),[4,this.open(e)];case 3:return n.sent(),[4,this.inboxModel.updateMessages()];case 4:n.sent(),n.label=5;case 5:return[4,this.register(t)];case 6:return n.sent(),[2]}}))}))},t.prototype.onSubscribeEmitter=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.driver.isSubscribed()];case 1:return t.sent()&&this._ee.emit(f.EVENT_ON_SUBSCRIBE),[2]}}))}))},t.prototype.unsubscribe=function(t){return void 0===t&&(t=!0),i(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this.driver.unsubscribe()];case 1:return n.sent(),[4,this.api.unregisterDevice()];case 2:return n.sent(),t&&this._ee.emit(f.EVENT_ON_UNSUBSCRIBE),[3,4];case 3:return e=n.sent(),h.default.write("error",e,"Error occurred during the unsubscribe"),[3,4];case 4:return[2]}}))}))},t.prototype.isDeviceRegistered=function(){return localStorage.getItem(f.KEY_DEVICE_REGISTRATION_STATUS)===f.DEVICE_REGISTRATION_STATUS_REGISTERED},t.prototype.isDeviceUnregistered=function(){return localStorage.getItem(f.KEY_DEVICE_REGISTRATION_STATUS)===f.DEVICE_REGISTRATION_STATUS_UNREGISTERED},t.prototype.isSubscribed=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){return[2,(this.platformChecker.isSafari||this.isDeviceRegistered())&&this.driver.isSubscribed()||!1]}))}))},t.prototype.register=function(t){return i(this,void 0,void 0,(function(){var e,n,i,s,a,u,l,h,p;return o(this,(function(o){switch(o.label){case 0:if(!this.api)throw new Error("API is not inited");return[4,this.isCommunicationEnabled()];case 1:return o.sent()?[4,v.keyValue.getAll()]:[2];case 2:return e=o.sent(),n=f.KEY_SDK_VERSION,i=e[n],s=f.KEY_API_PARAMS,a=e[s],u=f.KEY_INIT_PARAMS,l=e[u],[4,this.driver.getAPIParams()];case 3:return h=o.sent(),p=this.params,c.getVersion()!==i||JSON.stringify(a)!==JSON.stringify(h)||JSON.stringify(l.tags)!==JSON.stringify(p.tags)||t?[4,Promise.all([v.keyValue.set(f.KEY_API_PARAMS,h),v.keyValue.extend(f.KEY_INIT_PARAMS,{tags:p.tags}),v.keyValue.set(f.KEY_SDK_VERSION,c.getVersion())])]:[3,6];case 4:return o.sent(),[4,Promise.all([this.api.registerDevice(),this.api.setTags(r({},p.tags)),this.api.registerUser()])];case 5:o.sent(),this._ee.emit(f.EVENT_ON_REGISTER),o.label=6;case 6:return[2]}}))}))},t.prototype.isCommunicationEnabled=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,v.keyValue.get(f.KEY_COMMUNICATION_ENABLED)];case 1:return[2,0!==t.sent()]}}))}))},t.prototype.setCommunicationEnabled=function(t){return void 0===t&&(t=!0),i(this,void 0,void 0,(function(){var e;return o(this,(function(n){switch(n.label){case 0:if(!this.api)throw new Error("API is not inited");return[4,this.getParams()];case 1:return e=n.sent().deviceType,[4,this.api.postEvent(f.EVENT_GDPR_CONSENT,{channel:!!t,device_type:e})];case 2:return n.sent(),[4,v.keyValue.set(f.KEY_COMMUNICATION_ENABLED,t?1:0)];case 3:return n.sent(),this._ee.emit(f.EVENT_ON_CHANGE_COMMUNICATION_ENABLED,!!t),t?[2,this.api.registerDevice()]:[2,this.api.unregisterDevice()]}}))}))},t.prototype.removeAllDeviceData=function(){return i(this,void 0,void 0,(function(){var t,e,n;return o(this,(function(r){switch(r.label){case 0:if(!this.api)throw new Error("API is not inited");return[4,this.getParams()];case 1:return t=r.sent().deviceType,[4,this.api.getTags()];case 2:return e=r.sent(),n=Object.keys(e.result).reduce((function(t,e){return t[e]=null,t}),{}),[4,this.api.postEvent(f.EVENT_GDPR_DELETE,{status:!0,device_type:t})];case 3:return r.sent(),[4,Promise.all([this.api.setTags(n),this.api.unregisterDevice()])];case 4:return r.sent(),[2,v.keyValue.set(f.KEY_DEVICE_DATA_REMOVED,1)]}}))}))},t.prototype.open=function(t){return i(this,void 0,void 0,(function(){var e,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return[4,this.driver.getAPIParams()];case 1:return e=o.sent(),n=Date.now(),[4,v.keyValue.get(f.KEY_LAST_SENT_APP_OPEN)];case 2:return r=o.sent(),i=isNaN(r)?0:Number(r),this.platformChecker.isSafari&&!e.hwid?[2]:t||n-i>f.PERIOD_SEND_APP_OPEN?(s=[v.keyValue.set(f.KEY_LAST_SENT_APP_OPEN,n||Date.now()),this.api.applicationOpen()],[4,Promise.all(s)]):[3,4];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},t.prototype.needForcedOpen=function(){return i(this,void 0,void 0,(function(){var t,e,n,r;return o(this,(function(i){switch(i.label){case 0:return this.platformChecker.isSafari?[4,v.keyValue.get(f.KEY_SAFARI_PREVIOUS_PERMISSION)]:[2,Promise.resolve(!1)];case 1:return t=i.sent(),[4,this.driver.getPermission()];case 2:return e=i.sent(),n=function(t,e){return t!==f.PERMISSION_GRANTED&&e===f.PERMISSION_GRANTED},[4,v.keyValue.set(f.KEY_SAFARI_PREVIOUS_PERMISSION,e)];case 3:return i.sent(),r=n(this.permissionOnInit,e)||n(t,e),[2,Promise.resolve(r)]}}))}))},t.prototype.healthCheck=function(t){return i(this,void 0,void 0,(function(){var e,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,5,,8]),[4,this.api.checkDevice(this.params.applicationCode,t)];case 1:return e=o.sent(),n=e.exist,r=e.push_token_exist,n&&r?[2]:[3,2];case 2:return[4,this.api.registerDevice()];case 3:o.sent(),o.label=4;case 4:return[3,8];case 5:return i=o.sent(),[4,v.keyValue.getAll()];case 6:return a=o.sent(),[4,s.sendFatalLogToRemoteServer({message:"Error in healthCheck",code:"FATAL-API-002",error:i,applicationCode:a["params.applicationCode"],workerVersion:a.WORKER_VERSION})];case 7:return o.sent(),[3,8];case 8:return[2]}}))}))},t.prototype.defaultProcess=function(){return i(this,void 0,void 0,(function(){var t,e,n,r,i,s,a,u;return o(this,(function(o){switch(o.label){case 0:return t=(this.params||{}).autoSubscribe,e=void 0===t||t,n=this,[4,this.driver.getPermission()];case 1:return n.permissionOnInit=o.sent(),[4,this.initApi()];case 2:return o.sent(),[4,this.open()];case 3:return o.sent(),[4,this.api.getParams()];case 4:return r=o.sent(),[4,this.healthCheck(r.hwid)];case 5:return o.sent(),!this.platformChecker.isSafari||this.platformChecker.isSafari&&r.hwid?[4,this.inboxModel.updateMessages(this._ee)]:[3,7];case 6:o.sent(),o.label=7;case 7:return this.driver.isNeedUnsubscribe?[4,this.driver.isNeedUnsubscribe()]:[3,11];case 8:return o.sent()&&this.isDeviceRegistered()?[4,this.unsubscribe(!1)]:[3,11];case 9:return o.sent(),[4,v.keyValue.set(f.KEY_UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS,!0)];case 10:o.sent(),o.label=11;case 11:return this._isNeedResubscribe?[4,this.unsubscribe(!1)]:[3,13];case 12:o.sent(),o.label=13;case 13:return[4,v.keyValue.get(f.KEY_DEVICE_DATA_REMOVED)];case 14:if(o.sent())return h.default.write("error","Device data has been removed"),[2];switch(this.permissionOnInit){case f.PERMISSION_DENIED:return[3,15];case f.PERMISSION_PROMPT:return[3,18];case f.PERMISSION_GRANTED:return[3,24]}return[3,32];case 15:return this._ee.emit(f.EVENT_ON_PERMISSION_DENIED),this.platformChecker.isSafari||!this.isDeviceRegistered()?[3,17]:[4,this.unsubscribe()];case 16:o.sent(),o.label=17;case 17:return localStorage.removeItem(f.KEY_DEVICE_REGISTRATION_STATUS),[3,33];case 18:return this.platformChecker.isSafari||!this.isDeviceRegistered()?[3,20]:[4,this.unsubscribe()];case 19:o.sent(),o.label=20;case 20:return localStorage.removeItem(f.KEY_DEVICE_REGISTRATION_STATUS),!e||this.platformChecker.isSafari?[3,22]:[4,this.subscribe()];case 21:return o.sent(),[3,23];case 22:this._ee.emit(f.EVENT_ON_PERMISSION_PROMPT),o.label=23;case 23:return[3,33];case 24:return[4,this.isSubscribed()];case 25:return o.sent()?[3,27]:[4,this.subscribe()];case 26:o.sent(),o.label=27;case 27:return this._ee.emit(f.EVENT_ON_PERMISSION_GRANTED),[4,v.keyValue.get(f.KEY_UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS)];case 28:return i=o.sent(),!(this.platformChecker.isSafari||this.isDeviceRegistered()||this.isDeviceUnregistered())||this._isNeedResubscribe||i?[4,this.subscribe()]:[3,31];case 29:return o.sent(),[4,v.keyValue.set(f.KEY_UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS,!1)];case 30:o.sent(),o.label=31;case 31:return[3,33];case 32:h.default.write("error",this.permissionOnInit,"unknown permission value"),o.label=33;case 33:return[4,this.initApi()];case 34:return o.sent(),[4,this.register()];case 35:return o.sent(),[4,this.needForcedOpen()];case 36:return o.sent()?[4,this.open(!0)]:[3,38];case 37:o.sent(),o.label=38;case 38:return this._ee.emit(f.EVENT_ON_READY),this.ready=!0,[4,v.keyValue.get(f.KEY_DELAYED_EVENT)];case 39:return(s=o.sent())?(a=s.type,u=s.payload,[4,this._ee.emit(a,u)]):[3,42];case 40:return o.sent(),[4,v.keyValue.set(f.KEY_DELAYED_EVENT,null)];case 41:o.sent(),o.label=42;case 42:return[2]}}))}))},t.prototype.getHWID=function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,this.driver.getAPIParams()];case 1:return t=e.sent().hwid,[2,Promise.resolve(t)]}}))}))},t.prototype.getPushToken=function(){return i(this,void 0,void 0,(function(){var t;return o(this,(function(e){switch(e.label){case 0:return[4,this.driver.getAPIParams()];case 1:return t=e.sent().pushToken,[2,Promise.resolve(t)]}}))}))},t.prototype.getUserId=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.getParams()];case 1:return[2,t.sent().userId||this.params.userId||null]}}))}))},t.prototype.getParams=function(){return i(this,void 0,void 0,(function(){var t,e,n,i,s;return o(this,(function(o){switch(o.label){case 0:return[4,v.keyValue.getAll()];case 1:return t=o.sent(),e=f.KEY_API_PARAMS,n=t[e],i=f.KEY_INIT_PARAMS,s=t[i],[2,r({},n,s)]}}))}))},t.prototype.isAvailableNotifications=function(){return this.platformChecker.isAvailableNotifications},t}();e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this._events={}}return t.prototype.emit=function(t,e){var n=this._events[t]&&this._events[t].slice();if(n&&n.length)for(var r=0;r<n.length;r++)n[r](e)},t.prototype.on=function(t,e){return this._events[t]||(this._events[t]=[]),this._events[t].push(e),this},t.prototype.once=function(t,e){var n=this,r=!1,i=function(o){if(!r)return r=!0,n.removeListener(t,i),e(o)};return this.on(t,i)},t.prototype.removeListener=function(t,e){var n=this._events[t];if(n){var r=n.indexOf(e);r>-1&&n.splice(r,1),n.length<1&&delete this._events[t]}},t}();e.default=r},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),s=n(4),a=n(0),u=n(1),c=n(6),l=n(2),f=function(){function t(t,e){void 0===e&&(e=new l.default),this.params=t,this.paramsModule=e}return t.prototype.initWorker=function(){return r(this,void 0,void 0,(function(){var t,e,n,r,s;return i(this,(function(i){switch(i.label){case 0:return t=this.params,e=t.serviceWorkerUrl,n=t.scope,r=n?{scope:n}:void 0,s=null===e?"/"+a.DEFAULT_SERVICE_WORKER_URL+"?cache_clean="+o.generateUUID():e+"?cache_clean="+o.generateUUID(),[4,navigator.serviceWorker.register(s,r)];case 1:return i.sent(),[2]}}))}))},t.prototype.getPermission=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,Notification.permission]}))}))},t.prototype.isSubscribed=function(){return r(this,void 0,void 0,(function(){var t;return i(this,(function(e){switch(e.label){case 0:return[4,navigator.serviceWorker.getRegistration()];case 1:return(t=e.sent())?[4,t.update()]:[2,!1];case 2:return e.sent(),[4,t.pushManager.getSubscription()];case 3:return[2,!!e.sent()]}}))}))},t.prototype.emit=function(t){var e=(this.params||{}).eventEmitter;(void 0===e?{emit:function(t){return t}}:e).emit(t)},t.prototype.askSubscribe=function(t){return r(this,void 0,void 0,(function(){var e,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,navigator.serviceWorker.ready];case 1:return[4,(e=i.sent()).pushManager.getSubscription()];case 2:return(n=i.sent())&&n.unsubscribe&&t?[4,n.unsubscribe()]:[3,4];case 3:i.sent(),i.label=4;case 4:return[4,u.keyValue.get(a.KEY_DEVICE_DATA_REMOVED)];case 5:return i.sent()?(c.default.write("error","Device data has been removed"),[2]):[4,window.Notification.requestPermission()];case 6:return(r=i.sent())!==a.PERMISSION_GRANTED?[3,8]:[4,this.subscribe(e)];case 7:return[2,i.sent()];case 8:r===a.PERMISSION_DENIED&&this.emit(a.EVENT_ON_PERMISSION_DENIED),i.label=9;case 9:return[2,n]}}))}))},t.prototype.subscribe=function(t){return r(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return[4,u.keyValue.get(a.KEY_DEVICE_DATA_REMOVED)];case 1:return r.sent()?(c.default.write("error","Device data has been removed"),[2]):(e={userVisibleOnly:!0},11==s.default.platform&&this.params.applicationServerPublicKey&&(e.applicationServerKey=o.urlB64ToUint8Array(this.params.applicationServerPublicKey)),[4,t.pushManager.subscribe(e)]);case 2:return n=r.sent(),[4,u.keyValue.set(a.MANUAL_UNSUBSCRIBE,0)];case 3:return r.sent(),this.emit(a.EVENT_ON_PERMISSION_GRANTED),[4,this.getFCMToken()];case 4:return r.sent(),[2,n]}}))}))},t.prototype.unsubscribe=function(){return r(this,void 0,void 0,(function(){var t,e;return i(this,(function(n){switch(n.label){case 0:return[4,navigator.serviceWorker.getRegistration()];case 1:return(t=n.sent())?[4,t.pushManager.getSubscription()]:[2,!1];case 2:return(e=n.sent())&&e.unsubscribe?[4,u.keyValue.set(a.MANUAL_UNSUBSCRIBE,1)]:[3,4];case 3:return n.sent(),[2,e.unsubscribe()];case 4:return[2,!1]}}))}))},t.prototype.getAPIParams=function(){return r(this,void 0,void 0,(function(){var t,e,n,r,s,c;return i(this,(function(i){switch(i.label){case 0:return[4,navigator.serviceWorker.getRegistration()];case 1:return i.sent()?[3,3]:(t=a.KEY_API_PARAMS,[4,u.keyValue.getAll()]);case 2:if(e=i.sent()[t])return[2,e];throw this.emit(a.EVENT_ON_SW_INIT_ERROR),new Error("No service worker registration");case 3:return[4,navigator.serviceWorker.ready];case 4:return[4,i.sent().pushManager.getSubscription()];case 5:return n=i.sent(),r=o.getPushToken(n),c={pushToken:r},[4,o.generateHwid(this.params.applicationCode,r)];case 6:return c.hwid=i.sent(),c.publicKey=o.getPublicKey(n),c.authToken=o.getAuthToken(n),[4,o.getFcmKey(n,"pushSet")];case 7:return c.fcmPushSet=i.sent(),[4,o.getFcmKey(n,"token")];case 8:return c.fcmToken=i.sent(),s=c,[4,this.paramsModule.setHwid(s.hwid)];case 9:return i.sent(),[2,s]}}))}))},t.prototype.getFCMToken=function(){return r(this,void 0,void 0,(function(){var t,e,n,r,s=this;return i(this,(function(i){switch(i.label){case 0:return[4,navigator.serviceWorker.getRegistration()];case 1:return t=i.sent(),e=null,t?[4,t.pushManager.getSubscription()]:[3,3];case 2:e=i.sent(),i.label=3;case 3:return[4,u.keyValue.get(a.KEY_SENDER_ID)];case 4:return(n=i.sent())?(r={endpoint:e?e.endpoint:"",encryption_key:o.getPublicKey(e),encryption_auth:o.getAuthToken(e),authorized_entity:n},[4,fetch("https://fcm.googleapis.com/fcm/connect/subscribe",{method:"post",headers:{"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(r)}).then((function(t){return s.onFCMSubscribe(t)}))]):(console.warn("SenderID can not be found"),[2]);case 5:return i.sent(),[2]}}))}))},t.prototype.onFCMSubscribe=function(t){return r(this,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:if(200!==t.status)return[3,6];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,t.json()];case 2:return e=r.sent(),[4,u.keyValue.set(a.KEY_FCM_SUBSCRIPTION,{token:e.token||"",pushSet:e.pushSet||""})];case 3:return r.sent(),[3,5];case 4:return n=r.sent(),console.warn("Can't parse FCM response",n),[3,5];case 5:return[3,7];case 6:return console.warn("Error while FCM Subscribe",t.text()),[2];case 7:return[2]}}))}))},t.prototype.isNeedUnsubscribe=function(){return r(this,void 0,void 0,(function(){var t,e;return i(this,(function(n){switch(n.label){case 0:return[4,this.checkSenderId()];case 1:return t=n.sent(),[4,this.checkFCMKeys()];case 2:return e=n.sent(),[2,!t||!e]}}))}))},t.prototype.checkFCMKeys=function(){return r(this,void 0,void 0,(function(){var t,e,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,u.keyValue.get(a.KEY_FCM_SUBSCRIPTION)];case 1:return t=i.sent()||{},e=t.pushSet,n=void 0===e?"":e,r=t.token,[2,!(!n||void 0===r||!r)]}}))}))},t.prototype.checkSenderId=function(){return r(this,void 0,void 0,(function(){var t,e,n=this;return i(this,(function(r){switch(r.label){case 0:return null===(t=document.querySelector('link[rel="manifest"]'))?(c.default.write("error","Link to manifest can not find"),[2,!1]):(e=t.getAttribute("href")||"",[4,fetch(e,{method:"get",headers:{"Content-Type":"application/json;charset=UTF-8"}}).then((function(t){return n.isSameManifest(t)}))]);case 1:return[2,r.sent()]}}))}))},t.prototype.isSameManifest=function(t){return r(this,void 0,void 0,(function(){var e,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return 200!==t.status?[3,5]:[4,t.text()];case 1:return e=i.sent(),n=/("|')?gcm_sender_id("|')?:\s*("|')?(\d+)("|')?/,r=e.match(n),o="",r&&(o=r[4]),[4,u.keyValue.get(a.KEY_SENDER_ID)];case 2:return s=i.sent(),o&&s!==o?[4,u.keyValue.set(a.KEY_SENDER_ID,o)]:[3,4];case 3:return i.sent(),[2,!1];case 4:return[2,!0];case 5:throw new Error("Cant load manifest.json")}}))}))},t}();e.default=f},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n(2),a=function(){function t(t,e){void 0===e&&(e=new s.default),this.params=t,this.paramsModule=e}return t.prototype.getPermissionObject=function(){return safari.pushNotification.permission(this.params.webSitePushID)},t.prototype.getPermission=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,this.getPermissionObject().permission]}))}))},t.prototype.isSubscribed=function(){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.getPermission()];case 1:return[2,t.sent()===o.PERMISSION_GRANTED]}}))}))},t.prototype.askSubscribe=function(){var t=this.params||{},e=t.eventEmitter,n=void 0===e?{emit:function(t){return t}}:e,r=t.applicationCode,i=void 0===r?"":r,s=t.webSitePushID,a=void 0===s?"":s;return new Promise((function(t,e){safari.pushNotification.requestPermission("https://cp.pushwoosh.com/json/1.3/safari",a,{application:i},(function(r){r.permission===o.PERMISSION_GRANTED?(n.emit(o.EVENT_ON_PERMISSION_GRANTED),t(!0)):(n.emit(o.EVENT_ON_PERMISSION_DENIED),e("Safari permission denied"))}))}))},t.prototype.unsubscribe=function(){return new Promise((function(t){return t(!0)}))},t.prototype.getAPIParams=function(){return r(this,void 0,void 0,(function(){var t,e,n,r;return i(this,(function(i){switch(i.label){case 0:return t=(this.getPermissionObject()||{}).deviceToken,n=(e=void 0===t?"":t)&&e.toLowerCase()||"",r=e&&e.toLowerCase()||"",[4,this.paramsModule.setHwid(n)];case 1:return i.sent(),[2,{hwid:n,pushToken:r}]}}))}))},t}();e.default=a},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n(3),a=n(1),u=function(){function t(t){this.userRef=s.generateUUID(),this.config=t,this.init()}return t.prototype.init=function(){this.renderCheckbox(),this.initFacebookSDK(),this.loadFacebookSDK()},t.prototype.renderCheckbox=function(){for(var t=this.config,e=t.pageId,n=t.containerClass,r=[{name:"messenger_app_id",value:o.FACEBOOK_APP_ID},{name:"class",value:"fb-messenger-checkbox"},{name:"page_id",value:e},{name:"origin",value:window.location.protocol+"//"+window.location.hostname},{name:"user_ref",value:this.userRef},{name:"allow_login",value:"true"},{name:"size",value:"large"},{name:"skin",value:"light"},{name:"center_align",value:"false"}],i=document.getElementsByClassName(n),s=function(t){var e=document.createElement("div");r.forEach((function(t){e.setAttribute(t.name,t.value)})),i[t].appendChild(e)},a=0;a<i.length;a++)s(a)},t.prototype.getHWID=function(){return r(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(r){switch(r.label){case 0:return[4,a.keyValue.get(o.FACEBOOK_HWID_KEY)];case 1:return(t=r.sent())?[3,3]:(e=this.config.applicationCode,n=e+"_"+s.generateUUID()+"_fb",[4,a.keyValue.set(o.FACEBOOK_HWID_KEY,n)]);case 2:return r.sent(),[2,n];case 3:return[2,t]}}))}))},t.prototype.userConfirm=function(){return r(this,void 0,void 0,(function(){var t,e,n,r,s,a;return i(this,(function(i){switch(i.label){case 0:return t=this.config,e=t.pageId,n=t.applicationCode,r=t.userId,s=window.FB,[4,this.getHWID()];case 1:return a=i.sent(),s&&s.AppEvents.logEvent("MessengerCheckboxUserConfirmation",null,{app_id:o.FACEBOOK_APP_ID,page_id:e,ref:JSON.stringify({applicationCode:n,userId:r,hwid:a}),user_ref:this.userRef}),[2]}}))}))},t.prototype.initFacebookSDK=function(){var t=this;window.fbAsyncInit=function(){window.FB.init({appId:o.FACEBOOK_APP_ID,xfbml:!0,version:"v3.2"}),window.FB.Event.subscribe("messenger_checkbox",(function(e){"checkbox"===e.event&&t.userConfirm()}))}},t.prototype.loadFacebookSDK=function(){var t=navigator.language||"en_US";!function(e,n,r){var i,o=e.getElementsByTagName(n)[0];e.getElementById(r)||((i=e.createElement(n)).id=r,i.src="https://connect.facebook.net/"+t+"/sdk.js",o&&o.parentNode.insertBefore(i,o))}(document,"script","facebook-jssdk")},t}();e.default=u},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n(4),a=n(27),u=n(36),c=n(37),l=n(1),f=function(){function t(t){var e=this;if(this.pw=t,s.default.isAvailableNotifications){this.clickBell=this.clickBell.bind(this),this.onSubscribeEvent=this.onSubscribeEvent.bind(this),this.onPermissionDeniedEvent=this.onPermissionDeniedEvent.bind(this),this.clickOutOfPopover=this.clickOutOfPopover.bind(this);var n=Object.assign(a.SUBSCRIBE_WIDGET_DEFAULT_CONFIG.tooltipText,this.pw.subscribeWidgetConfig.tooltipText);this.config=Object.assign(a.SUBSCRIBE_WIDGET_DEFAULT_CONFIG,this.pw.subscribeWidgetConfig),this.config.tooltipText=n,this.pw.isSubscribed().then((function(t){t||e.render()}))}else console.warn("Browser does not support push notifications")}return t.prototype.addStylesToElement=function(t,e){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))},t.prototype.createContainer=function(){var t=document.createElement("div");t.id=a.WIDGET_CONTAINER_ID,t.className="pushwoosh-subscribe-widget";var e=u.default.getBellPosition(this.config.position,this.config.indent),n=Object.assign({zIndex:this.config.zIndex},e);return this.addStylesToElement(n,t),t},t.prototype.createStyle=function(){var t=n(38),e=document.createElement("style");return e.innerHTML=t,e},t.prototype.createBell=function(){var t=document.createElement("div");t.className="pushwoosh-subscribe-widget__bell-button";var e={width:this.config.size,height:this.config.size,backgroundColor:this.config.bgColor,boxShadow:this.config.shadow,lineHeight:this.config.size,border:this.config.bellButtonBorder};return this.addStylesToElement(e,t),t.innerHTML=c.default(this.config.bellColor,this.config.bellStrokeColor),t},t.prototype.createTooltip=function(){return r(this,void 0,void 0,(function(){var t,e,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:return t=document.createElement("div"),e=u.default.getTooltipPosition(this.config.position,this.config.size),n=e[0],r=e[1],t.className="pushwoosh-subscribe-widget__tooltip pushwoosh-subscribe-widget__tooltip__"+r,this.addStylesToElement(n,t),s=(o=t).appendChild,[4,this.createTooltipContent()];case 1:return s.apply(o,[i.sent()]),[2,t]}}))}))},t.prototype.createTooltipContent=function(){return r(this,void 0,void 0,(function(){var t,e;return i(this,(function(n){switch(n.label){case 0:return t=document.createElement("div"),e=t,[4,this.tooltipTextFactory()];case 1:return e.innerText=n.sent(),t.className="pushwoosh-subscribe-widget__tooltip-content",[2,t]}}))}))},t.prototype.tooltipTextFactory=function(){return r(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(r){switch(r.label){case 0:return[4,this.pw.driver.getPermission()];case 1:return t=r.sent(),e=this.config.tooltipText,[4,l.keyValue.get(o.MANUAL_UNSUBSCRIBE)];case 2:switch(n=r.sent(),t){case o.PERMISSION_GRANTED:return[2,n?e.needSubscribe:e.alreadySubscribed];case o.PERMISSION_PROMPT:return[2,e.needSubscribe];case o.PERMISSION_DENIED:return[2,e.blockSubscribe];default:return[2,e.needSubscribe]}return[2]}}))}))},t.prototype.createPopover=function(){var t=document.createElement("div"),e=document.createElement("div"),n=u.default.getPopoverPosition(this.config.position,this.config.size),r=n[0],i=n[1];e.className="pushwoosh-subscribe-widget__popover pushwoosh-subscribe-widget__popover__"+i,t.className="pushwoosh-subscribe-widget__popover-content-wrapper",this.style.innerHTML+=u.default.getPopoverArrowPosition(this.config.position,this.config.size);var o=Object.assign({maxWidth:"calc(100vw - "+this.config.indent+" - "+this.config.indent+")"},r);return this.addStylesToElement(o,e),t.appendChild(this.createPopoverContent()),e.appendChild(t),e},t.prototype.createPopoverContent=function(){var t,e=document.createElement("div");e.className="pushwoosh-subscribe-widget__popover-content";var n=document.createElement("img");n.width=500,n.height=130;var r=document.createElement("img");return r.width=500,r.height=230,t=this.helpImageSourceFactory(),n.src=t[0],r.src=t[1],e.appendChild(n),e.appendChild(r),e},t.prototype.helpImageSourceFactory=function(){var t,e;return s.default.isOpera?[t="https://cdn.pushwoosh.com/webpush/img/opera.jpg",e="https://cdn.pushwoosh.com/webpush/img/opera_unlock.jpg"]:(11===s.default.platform?navigator.userAgent.match(/Android/i)?(t="https://cdn.pushwoosh.com/webpush/img/mobile_chrome.jpg",e="https://cdn.pushwoosh.com/webpush/img/mobile_chrome_unlock.jpg"):(t="https://cdn.pushwoosh.com/webpush/img/chrome.jpg",e="https://cdn.pushwoosh.com/webpush/img/chrome_unlock.jpg"):12===s.default.platform?(t="https://cdn.pushwoosh.com/webpush/img/FF.jpg",e="https://cdn.pushwoosh.com/webpush/img/FF_unlock.jpg"):10===s.default.platform?(t="https://cdn.pushwoosh.com/webpush/img/safari.jpg",e="https://cdn.pushwoosh.com/webpush/img/safari_unlock.jpg"):(t="https://cdn.pushwoosh.com/webpush/img/chrome.jpg",e="https://cdn.pushwoosh.com/webpush/img/chrome_unlock.jpg"),[t,e])},t.prototype.render=function(){return r(this,void 0,void 0,(function(){var t,e,n;return i(this,(function(r){switch(r.label){case 0:return this.widget=this.createContainer(),this.style=this.createStyle(),t=this.createBell(),e=this,[4,this.createTooltip()];case 1:return e.tooltip=r.sent(),n=this,[4,this.createPopover()];case 2:return n.popover=r.sent(),this.widget.appendChild(this.style),this.widget.appendChild(t),this.widget.appendChild(this.tooltip),this.widget.appendChild(this.popover),document.body.appendChild(this.widget),t.addEventListener("click",this.clickBell),this.pw.push(["onSubscribe",this.onSubscribeEvent]),this.pw.push(["onPermissionDenied",this.onPermissionDeniedEvent]),window.addEventListener("click",this.clickOutOfPopover),[4,this.triggerPwEvent(o.EVENT_SHOW_SUBSCRIBE_BUTTON,o.KEY_SHOW_SUBSCRIBE_WIDGET)];case 3:return r.sent(),[2]}}))}))},t.prototype.toggleHelpPopover=function(){this.popover.classList.toggle("pushwoosh-subscribe-widget__popover__visible")},t.prototype.clickBell=function(){return r(this,void 0,void 0,(function(){var t,e;return i(this,(function(n){switch(n.label){case 0:return[4,this.pw.driver.getPermission()];case 1:return t=n.sent(),[4,l.keyValue.get(o.MANUAL_UNSUBSCRIBE)];case 2:return e=n.sent(),[4,this.triggerPwEvent(o.EVENT_CLICK_SUBSCRIBE_BUTTON,o.KEY_CLICK_SUBSCRIBE_WIDGET)];case 3:switch(n.sent(),t){case o.PERMISSION_GRANTED:return e&&this.pw.forceSubscribe(),[2];case o.PERMISSION_PROMPT:return this.pw.subscribe(),[2];case o.PERMISSION_DENIED:return this.toggleHelpPopover(),[2];default:console.warn("Unknown browser notification permission")}return[2]}}))}))},t.prototype.onSubscribeEvent=function(){return r(this,void 0,void 0,(function(){var t,e=this;return i(this,(function(n){return null===(t=this.tooltip.querySelector("div"))?[2]:(t.innerText=this.config.tooltipText.successSubscribe,this.tooltip.classList.add("pushwoosh-subscribe-widget__tooltip__visible"),setTimeout((function(){return r(e,void 0,void 0,(function(){var e;return i(this,(function(n){switch(n.label){case 0:return this.tooltip.classList.remove("pushwoosh-subscribe-widget__tooltip__visible"),e=t,[4,this.tooltipTextFactory()];case 1:return e.innerText=n.sent(),this.widget.classList.add("pushwoosh-subscribe-widget__subscribed"),[2]}}))}))}),2e3),[2])}))}))},t.prototype.onPermissionDeniedEvent=function(){return r(this,void 0,void 0,(function(){var t,e;return i(this,(function(n){switch(n.label){case 0:return null===(t=this.tooltip.querySelector("div"))?[2]:(e=t,[4,this.tooltipTextFactory()]);case 1:return e.innerText=n.sent(),[2]}}))}))},t.prototype.clickOutOfPopover=function(t){this.popover.classList.contains("pushwoosh-subscribe-widget__popover__visible")&&!t.target.classList.contains("pushwoosh-subscribe-widget__popover")&&null===t.target.closest(".pushwoosh-subscribe-widget__popover")&&!t.target.classList.contains("pushwoosh-subscribe-widget__bell-button")&&null===t.target.closest(".pushwoosh-subscribe-widget__bell-button")&&this.popover.classList.remove("pushwoosh-subscribe-widget__popover__visible")},t.prototype.triggerPwEvent=function(t,e){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return void 0===this.pw.api?[2]:[4,this.pw.getParams()];case 1:return n=r.sent().applicationCode,this.pw.api.triggerEvent({event_id:t,application:n},e),[2]}}))}))},t}();document.addEventListener("pushwoosh.initialized",(function(t){t.detail.pw.subscribeWidgetConfig.enable&&new f(t.detail.pw)}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(27),i=function(){function t(){}return t.getBellPosition=function(t,e){var n;switch(t){case r.BELL_POSITION_BOTTOM_RIGHT:n={top:"auto",left:"auto",bottom:e,right:e};break;case r.BELL_POSITION_BOTTOM_LEFT:n={top:"auto",left:e,bottom:e,right:"auto"};break;case r.BELL_POSITION_TOP_LEFT:n={top:e,left:e,bottom:"auto",right:"auto"};break;case r.BELL_POSITION_TOP_RIGHT:n={top:e,left:"auto",bottom:"auto",right:e};break;default:n={top:"auto",left:"auto",bottom:e,right:e}}return n},t.getTooltipPosition=function(t,e){var n,i,o=parseInt(e)+12+"px";switch(t){case r.BELL_POSITION_BOTTOM_RIGHT:n={right:o},i="right";break;case r.BELL_POSITION_BOTTOM_LEFT:case r.BELL_POSITION_TOP_LEFT:n={left:o},i="left";break;case r.BELL_POSITION_TOP_RIGHT:n={right:o},i="right";break;default:n={right:o},i="right"}return[n,i]},t.getPopoverPosition=function(t,e){var n,i,o=parseInt(e)+15+"px";switch(t){case r.BELL_POSITION_BOTTOM_RIGHT:n={bottom:o,right:"0",left:"auto",top:"auto"},i="bottom";break;case r.BELL_POSITION_BOTTOM_LEFT:n={bottom:o,left:"0",right:"auto",top:"auto"},i="bottom";break;case r.BELL_POSITION_TOP_LEFT:n={top:o,left:"0",right:"auto",bottom:"auto"},i="top";break;case r.BELL_POSITION_TOP_RIGHT:n={top:o,right:"0",left:"auto",bottom:"auto"},i="top";break;default:n={bottom:o,right:"0",left:"auto",top:"auto"},i="bottom"}return[n,i]},t.getPopoverArrowPosition=function(t,e){var n;switch(t){case r.BELL_POSITION_BOTTOM_RIGHT:n="\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: "+(parseInt(e)/2-4)+"px";break;case r.BELL_POSITION_BOTTOM_LEFT:n="\n.pushwoosh-subscribe-widget__popover__bottom:after {right: auto; left: "+(parseInt(e)/2-12)+"px";break;case r.BELL_POSITION_TOP_LEFT:n="\n.pushwoosh-subscribe-widget__popover__top:after {right: auto; left: "+(parseInt(e)/2-12)+"px";break;case r.BELL_POSITION_TOP_RIGHT:n="\n.pushwoosh-subscribe-widget__popover__top:after {left: auto; right: "+(parseInt(e)/2-4)+"px";break;default:n="\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: "+(parseInt(e)/2-4)+"px"}return n},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   version="1.1"\n   id="Capa_1"\n   x="0px"\n   y="0px"\n   viewBox="0 0 346.013 346.013"\n   style="enable-background:new 0 0 346.013 346.013;width: 80%; height: auto; vertical-align: middle;"\n   xml:space="preserve"\n   inkscape:version="0.91 r13725"\n   sodipodi:docname="alarm_white.svg"><metadata\n     id="metadata51"><rdf:RDF><cc:Work\n         rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs\n     id="defs49" /><sodipodi:namedview\n     borderopacity="1"\n     objecttolerance="10"\n     gridtolerance="10"\n     guidetolerance="10"\n     inkscape:pageopacity="0"\n     inkscape:pageshadow="2"\n     inkscape:window-width="1618"\n     inkscape:window-height="828"\n     id="namedview47"\n     showgrid="false"\n     inkscape:zoom="0.6820553"\n     inkscape:cx="173.0065"\n     inkscape:cy="173.0065"\n     inkscape:window-x="0"\n     inkscape:window-y="0"\n     inkscape:window-maximized="0"\n     inkscape:current-layer="g3" /><g\n     id="g3"><path\n       d="m 256.76227,220.19006 c -1.77513,-2.69766 -3.45154,-5.24564 -3.98966,-7.46382 -0.042,-0.17861 -0.0911,-0.36128 -0.16237,-0.61436 -2.28354,-7.67647 0.69147,-24.43921 2.46886,-34.45124 0.26788,-1.50394 0.52274,-2.94197 0.75286,-4.29035 0.0232,-0.13675 0.044,-0.27211 0.0724,-0.48006 1.95582,-15.28051 2.58811,-37.91956 -5.51044,-58.99147 -5.6032,-14.57978 -14.45978,-25.82612 -26.3559,-33.48393 1.26598,-9.812938 -4.85967,-19.343691 -14.66682,-22.0511 -9.80715,-2.70741 -19.95724,2.33226 -23.90298,11.405413 -14.1382,0.467533 -27.51111,5.577097 -39.80114,15.219267 -17.76129,13.9298 -28.83431,33.68757 -34.99389,47.80757 l -0.0479,0.11335 c -0.0512,0.12175 -0.0998,0.24114 -0.13249,0.32962 -0.49733,1.28292 -1.01552,2.64514 -1.55689,4.07255 -3.61311,9.51043 -9.66004,25.42824 -15.611995,30.89342 -0.106524,0.10027 -0.208228,0.20187 -0.362362,0.35435 -1.636243,1.66563 -4.382941,2.99463 -7.288979,4.40101 -7.145531,3.45301 -22.013613,10.64166 -17.206389,31.67844 0.929154,4.07105 4.008437,7.29057 8.033861,8.40185 l 167.570804,46.2604 c 4.02253,1.11048 8.31521,-0.0729 11.2052,-3.08958 14.91617,-15.58874 5.84693,-29.38668 1.48625,-36.02133 z"\n       id="path5"\n       inkscape:connector-curvature="0"\n       vector-effect="non-scaling-stroke"\n       style="fill:'+t+"; stroke: "+e+'; stroke-width: 1; " /><path\n       vector-effect="non-scaling-stroke"\n       d="m 174.26737,259.72378 -38.76399,-10.70137 c -1.59243,-0.43962 -3.28183,-0.15596 -4.63548,0.7754 -2.53909,1.7494 -2.84182,4.93159 -3.02304,6.83188 l -0.0151,0.15247 c -1.22819,12.67106 6.79854,24.33046 19.08688,27.72284 12.51583,3.45518 25.8324,-2.91586 30.9681,-14.80385 l 0.0935,-0.19205 c 0.52305,-1.06418 1.74613,-3.55554 0.50882,-6.31116 -0.44302,-0.98439 -1.5794,-2.74529 -4.21964,-3.47416 z"\n       id="path7"\n       inkscape:connector-curvature="0"\n       style="fill:'+t+"; stroke: "+e+'; stroke-width: 1;" /></g><g\n     id="g17" /><g\n     id="g19" /><g\n     id="g21" /><g\n     id="g23" /><g\n     id="g25" /><g\n     id="g27" /><g\n     id="g29" /><g\n     id="g31" /><g\n     id="g33" /><g\n     id="g35" /><g\n     id="g37" /><g\n     id="g39" /><g\n     id="g41" /><g\n     id="g43" /><g\n     id="g45" /></svg>'}},function(t,e,n){var r=n(39);t.exports="string"==typeof r?r:r.toString()},function(t,e,n){(t.exports=n(40)(void 0)).push([t.i,'/* Widget */\n.pushwoosh-subscribe-widget {\n  position: fixed;\n  display: block;\n  -webkit-transform: translate3d(0, 0, 0);\n          transform: translate3d(0, 0, 0);\n}\n\n.pushwoosh-subscribe-widget__subscribed {\n  display: none;\n}\n\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button {\n  -webkit-border-radius: 50%;\n          border-radius: 50%;\n  cursor: pointer;\n  font-size: 0;\n  text-align: center;\n  -webkit-transform: scale(0.9) translate3d(0, 0, 0);\n          transform: scale(0.9) translate3d(0, 0, 0);\n  -webkit-transition: -webkit-transform .3s ease-in-out;\n  transition: -webkit-transform .3s ease-in-out;\n  -o-transition: transform .3s ease-in-out;\n  transition: transform .3s ease-in-out;\n  transition: transform .3s ease-in-out, -webkit-transform .3s ease-in-out;\n  position: relative;\n}\n\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button:hover {\n  -webkit-transform: scale(1);\n      -ms-transform: scale(1);\n          transform: scale(1);\n}\n\n/* Tooltip */\n.pushwoosh-subscribe-widget__tooltip {\n  position: absolute;\n  height: 48px;\n  max-width: 300px;\n  min-width: 200px;\n  padding: 5px 7px;\n  background-color: #3b444b;\n  color: #ffffff;\n  text-align: center;\n  vertical-align: middle;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  line-height: 38px;\n  font-size: 0;\n  font-weight: normal;\n  visibility: hidden;\n  opacity: 0;\n  -webkit-transition: visibility 0s ease-in .3s,\n              opacity .3s ease-in;\n  -o-transition: visibility 0s ease-in .3s,\n              opacity .3s ease-in;\n  transition: visibility 0s ease-in .3s,\n              opacity .3s ease-in;\n  top: 50%;\n  -webkit-transform: translate(0, -50%);\n      -ms-transform: translate(0, -50%);\n          transform: translate(0, -50%);\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\n          box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\n}\n\n.pushwoosh-subscribe-widget__tooltip__right:after,\n.pushwoosh-subscribe-widget__tooltip__left:after {\n  content: "";\n  top: 50%;\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n  background: #3b444b;\n}\n\n.pushwoosh-subscribe-widget__tooltip__right:after {\n  left: calc(100% - 7px);\n  border-top: 5px solid #3b444b;\n  border-left: 5px solid #3b444b;\n  border-right: 5px solid transparent;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-transform-origin: 0 0;\n      -ms-transform-origin: 0 0;\n          transform-origin: 0 0;\n  -webkit-transform: rotate(-45deg);\n      -ms-transform: rotate(-45deg);\n          transform: rotate(-45deg);\n  -webkit-box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\n          box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\n}\n\n.pushwoosh-subscribe-widget__tooltip__left:after {\n  left: -7px;\n  border-top: 5px solid #3b444b;\n  border-right: 5px solid #3b444b;\n  border-left: 5px solid transparent;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-transform-origin: 0 0;\n      -ms-transform-origin: 0 0;\n          transform-origin: 0 0;\n  -webkit-transform: rotate(-45deg);\n      -ms-transform: rotate(-45deg);\n          transform: rotate(-45deg);\n  -webkit-box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\n          box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\n}\n\n.pushwoosh-subscribe-widget__bell-button:hover + .pushwoosh-subscribe-widget__tooltip,\n.pushwoosh-subscribe-widget__tooltip.pushwoosh-subscribe-widget__tooltip__visible {\n  display: block;\n  visibility: visible;\n  opacity: 1;\n  -webkit-transition-delay: 0s;\n       -o-transition-delay: 0s;\n          transition-delay: 0s;\n}\n\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__tooltip-content {\n  display: inline-block;\n  vertical-align: middle;\n  font-size: 14px;\n  line-height: 1.4;\n  white-space: nowrap;\n  overflow: hidden;\n  padding-right: 5px;\n  -o-text-overflow: ellipsis;\n     text-overflow: ellipsis;\n  max-width: 100%;\n}\n\n/* Popover */\n\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover {\n  position: absolute;\n  right: auto;\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\n          box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background: #9ca8b1;\n  visibility: hidden;\n  opacity: 0;\n  -webkit-transition: visibility 0s ease-in .5s,\n              opacity .5s ease-in;\n  -o-transition: visibility 0s ease-in .5s,\n              opacity .5s ease-in;\n  transition: visibility 0s ease-in .5s,\n              opacity .5s ease-in;\n}\n\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover__visible {\n  display: block;\n  visibility: visible;\n  opacity: 1;\n  -webkit-transition-delay: 0s;\n       -o-transition-delay: 0s;\n          transition-delay: 0s;\n}\n\n.pushwoosh-subscribe-widget__popover__bottom:after,\n.pushwoosh-subscribe-widget__popover__top:after {\n  content: "";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n  border-right: 8px solid transparent;\n  border-left: 8px solid #9ca8b1;\n  background: #9ca8b1;\n  -webkit-transform-origin: 0 0;\n      -ms-transform-origin: 0 0;\n          transform-origin: 0 0;\n  -webkit-transform: rotate(-45deg);\n      -ms-transform: rotate(-45deg);\n          transform: rotate(-45deg);\n}\n\n.pushwoosh-subscribe-widget__popover__bottom:after {\n  border-bottom: 8px solid #9ca8b1;\n  border-top: 8px solid transparent;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\n          box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\n  bottom: -16px;\n}\n\n.pushwoosh-subscribe-widget__popover__top:after {\n  top: 0;\n  border-top: 8px solid #9ca8b1;\n  border-bottom: 8px solid transparent;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  -webkit-box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\n          box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\n}\n\n.pushwoosh-subscribe-widget__popover-content-wrapper {\n  overflow: auto;\n  max-width: 100%;\n}\n\n\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  padding: 14px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  float: left;\n  min-width: 100%;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\n  display: block;\n}\n\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\n  margin-bottom: 14px;\n}\n\n@media (max-width: 767px) and (orientation: portrait) {\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n            flex-direction: column;\n  }\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\n    max-width: 280px;\n    height: auto;\n  }\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\n    margin-right: 0;\n    margin-bottom: 14px;\n  }\n}\n@media (max-width: 767px) and (orientation: landscape) {\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n  }\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\n    max-width: 280px;\n    height: auto;\n  }\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\n    margin-right: 14px;\n    margin-bottom: 0;\n  }\n}\n',""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r=t[1]||"",i=t[3];if(!i)return r;if(e&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),s=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[r].concat(s).concat([o]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(42);document.addEventListener("pushwoosh.initialized",(function(t){t.detail.pw.pwinbox&&t.detail.pw.inboxWidgetConfig.enable&&(t.detail.pw.pwinboxWidget=new r.PWInboxWidget(t.detail.pw))}))},function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.isElementFixed=function t(e){var n="fixed"===window.getComputedStyle(e).position;return!n&&e.parentElement&&(n=t(e.parentElement)),n},e.getGlobal=function(){return Function("return this")()},e.getMessageTime=function(t){var e=new Date(t),n=e.getHours()+e.getTimezoneOffset()/60;e.setHours(n);var i=(new Date).getTime()-e.getTime();return i<=6e4?"Just now":i<r.MILLISECONDS_IN_HOUR&&i>0?Math.floor(i/6e4)+" minutes ago":i<r.MILLISECONDS_IN_DAY&&i>0?Math.floor(i/36e5)+" hours ago":e.getDate()+" "+r.MONTHS[e.getMonth()]+" "+e.getFullYear()+", "+e.getHours()+":"+("0"+e.getMinutes().toString()).slice(-2)},e.getValidColor=function(t){return"transparent"===t?t:r.COLOR_TEST_REGEXP.test(t)?t:"#333"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MILLISECONDS_IN_DAY=864e5,e.MILLISECONDS_IN_HOUR=36e5,e.MONTHS=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],e.CONFIG_STYLES=[{name:"widgetWidth",type:"size"},{name:"borderRadius",type:"size"},{name:"zIndex",type:"number"},{name:"fontFamily",type:"string"},{name:"bgColor",type:"color"},{name:"textColor",type:"color"},{name:"arrowBorderColor",type:"color"},{name:"borderColor",type:"color"},{name:"badgeBgColor",type:"color"},{name:"badgeTextColor",type:"color"},{name:"timeTextColor",type:"color"},{name:"messageTitleColor",type:"color"},{name:"emptyInboxTitleColor",type:"color"},{name:"emptyInboxTextColor",type:"color"}],e.DEFAULT_CONFIG={enable:!1,triggerId:"pwInbox",position:"bottom",appendTo:"body",title:"Inbox",bgColor:"#ffffff",textColor:"#333333",fontFamily:"inherit",borderRadius:4,borderColor:"transparent",badgeBgColor:"#ff4c00",badgeTextColor:"#ffffff",widgetWidth:350,zIndex:100,messageTitleColor:"#7a7a7a",timeTextColor:"#c4c4c4",emptyInboxTitle:"You're all caught up",emptyInboxTitleColor:"#333333",emptyInboxText:"There are no new messages. Stay tuned!",emptyInboxTextColor:"#7a7a7a",emptyInboxIconUrl:"https://pushon.pushwoosh.com/images/icon-empty-inbox.png",arrowBorderColor:"rgba(0,0,0,.1)"},e.COLOR_TEST_REGEXP=/^(#([\da-f]{3}){1,2}$|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)$|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\)$)/},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.PWInboxWidget=r.default},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(1),s=n(0),a=function(){function t(t){this.pw=t,this.config=r({},o.DEFAULT_CONFIG,{arrowBorderColor:this.pw.inboxWidgetConfig.borderColor&&"transparent"!==this.pw.inboxWidgetConfig.borderColor?this.pw.inboxWidgetConfig.borderColor:"rgba(0,0,0,.1)"},this.pw.inboxWidgetConfig),this.updateInbox=this.updateInbox.bind(this),this.markVisibleItemsAsRead=this.markVisibleItemsAsRead.bind(this),this.onWidgetClickHandler=this.onWidgetClickHandler.bind(this),this.onTriggerClickHandler=this.onTriggerClickHandler.bind(this),this.onWindowScrollHandler=this.onWindowScrollHandler.bind(this),this.toggle=this.toggle.bind(this);try{this.initTrigger(),this.updateInbox(),this.addListeners()}catch(e){console.warn(e)}}return t.prototype.toggle=function(t){(void 0===t?!this.isOpened:t)?this.openWidget():this.closeWidget()},t.prototype.initTrigger=function(){if(!this.pw.pwinbox)throw new Error("Web inbox is not allowed.");var t=document.getElementById(this.config.triggerId);if(!t)throw new Error("Inbox trigger element doesn't exist. You must set triggerId in inboxWidget config. See the documentation.");this.trigger=t,this.trigger.classList.add("pw-inbox-trigger"),this.defaultMargin=12,this.messagesElements={},this.messages=[],this.readItems=[],this.updateCounter(0),this.isOpened=!1,this.renderWidget(),this.isFixed=s.isElementFixed(this.trigger)},t.prototype.renderWidget=function(){this.widget=document.createElement("div"),this.widget.id="pwInboxWidget",this.widget.className="pw-inbox-widget",this.widget.classList.toggle("pw-open",this.isOpened),this.widgetParent=document.querySelector(this.config.appendTo)||document.body,this.widgetParent.appendChild(this.widget),this.widgetParent.appendChild(this.getStyle()),this.renderWidgetInner()},t.prototype.getStyle=function(){var t=n(5),e=document.createElement("style");return e.innerHTML=this.configureStyle(t),e},t.prototype.configureStyle=function(t){var e=this,n=t.toString();return o.CONFIG_STYLES.forEach((function(t){var r=new RegExp("var\\(--"+t.name+"\\)","ig"),i=e.getStyleFormatter(t);n=n.replace(r,i)})),n},t.prototype.getStyleFormatter=function(t){switch(t.type){case"size":return(this.config[t.name]||0)+"px";case"number":return parseFloat(this.config[t.name].toString()).toString();case"string":return this.config[t.name].toString();case"color":return s.getValidColor(this.config[t.name].toString());default:return"none"}},t.prototype.renderWidgetInner=function(){if(this.messages.length>0)this.widget.classList.remove("pw-inbox-widget--empty"),this.widget.innerHTML=i.widgetTemplate(this.config.title),this.renderMessages();else{this.widget.classList.add("pw-inbox-widget--empty");var t=this.config,e=t.emptyInboxTitle,n=t.emptyInboxText,r=t.emptyInboxIconUrl;this.widget.innerHTML=i.widgetTemplateEmpty(r,e,n)}},t.prototype.renderMessages=function(){var t=this;this.list=this.widget.querySelector(".pw-inbox_list")||document.createElement("ul"),this.messages.forEach((function(e){var n=document.createElement("li");n.className="pw-inbox_item",n.classList.toggle("pw-new",!e.isRead),n.classList.toggle("pw-unread",!e.isActionPerformed),n.setAttribute("data-pw-inbox-message-id",e.code),n.innerHTML=i.messageTemplate(e),t.list.appendChild(n),t.messagesElements[e.code]=n}))},t.prototype.updateCounter=function(t){this.count=t,this.trigger.setAttribute("data-pw-count",""+this.count),this.trigger.classList.toggle("pw-empty",0===this.count)},t.prototype.updateInboxMessages=function(t){this.messages=t,this.renderWidgetInner()},t.prototype.openWidget=function(){this.isOpened=!0,this.widget.classList.add("pw-open"),document.addEventListener("click",this.onWidgetClickHandler),window.addEventListener("scroll",this.onWindowScrollHandler),window.addEventListener("resize",this.onWindowScrollHandler),this.markVisibleItemsAsRead(),this.messages.length>0&&this.list.addEventListener("scroll",this.markVisibleItemsAsRead),this.positionWidget()},t.prototype.closeWidget=function(){this.isOpened=!1,document.removeEventListener("click",this.onWidgetClickHandler),document.removeEventListener("click",this.onWindowScrollHandler),window.removeEventListener("resize",this.onWindowScrollHandler),this.updateReadStatus(),this.messages.length>0&&this.list.removeEventListener("scroll",this.markVisibleItemsAsRead),this.widget.classList.remove("pw-open","pw-top","pw-bottom","pw-right","pw-left"),this.widget.removeAttribute("style")},t.prototype.positionWidget=function(){this.isOpened&&(this.widgetParent===document.body?this.defaultPlaceWidget():this.customPlaceWidget())},t.prototype.customPlaceWidget=function(){var t=this.config.position;this.widgetParent.style.position="relative",this.widget.classList.add("pw-inbox-widget--inset"),this.widget.classList.add("pw-"+t)},t.prototype.defaultPlaceWidget=function(){var t=this.pw.inboxWidgetConfig.position?this.config.position:this.getDefaultPosition(),e=this.widget.getBoundingClientRect();if(document.documentElement){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0);switch(e.width+2*this.defaultMargin>n&&(this.widget.style.width=n-2*this.defaultMargin+"px"),e.height+24>r&&(this.widget.style.height=r-2*this.defaultMargin+"px"),t){case"top":this.alignWidgetTop();break;case"right":this.alignWidgetRight();break;case"left":this.alignWidgetLeft();break;case"bottom":this.alignWidgetBottom()}}},t.prototype.alignWidgetTop=function(){var t=this.trigger.getBoundingClientRect(),e=this.widget.getBoundingClientRect();if(document.documentElement){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=this.widget.querySelector(".pw-inbox__arrow")||document.createElement("div");this.widget.classList.add("pw-top");var i=pageXOffset+t.left+Math.floor(t.width/2)-Math.floor(e.width/2),o=i<pageXOffset,s=i+e.width>pageXOffset+n;o&&(i=pageXOffset+this.defaultMargin),s&&(i=pageXOffset+n-e.width-this.defaultMargin);var a=pageYOffset+t.top-e.height;this.alignWidgetElement(i,a),r.style.left=t.left+Math.floor(t.width/2)-i+"px";var u=this.widget.getBoundingClientRect().top;if(u<0){var c=this.widget.getBoundingClientRect().height+u-this.defaultMargin,l=this.widget.getBoundingClientRect().top-u+this.defaultMargin;this.widget.style.height=c+"px",this.widget.style.top=l+"px"}}},t.prototype.alignWidgetRight=function(){var t=this.trigger.getBoundingClientRect(),e=this.widget.getBoundingClientRect();if(document.documentElement){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=this.widget.querySelector(".pw-inbox__arrow")||document.createElement("div");this.widget.classList.add("pw-right");var o=pageYOffset+t.top+Math.floor(t.height/2)-Math.floor(e.height/2),s=o<pageYOffset,a=pageYOffset+r<o+e.height;s&&(o=pageYOffset+this.defaultMargin),a&&(o=pageYOffset+r-e.height-this.defaultMargin);var u=pageXOffset+t.left+t.width;this.alignWidgetElement(u,o),i.style.top=t.top+Math.floor(t.height/2)-o+"px";var c=n-this.widget.getBoundingClientRect().right;if(c<this.defaultMargin){var l=this.widget.getBoundingClientRect().width+c-this.defaultMargin;this.widget.style.width=l+"px"}}},t.prototype.alignWidgetLeft=function(){var t=this.trigger.getBoundingClientRect(),e=this.widget.getBoundingClientRect();if(document.documentElement){var n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r=this.widget.querySelector(".pw-inbox__arrow")||document.createElement("div");this.widget.classList.add("pw-left");var i=pageYOffset+t.top+Math.floor(t.height/2)-Math.floor(e.height/2),o=i<pageYOffset,s=pageYOffset+n<i+e.height;o&&(i=pageYOffset+this.defaultMargin),s&&(i=pageYOffset+n-e.height-this.defaultMargin);var a=pageXOffset+t.left-e.width;this.alignWidgetElement(a,i),r.style.top=t.top+Math.floor(t.height/2)-i+"px";var u=this.widget.getBoundingClientRect().left;if(u<0){var c=this.widget.getBoundingClientRect().width+u-this.defaultMargin,l=this.widget.getBoundingClientRect().left-u;this.widget.style.width=c+"px",this.widget.style.left=l+"px"}}},t.prototype.alignWidgetBottom=function(){var t=this.trigger.getBoundingClientRect(),e=this.widget.getBoundingClientRect();if(document.documentElement){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),r=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=this.widget.querySelector(".pw-inbox__arrow")||document.createElement("div");this.widget.classList.add("pw-bottom");var o=pageXOffset+t.left+Math.floor(t.width/2)-Math.floor(e.width/2),s=o<pageXOffset,a=o+e.width>pageXOffset+n;s&&(o=pageXOffset+this.defaultMargin),a&&(o=pageXOffset+n-e.width-12);var u=pageYOffset+t.top+t.height;this.alignWidgetElement(o,u),i.style.left=t.left+Math.floor(t.width/2)-o+"px";var c=r-this.widget.getBoundingClientRect().bottom;if(c<this.defaultMargin){var l=this.widget.getBoundingClientRect().height+c-this.defaultMargin;this.widget.style.height=l+"px"}}},t.prototype.alignWidgetElement=function(t,e){this.widget.style.left=t+"px",this.widget.style.top=e+"px"},t.prototype.getDefaultPosition=function(){var t=this.trigger.getBoundingClientRect(),e=t.left,n=t.top,r=t.width,i=t.height;if(!document.documentElement)return"";var o={right:e,bottom:n,left:Math.max(document.documentElement.clientWidth,window.innerWidth||0)-(e+r),top:Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(n+i)},s=Math.min(e,n,o.left,o.top),a="bottom";return Object.keys(o).forEach((function(t){o[t]===s&&(a=t)})),a},t.prototype.addListeners=function(){var t=this;this.trigger.addEventListener("click",this.onTriggerClickHandler),this.pw.push(["onPutNewMessageToInboxStore",function(){t.updateInbox()}]),this.pw.push(["onUpdateInboxMessages",function(){t.updateInbox()}])},t.prototype.markVisibleItemsAsRead=function(){var t=this;if(0!==this.messages.length){var e=this.list.clientHeight+this.list.scrollTop-50;Object.keys(this.messagesElements).forEach((function(n){if(t.messagesElements[n]&&!(t.messagesElements[n].offsetTop>e)){var r=t.messages.find((function(t){return t.code===n}));!r||r.isRead||t.readItems.indexOf(n)+1||t.readItems.push(n)}}))}},t.prototype.updateReadStatus=function(){this.pw.pwinbox.readMessagesWithCodes(this.readItems).then(this.updateInbox)},t.prototype.updateInbox=function(){var t=this;this.pw.pwinbox.loadMessages().then((function(e){t.updateInboxMessages(e)})),this.pw.pwinbox.unreadMessagesCount().then((function(e){t.updateCounter(e)}))},t.prototype.performMessageAction=function(t){var e=this;this.pw.pwinbox.performActionForMessageWithCode(t).then((function(){e.updateInbox()}))},t.prototype.removeMessages=function(t){var e=this;t.forEach((function(t){e.readItems=e.readItems.slice(e.readItems.indexOf(t),1)})),this.pw.pwinbox.deleteMessagesWithCodes(t).then((function(){e.updateInbox()}))},t.prototype.onTriggerClickHandler=function(t){t.stopPropagation(),t.target&&this.toggle()},t.prototype.onWidgetClickHandler=function(t){if(t.target){var e=t.target.closest(".pw-inbox_item");if(e){var n=e.getAttribute("data-pw-inbox-message-id");n&&(t.target.closest(".pw-inbox_item-remove")?this.removeMessages([n]):this.performMessageAction(n))}else this.toggle()}},t.prototype.onWindowScrollHandler=function(){this.isFixed&&this.isOpened?this.toggle():this.positionWidget()},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.widgetTemplate=function(t){return'\n<div class="pw-inbox__arrow"></div>\n<div class="pw-inbox_inner">\n    <div class="pw-inbox_title">\n      '+t+'\n    </div>\n    <ul class="pw-inbox_list">\n    \n    </ul>\n</div>'},e.widgetTemplateEmpty=function(t,e,n){return'\n<div class="pw-inbox__arrow"></div>\n<div class="pw-inbox_list--empty">\n    <div class="pw-inbox_list-icon">\n      <img src="'+t+'" alt="'+e+'">\n    </div>\n    <div class="pw-inbox_list-title">\n      '+e+'\n    </div>\n    <div class="ipw-inbox_list-body">\n      '+n+"\n    </div>\n</div>"},e.messageTemplate=function(t){var e=t.imageUrl,n=t.title,i=t.message,o=t.sendDate;return'\n<div class="pw-inbox_item-inner">\n  <div class="pw-inbox_icon">\n    <img src="'+e+'" alt="'+(n||i)+'" class="pw-inbox_message-image">\n  </div>\n  <div class="pw-inbox_content">\n    '+(n?'<div class="pw-inbox_item-title">\n      '+n+"\n    </div>":null)+'\n    <div class="pw-inbox_item-body">\n      '+i+'\n    </div>\n    <div class="pw-inbox_item-time">\n      '+r.getMessageTime(o)+'\n    </div>\n  </div>\n</div>\n<span class="pw-inbox_item-remove"></span>'}},function(t,e,n){var r=n(6);t.exports="string"==typeof r?r:r.toString()},function(t,e,n){(t.exports=n(7)(void 0)).push([t.i,".pw-inbox-trigger {\n  position: relative;\n  cursor: pointer;\n}\n\n.pw-inbox-trigger:after {\n  content: attr(data-pw-count);\n  display: block;\n  position: absolute;\n  right: 0;\n  top: 0;\n  background: var(--badgeBgColor);\n  -webkit-border-radius: 8px;\n          border-radius: 8px;\n  color: var(--badgeTextColor);\n  font-size: 10px;\n  font-weight: normal;\n  line-height: 16px;\n  width: 16px;\n  padding: 0 2px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  text-align: center;\n}\n\n.pw-inbox-trigger.pw-empty:after {\n  display: none;\n}\n\n.pw-inbox-widget * {\n  position: static;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  font-size: 1em;\n  outline: none;\n  font-family: var(--fontFamily);\n}\n.pw-inbox-widget {\n  font-size: 14px;\n  position: absolute;\n  top: 0;\n  left: -1000px;\n  background: var(--bgColor);\n  border: solid 1px var(--borderColor);\n  -webkit-border-radius: var(--borderRadius);\n          border-radius: var(--borderRadius);\n  width: var(--widgetWidth);\n  -webkit-box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\n          box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\n  z-index: var(--zIndex);\n  opacity: 0;\n  -webkit-transition: opacity .6s ease;\n  -o-transition: opacity .6s ease;\n  transition: opacity .6s ease;\n  -webkit-transition-delay: 100ms;\n       -o-transition-delay: 100ms;\n          transition-delay: 100ms;\n}\n.pw-inbox-widget.pw-open {\n  opacity: 1;\n  -webkit-transition-delay: 0ms;\n       -o-transition-delay: 0ms;\n          transition-delay: 0ms;\n}\n.pw-inbox-widget.pw-inbox-widget--inset {\n  top: auto;\n  left: auto;\n  display: none;\n}\n.pw-inbox-widget.pw-inbox-widget--inset.pw-open {\n  display: block;\n}\n.pw-inbox-widget.pw-inbox-widget--inset.pw-bottom {\n  top: 100%;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n      -ms-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.pw-inbox-widget.pw-inbox-widget--inset.pw-top {\n  bottom: 100%;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n      -ms-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.pw-inbox-widget.pw-inbox-widget--inset.pw-right {\n  left: 100%;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n.pw-inbox-widget.pw-inbox-widget--inset.pw-left {\n  right: 100%;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n.pw-inbox-widget.pw-inbox-widget--empty {\n  max-height: none;\n}\n.pw-inbox-widget .pw-inbox__arrow {\n  display: block;\n  width: 0;\n  height: 0;\n  border-width: 10px;\n  border-style: solid;\n  border-color: transparent;\n  position: absolute;\n}\n.pw-inbox-widget .pw-inbox__arrow:before {\n  content: \"\";\n  display: block;\n  width: 0;\n  height: 0;\n  border-width: 10px;\n  border-style: solid;\n  border-color: transparent;\n  position: absolute;\n}\n.pw-inbox-widget.pw-top {\n  margin-top: -12px;\n}\n.pw-inbox-widget.pw-top .pw-inbox__arrow {\n  border-top-color: var(--arrowBorderColor);\n  bottom: -21px;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n      -ms-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.pw-inbox-widget.pw-top .pw-inbox__arrow:before {\n  border-top-color: var(--bgColor);\n  top: -11px;\n  left: -10px;\n}\n.pw-inbox-widget.pw-bottom {\n  margin-top: 12px;\n}\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow {\n  border-bottom-color: var(--arrowBorderColor);\n  top: -21px;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n      -ms-transform: translateX(-50%);\n          transform: translateX(-50%);\n}\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow:before {\n  border-bottom-color: var(--bgColor);\n  bottom: -11px;\n  left: -10px;\n}\n.pw-inbox-widget.pw-left {\n  margin-left: -12px;\n}\n.pw-inbox-widget.pw-left .pw-inbox__arrow {\n  border-left-color: var(--arrowBorderColor);\n  right: -21px;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n.pw-inbox-widget.pw-left .pw-inbox__arrow:before {\n  border-left-color: var(--bgColor);\n  left: -11px;\n  top: -10px;\n}\n.pw-inbox-widget.pw-right {\n  margin-left: 12px;\n}\n.pw-inbox-widget.pw-right .pw-inbox__arrow {\n  border-right-color: var(--arrowBorderColor);\n  left: -21px;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n.pw-inbox-widget.pw-right .pw-inbox__arrow:before {\n  border-right-color: var(--bgColor);\n  right: -11px;\n  top: -10px;\n}\n.pw-inbox_inner {\n  overflow: hidden;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  height: 100%;\n}\n.pw-inbox_title {\n  color: var(--textColor);\n  margin: 0;\n  padding: 28px 32px 12px;\n  font-size: 24px;\n  font-weight: 500;\n  line-height: 1.1;\n  text-align: left;\n  -webkit-box-flex: 0;\n  -webkit-flex: 0 0 66px;\n      -ms-flex: 0 0 66px;\n          flex: 0 0 66px;\n}\n.pw-inbox_list {\n  overflow-x: hidden;\n  overflow-y: auto;\n  min-width: 200px;\n  max-height: 300px;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  position: relative;\n  -webkit-box-flex: 1;\n  -webkit-flex: 1 1 auto;\n      -ms-flex: 1 1 auto;\n          flex: 1 1 auto;\n}\n\n.pw-inbox_item {\n  position: relative;\n  padding: 8px 32px;\n  margin: 0;\n  text-align: left;\n}\n.pw-inbox_item-inner {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  cursor: pointer;\n}\n.pw-inbox_icon {\n  -webkit-box-flex: 0;\n  -webkit-flex: 0 0 40px;\n      -ms-flex: 0 0 40px;\n          flex: 0 0 40px;\n}\n.pw-inbox_message-image {\n  width: 28px;\n}\n.pw-inbox_content {\n  -webkit-box-flex: 0;\n  -webkit-flex: 0 1 100%;\n      -ms-flex: 0 1 100%;\n          flex: 0 1 100%;\n}\n.pw-inbox_item-title {\n  color: var(--messageTitleColor);\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 4px;\n}\n.pw-inbox_item-body {\n  color: var(--textColor);\n  font-size: 14px;\n  line-height: 20px;\n  margin-bottom: 4px;\n}\n.pw-inbox_item-time {\n  color: var(--timeTextColor);\n  font-size: 12px;\n  line-height: 17px;\n}\n.pw-inbox_item-remove {\n  position: absolute;\n  z-index: 2;\n  top: 8px;\n  right: 8px;\n  display: none;\n  width: 10px;\n  height: 10px;\n  background: transparent url('https://cdn.pushwoosh.com/webpush/img/iconClose.svg') 50% no-repeat;\n  cursor: pointer;\n}\n.pw-inbox_item:hover .pw-inbox_item-remove {\n  display: block;\n}\n\n.pw-inbox_item.pw-new .pw-inbox_item-title {\n  color: var(--textColor);\n  font-weight: 700;\n}\n\n.pw-inbox_item.pw-new .pw-inbox_item-body {\n  font-weight: 700;\n}\n\n.pw-inbox_list--empty {\n  padding: 50px 16px;\n  text-align: center;\n  max-height: 100%;\n  overflow: auto;\n}\n\n.pw-inbox_list--empty .pw-inbox_list-icon {\n  text-align: center;\n  margin-bottom: 30px;\n}\n.pw-inbox_list--empty .pw-inbox_list-icon img {\n  max-width: 100%;\n}\n\n.pw-inbox_list--empty .pw-inbox_list-title {\n  font-size: 28px;\n  line-height: 36px;\n  color: var(--emptyInboxTitleColor);\n  margin-bottom: 20px;\n}\n\n.pw-inbox_list--empty .ipw-inbox_list-body {\n  font-size: 14px;\n  line-height: 18px;\n  color: var(--emptyInboxTextColor);\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r=t[1]||"",i=t[3];if(!i)return r;if(e&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),s=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[r].concat(s).concat([o]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}}])},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(44);document.addEventListener("pushwoosh.initialized",(function(t){if(t.detail.pw.subscribePopupConfig&&t.detail.pw.subscribePopupConfig.enable){var e=new r.PWSubscribePopup(t.detail.pw);e.initPopup().then((function(){t.detail.pw.subscribePopup=e}))}}))},function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_CONFIG={text:"Don\u2019t miss out on our news and updates! Enable push notifications",askLaterButtonText:"Not now",confirmSubscriptionButtonText:"Subscribe",delay:60,retryOffset:604800,overlay:!1,position:"top",bgColor:"#fff",borderColor:"transparent",boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",textColor:"#000",textSize:"inherit",fontFamily:"inherit",subscribeBtnBgColor:"#4285f4",subscribeBtnTextColor:"#fff",askLaterBtnBgColor:"transparent",askLaterBtnTextColor:"#000",theme:"material",viewport:"html"},e.COLOR_TEST_REGEXP=/^(#([\da-f]{3}){1,2}$|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)$|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\)$)/,e.PERMISSION_DENIED="denied",e.PERMISSION_GRANTED="granted",e.CONFIG_STYLES=[{name:"bgColor",type:"color"},{name:"borderColor",type:"color"},{name:"boxShadow",type:"string"},{name:"textColor",type:"color"},{name:"textSize",type:"string"},{name:"fontFamily",type:"string"},{name:"subscribeBtnBgColor",type:"color"},{name:"subscribeBtnTextColor",type:"color"},{name:"askLaterBtnBgColor",type:"color"},{name:"askLaterBtnTextColor",type:"color"}]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.PWSubscribePopup=r.default},function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}u((r=r.apply(t,e||[])).next())}))},o=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(3),u=n(0),c=n(4),l=function(){function t(t){this.pw=t,this.config=r({},s.DEFAULT_CONFIG,this.pw.subscribePopupConfig),this.onAskLaterClick=this.onAskLaterClick.bind(this),this.onSubscribeClick=this.onSubscribeClick.bind(this)}return t.prototype.initPopup=function(){return i(this,void 0,void 0,(function(){var t,e,n,r,i,s=this;return o(this,(function(o){switch(o.label){case 0:return[4,this.pw.isSubscribed()];case 1:return t=o.sent(),e=this.pw.isDeviceUnregistered(),t||e?[2]:[4,this.pw.driver.getPermission()];case 2:return(n=o.sent())===u.PERMISSION_GRANTED||n===u.PERMISSION_DENIED?[2]:(this.renderPopup(),this.appendStyles(),[4,this.pw.paramsModule.subscriptionPopupLastOpen]);case 3:return r=o.sent(),i=(new Date).getTime(),r+1e3*this.config.retryOffset<i&&setTimeout((function(){s.toggle(!0)}),1e3*this.config.delay),[2]}}))}))},t.prototype.toggle=function(t){("boolean"==typeof t?t:!this.isShown)?this.showPopup():this.closePopup()},t.prototype.showPopup=function(){this.isShown=!0,this.popup.classList.add("pw-show"),document.body.classList.add("pw-popup-opened");var t=new CustomEvent("showPopup",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});if(this.popup.dispatchEvent(t),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var e=this.config,n=e.theme,r=e.viewport,i=e.position;if("topbar"===n&&"top"===i){var o=document.querySelector(r)||document.createElement("div"),s=window.getComputedStyle(o).marginTop||"0";o.style.transition="margin-top .3s ease-out",o.style.marginTop=parseInt(s)+this.popup.getBoundingClientRect().height+"px"}}},t.prototype.closePopup=function(){this.isShown=!1,this.popup.classList.remove("pw-show"),document.body.classList.remove("pw-popup-opened");var t=new CustomEvent("hidePopup",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});this.popup.dispatchEvent(t);var e=(new Date).getTime();if(this.pw.paramsModule.setSubscriptionPopupLastOpen(e),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var n=this.config,r=n.theme,i=n.viewport,o=n.position;if("topbar"===r&&"top"===o){var s=document.querySelector(i)||document.createElement("div"),a=window.getComputedStyle(s).marginTop||"0";s.style.marginTop=parseInt(a)-this.popup.getBoundingClientRect().height+"px"}}},t.prototype.renderPopup=function(){this.popup=document.createElement("div"),this.popup.id="pwSubscribePopup";var t=this.config,e=t.text,n=t.askLaterButtonText,r=t.confirmSubscriptionButtonText,i=t.iconUrl,o=t.position,s=t.overlay,u=t.theme;this.popup.className="pw-subscribe-popup pw-position-"+o+" pw-subscribe-popup-"+u,this.popup.classList.toggle("pw-subscribe-popup__overlay",s),this.popup.innerHTML=a.innerTemplate({text:e,askLaterButtonText:n,confirmSubscriptionButtonText:r,iconUrl:i}),document.body.appendChild(this.popup),this.addListeners()},t.prototype.appendStyles=function(){var t=n(5),e=document.createElement("style");e.innerHTML=this.configureStyle(t),document.body.appendChild(e)},t.prototype.getStyleFormatter=function(t){switch(t.type){case"size":return(this.config[t.name]||0)+"px";case"number":return parseFloat(this.config[t.name].toString()).toString();case"string":return this.config[t.name].toString();case"color":return c.getValidColor(this.config[t.name].toString());default:return"none"}},t.prototype.configureStyle=function(t){var e=this,n=t.toString();return s.CONFIG_STYLES.forEach((function(t){var r=new RegExp("var\\(--"+t.name+"\\)","ig"),i=e.getStyleFormatter(t);n=n.replace(r,i)})),n},t.prototype.addListeners=function(){var t=this.popup.querySelector('button[name="pwAskLater"]')||document.createElement("button"),e=this.popup.querySelector('button[name="pwSubscribe"]')||document.createElement("button");t.addEventListener("click",this.onAskLaterClick),e.addEventListener("click",this.onSubscribeClick)},t.prototype.onAskLaterClick=function(){this.toggle(!1)},t.prototype.onSubscribeClick=function(){this.pw.subscribe(),this.toggle(!1)},t}();e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.innerTemplate=function(t){var e=t.iconUrl,n=t.text,r=t.askLaterButtonText;return'<div class="pw-subscription-popup-inner">\n    <div class="pw-subscription-popup-content">\n      '+(e?'<div class="pw-subscription-popup-icon">\n        <img src="'+e+'">\n      </div>':"")+'\n      <div class="pw-subscription-popup-text">\n        '+n+'\n      </div>\n    </div>\n    <div class="pw-subscription-popup-controls">\n      <button name="pwSubscribe" class="pw-subscribe-popup-button pw-subscribe-popup-button-active">'+t.confirmSubscriptionButtonText+'</button>\n      <button name="pwAskLater" class="pw-subscribe-popup-button">'+r+"</button>\n    </div>\n  </div>"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.getValidColor=function(t){return"transparent"===t?t:r.COLOR_TEST_REGEXP.test(t)?t:"#333"},e.getGlobal=function(){return Function("return this")()}},function(t,e,n){var r=n(6);t.exports="string"==typeof r?r:r.toString()},function(t,e,n){(t.exports=n(7)(void 0)).push([t.i,".pw-subscribe-popup {\n  position: fixed;\n  left: 50%;\n  -webkit-transform: translateX(-50%);\n      -ms-transform: translateX(-50%);\n          transform: translateX(-50%);\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  z-index: 1000000;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-transition: all .4s ease-out;\n  -o-transition: all .4s ease-out;\n  transition: all .4s ease-out;\n}\n\n.pw-subscribe-popup.pw-position-top {\n  top: calc(-100% - 24px);\n}\n.pw-subscribe-popup.pw-position-top.pw-show {\n  top: 0;\n}\n\n.pw-subscribe-popup.pw-position-bottom {\n  bottom: calc(-100% - 24px);\n}\n.pw-subscribe-popup.pw-position-bottom.pw-show {\n  bottom: 0;\n}\n\n.pw-subscribe-popup.pw-position-center {\n  display: none;\n}\n.pw-subscribe-popup.pw-position-center.pw-show {\n  top: 50%;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.pw-subscribe-popup__overlay {\n  position: fixed;\n  left: 0;\n  right: 0;\n  -webkit-transform: none;\n      -ms-transform: none;\n          transform: none;\n  height: 100%;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  background: rgba(0,0,0,.4);\n  z-index: 1000000;\n  display: none;\n  top: 0;\n}\n\n.pw-subscribe-popup__overlay.pw-position-top {\n  -webkit-box-align: start;\n  -webkit-align-items: flex-start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n}\n\n.pw-subscribe-popup__overlay.pw-position-bottom {\n  -webkit-box-align: end;\n  -webkit-align-items: flex-end;\n      -ms-flex-align: end;\n          align-items: flex-end;\n}\n\n.pw-subscribe-popup__overlay.pw-position-center {\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n\n.pw-subscription-popup-inner {\n  max-width: 400px;\n  font-size: var(--textSize);\n  color: var(--textColor);\n  font-family: var(--fontFamily);\n  border-style: solid;\n  border-width: 1px;\n  border-color: var(--borderColor);\n  background: var(--bgColor);\n  -webkit-box-shadow: var(--boxShadow);\n          box-shadow: var(--boxShadow);\n}\n\n.pw-subscription-popup-content {\n  padding: 16px 16px 4px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: stretch;\n  -webkit-justify-content: stretch;\n      -ms-flex-pack: stretch;\n          justify-content: stretch;\n}\n\n.pw-subscription-popup-icon {\n  -webkit-box-flex: 0;\n  -webkit-flex: 0 0 50px;\n      -ms-flex: 0 0 50px;\n          flex: 0 0 50px;\n  margin-right: 12px;\n  padding-top: 4px;\n}\n\n.pw-subscription-popup-icon img {\n  max-width: 60px;\n  max-height: 60px;\n}\n\n.pw-subscription-popup-text {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1 1 300px;\n      -ms-flex: 1 1 300px;\n          flex: 1 1 300px;\n}\n\n.pw-subscription-popup-controls {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-flex-wrap: wrap;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding: 8px 16px 16px;\n}\n\nbutton.pw-subscribe-popup-button {\n  border: solid 1px transparent;\n  -webkit-border-radius: 2px;\n          border-radius: 2px;\n  display: inline-block;\n  height: 36px;\n  line-height: 36px;\n  padding: 0 16px;\n  text-transform: uppercase;\n  vertical-align: middle;\n  -webkit-tap-highlight-color: transparent;\n  font-size: 14px;\n  outline: 0;\n  text-decoration: none;\n  color: var(--askLaterBtnTextColor);\n  text-align: center;\n  letter-spacing: .5px;\n  cursor: pointer;\n  background: var(--askLaterBtnBgColor);\n  margin: 4px 8px;\n}\nbutton.pw-subscribe-popup-button:hover {\n  background: rgba(0,0,0,.04);\n}\nbutton.pw-subscribe-popup-button:active {\n  background: rgba(0,0,0,.12);\n}\n\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active {\n  color: var(--subscribeBtnTextColor);\n  background: var(--subscribeBtnBgColor);\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\n  0 3px 1px -2px rgba(0,0,0,0.12),\n  0 1px 5px 0 rgba(0,0,0,0.2);\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\n  0 3px 1px -2px rgba(0,0,0,0.12),\n  0 1px 5px 0 rgba(0,0,0,0.2);\n}\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:hover {\n  -webkit-box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\n  0 1px 7px 0 rgba(0,0,0,0.12),\n  0 3px 1px -1px rgba(0,0,0,0.2);\n          box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\n  0 1px 7px 0 rgba(0,0,0,0.12),\n  0 3px 1px -1px rgba(0,0,0,0.2);\n}\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:active {\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\n  0 3px 1px -2px rgba(0,0,0,0.12),\n  0 1px 5px 0 rgba(0,0,0,0.2);\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\n  0 3px 1px -2px rgba(0,0,0,0.12),\n  0 1px 5px 0 rgba(0,0,0,0.2);\n}\n\n@media screen and (min-width: 541px) {\n\n  .pw-subscribe-popup-topbar {\n    width: 100%;\n  }\n\n  .pw-subscribe-popup-topbar .pw-subscription-popup-inner {\n    max-width: 100%;\n    width: 100%;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    padding: 2px 40px;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-flex-wrap: nowrap;\n        -ms-flex-wrap: nowrap;\n            flex-wrap: nowrap;\n  }\n\n  .pw-subscribe-popup-topbar .pw-subscription-popup-content {\n    padding: 0;\n    -webkit-box-pack: start;\n    -webkit-justify-content: flex-start;\n        -ms-flex-pack: start;\n            justify-content: flex-start;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-box-flex: 1;\n    -webkit-flex: 1 1 60%;\n        -ms-flex: 1 1 60%;\n            flex: 1 1 60%;\n  }\n\n  .pw-subscribe-popup-topbar .pw-subscription-popup-icon img {\n    max-width: 28px;\n    max-height: 28px;\n  }\n\n  .pw-subscribe-popup-topbar button.pw-subscribe-popup-button {\n    height: 32px;\n    line-height: 32px;\n  }\n\n  .pw-subscribe-popup-topbar .pw-subscription-popup-controls {\n    padding: 0 0 0 16px;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n  }\n}\n@media screen and (max-width: 540px) {\n  .pw-subscribe-popup,\n  .pw-subscribe-popup.pw-position-top,\n  .pw-subscribe-popup.pw-position-center,\n  .pw-subscribe-popup.pw-position-bottom {\n    top: auto;\n    bottom: -110%;\n    left: 0;\n    right: 0;\n    -webkit-transform: none;\n        -ms-transform: none;\n            transform: none;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-transition: bottom .4s ease-out;\n    -o-transition: bottom .4s ease-out;\n    transition: bottom .4s ease-out;\n    -webkit-box-align: end;\n    -webkit-align-items: flex-end;\n        -ms-flex-align: end;\n            align-items: flex-end;\n  }\n\n  .pw-subscribe-popup.pw-subscribe-popup__overlay {\n    height: 100%;\n    -webkit-box-align: end;\n    -webkit-align-items: flex-end;\n        -ms-flex-align: end;\n            align-items: flex-end;\n  }\n\n  .pw-subscribe-popup.pw-show {\n    bottom: 0;\n  }\n\n  .pw-subscribe-popup__overlay .pw-subscription-popup-inner {\n    -webkit-box-align: end;\n    -webkit-align-items: flex-end;\n        -ms-flex-align: end;\n            align-items: flex-end;\n    -webkit-box-pack: stretch;\n    -webkit-justify-content: stretch;\n        -ms-flex-pack: stretch;\n            justify-content: stretch;\n  }\n\n  .pw-subscription-popup-inner {\n    max-width: 100%;\n    width: 100%;\n  }\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,r=t[1]||"",i=t[3];if(!i)return r;if(e&&"function"==typeof btoa){var o=(n=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),s=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[r].concat(s).concat([o]).join("\n")}return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}}])}])},,,function(t,e,n){var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=7)}([function(t,e,n){"use strict";var r=n(1);t.exports=function(t){if(!t.targetUrl)throw new Error("\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u043e targetUrl \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c.");function e(t){for(var e=0;e<10;e++)if((t=t.parentNode).textContent.length>100)return t;return t}window.document.onkeydown=function(n){var i=document.querySelector(".js-erratum-popup");13==n.keyCode&&n.ctrlKey&&window.getSelection().toString().length>0&&!i&&function(){try{var i=null;if(null==(i=window.getSelection?window.getSelection():window.document.getSelection?window.document.getSelection():window.document.selection))return;var o,s="",a=null,u="",c=void 0,l=void 0,f=void 0,h=void 0;if(i.getRangeAt){var p=i.getRangeAt(0);a=p.toString(),(l=window.document.createRange()).setStartBefore(e(p.startContainer)),l.setEnd(p.startContainer,p.startOffset),s=l.toString().split(" ").slice(-6).join(" "),(f=p.cloneRange()).setStart(p.endContainer,p.endOffset),f.setEndAfter(e(p.endContainer)),u=f.toString().split(" ",6).join(" ")}else if(i.createRange){var d=void 0,g=void 0;a=i.createRange().text,(d=i.createRange()).moveStart("character",-60),d.moveEnd("character",-a.length),s=d.text,(g=i.createRange()).moveEnd("character",60),g.moveStart("character",a.length),u=g.text}else a=""+i;o=(h=i.toString()).split(" ").length,c=new r(s,h,u,t.targetUrl),o<20?c.build():c.renderToMuchWords()}catch(n){return null}}()}}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(3),o=n(2),s=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textBefore=e,this.textRange=n,this.textAfter=r,this.targetUrl=i,this.state="typo",this.popup=document.createElement("div"),this.popup.classList.add("js-erratum-popup"),document.body.appendChild(this.popup)}return r(t,[{key:"build",value:function(){this.renderFoundTypo()}},{key:"renderFoundTypo",value:function(){this.popup.innerHTML=i({title:o[this.state].title,text:this.textBefore+"<span>"+this.textRange+"</span>"+this.textAfter,buttonTitle:o[this.state].buttonTitle,typo:!0}),this.closeTrigger(),this.submitTrigger()}},{key:"renderToMuchWords",value:function(){this.state="tomuch",this.popup.innerHTML=i({text:o[this.state].text,buttonTitle:o[this.state].buttonTitle,tomuch:!0}),this.closeTrigger()}},{key:"renderSuccess",value:function(){this.popup.innerHTML=i({text:o[this.state].text,buttonTitle:o[this.state].buttonTitle,success:!0}),this.closeTrigger()}},{key:"submitTrigger",value:function(){this.buttonSubmit=this.popup.querySelector(".js-erratum-popup_btn__submit"),this.buttonSubmit&&this.buttonSubmit.addEventListener("click",this.submit.bind(this))}},{key:"submit",value:function(t){var e,n=this;t.preventDefault(),this.commentBox=this.popup.querySelector(".js-erratum-popup_textarea").value,e={url:window.location.href,body:this.textBefore+" "+this.textRange+" "+this.textAfter,comment:""+this.commentBox},(new FormData).append("json",JSON.stringify(e));var r=new XMLHttpRequest,i="url="+window.location.href+"&body="+this.textBefore+" <b>"+this.textRange+"</b> "+this.textAfter+"&comment="+this.commentBox;r.open("POST",this.targetUrl,!1),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&200===r.status?n.changeState("success"):console.log("sweet mother of God...something bad happend")},r.send(i)}},{key:"changeState",value:function(t){this.state=t,this.renderSuccess()}},{key:"closeTrigger",value:function(){this.iconClose=this.popup.querySelector(".js-close"),this.buttonClose=this.popup.querySelector(".js-erratum-popup_btn__close"),this.iconClose&&this.iconClose.addEventListener("click",this.destroy.bind(this)),this.buttonClose&&this.buttonClose.addEventListener("click",this.destroy.bind(this))}},{key:"destroy",value:function(){this.popup.parentElement.removeChild(this.popup)}}]),t}();t.exports=s},function(t,e,n){"use strict";t.exports={typo:{title:"\u041d\u0430\u0448\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0443",buttonTitle:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",typo:!0},success:{text:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e. \u041c\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u043c<br/>\u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f",buttonTitle:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u0435",success:!0},tomuch:{text:"\u0412\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043e\u0431\u044a\u0435\u043c \u0442\u0435\u043a\u0441\u0442\u0430",buttonTitle:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u0435",tomuch:!0}}},function(t,e,n){var r=n(4);t.exports=function(t){var e,n="",i=t||{};return function(t,i,o,s,a,u){n+='<form class="erratum-popup js-form"><div class="erratum-popup_close js-close"></div>',u&&(n=n+'<div class="erratum-popup_title">'+r.escape(null==(e=s)?"":e)+"</div>"),i&&(n+='<div class="erratum-popup_emoji"><svg width="34px" height="36px" viewBox="0 0 34 50" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd" font-size="36"><g transform="translate(-468.000000, -296.000000)" fill="#32292F"><text><tspan x="467" y="339">\ud83d\udc4d</tspan></text></g></g></svg></div>'),a&&(n+='<div class="erratum-popup_emoji"><svg width="36px" height="36px" viewBox="0 0 36 50" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd" font-size="36"><g transform="translate(-467.000000, -296.000000)" fill="#32292F"><text><tspan x="467" y="339">\ud83d\ude33</tspan></text></g></g></svg></div>'),n=n+"<div"+r.attr("class",r.classes(["erratum-popup_text",u?"erratum-popup_text--typo":""],[!1,!0]),!1,!0)+">"+(null==(e=o)?"":e)+"</div>",u&&(n=n+'<textarea class="erratum-popup_textarea js-erratum-popup_textarea" placeholder="\u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0436\u0435\u043b\u0430\u043d\u0438\u0435, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"></textarea><button class="erratum-popup_btn js-erratum-popup_btn__submit" type="submit">'+r.escape(null==(e=t)?"":e)+"</button>"),a&&(n=n+'<div class="erratum-popup_btn js-erratum-popup_btn__close">'+r.escape(null==(e=t)?"":e)+"</div>"),i&&(n=n+'<div class="erratum-popup_btn js-erratum-popup_btn__close">'+r.escape(null==(e=t)?"":e)+"</div>"),n+="</form>"}.call(this,"buttonTitle"in i?i.buttonTitle:"undefined"!==typeof buttonTitle?buttonTitle:void 0,"success"in i?i.success:"undefined"!==typeof success?success:void 0,"text"in i?i.text:"undefined"!==typeof text?text:void 0,"title"in i?i.title:"undefined"!==typeof title?title:void 0,"tomuch"in i?i.tomuch:"undefined"!==typeof tomuch?tomuch:void 0,"typo"in i?i.typo:"undefined"!==typeof typo?typo:void 0),n}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return Array.isArray(t)?function(t,e){for(var n,r="",o="",s=Array.isArray(e),a=0;a<t.length;a++)(n=i(t[a]))&&(s&&e[a]&&(n=u(n)),r=r+o+n,o=" ");return r}(t,e):t&&"object"===typeof t?function(t){var e="",n="";for(var i in t)i&&t[i]&&r.call(t,i)&&(e=e+n+i,n=" ");return e}(t):t||""}function o(t){if(!t)return"";if("object"===typeof t){var e="";for(var n in t)r.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function s(t,e,n,r){return!1!==e&&null!=e&&(e||"class"!==t&&"style"!==t)?!0===e?" "+(r?t:t+'="'+t+'"'):("function"===typeof e.toJSON&&(e=e.toJSON()),"string"===typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=u(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.merge=function t(e,n){if(1===arguments.length){for(var r=e[0],i=1;i<e.length;i++)r=t(r,e[i]);return r}for(var s in n)if("class"===s){var a=e[s]||[];e[s]=(Array.isArray(a)?a:[a]).concat(n[s]||[])}else if("style"===s){a=(a=o(e[s]))&&";"!==a[a.length-1]?a+";":a;var u=o(n[s]);u=u&&";"!==u[u.length-1]?u+";":u,e[s]=a+u}else e[s]=n[s];return e},e.classes=i,e.style=o,e.attr=s,e.attrs=function(t,e){var n="";for(var a in t)if(r.call(t,a)){var u=t[a];if("class"===a){u=i(u),n=s(a,u,!1,e)+n;continue}"style"===a&&(u=o(u)),n+=s(a,u,!1,e)}return n};var a=/["&<>]/;function u(t){var e=""+t,n=a.exec(e);if(!n)return t;var r,i,o,s="";for(r=n.index,i=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}i!==r&&(s+=e.substring(i,r)),i=r+1,s+=o}return i!==r?s+e.substring(i,r):s}e.escape=u,e.rethrow=function t(e,r,i,o){if(!(e instanceof Error))throw e;if(("undefined"!=typeof window||!r)&&!o)throw e.message+=" on line "+i,e;try{o=o||n(5).readFileSync(r,"utf8")}catch(l){t(e,null,i)}var s=3,a=o.split("\n"),u=Math.max(i-s,0),c=Math.min(a.length,i+s);throw s=a.slice(u,c).map((function(t,e){var n=e+u+1;return(n==i?"  > ":"    ")+n+"| "+t})).join("\n"),e.path=r,e.message=(r||"Pug")+":"+i+"\n"+s+"\n\n"+e.message,e}},function(t,e){},,function(t,e,n){"use strict";t.exports=n(0)}])},t.exports=r()},,,function(t,e,n){var r,i;r=[n(0),n(11)],void 0===(i=function(t,e){return function(t,e){"use strict";var n=t.Wreqr,r=t.Wreqr={};return t.Wreqr.VERSION="1.4.0",t.Wreqr.noConflict=function(){return t.Wreqr=n,this},r.Handlers=function(t,e){var n=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events,{setHandlers:function(t){e.each(t,e.bind((function(t,n){var r=null;e.isObject(t)&&!e.isFunction(t)&&(r=t.context,t=t.callback),this.setHandler(n,t,r)}),this))},setHandler:function(t,e,n){var r={callback:e,context:n};this._wreqrHandlers[t]=r,this.trigger("handler:add",t,e,n)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){return e.callback.apply(e.context,arguments)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(t,e),r.CommandStorage=function(){var n=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(n.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){this.getCommands(t).instances.push(e)},clearCommands:function(t){this.getCommands(t).instances=[]}}),n}(),r.Commands=function(t,e){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),t.Handlers.prototype.constructor.apply(this,arguments)},execute:function(t){t=arguments[0];var n=e.rest(arguments);this.hasHandler(t)?this.getHandler(t).apply(this,n):this.storage.addCommand(t,n)},_executeCommands:function(t,n,r){var i=this.storage.getCommands(t);e.each(i.instances,(function(t){n.apply(r,t)})),this.storage.clearCommands(t)},_initializeStorage:function(t){var n,r=t.storageType||this.storageType;n=e.isFunction(r)?new r:r,this.storage=n}})}(r,e),r.RequestResponse=function(t,e){return t.Handlers.extend({request:function(t){if(this.hasHandler(t))return this.getHandler(t).apply(this,e.rest(arguments))}})}(r,e),r.EventAggregator=function(t,e){var n=function(){};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events),n}(t,e),r.Channel=function(n){var r=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(r.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,n,r){if(n){r=r||this;var i="vent"===t?"on":"setHandler";e.each(n,e.bind((function(n,o){this[t][i](o,e.bind(n,r))}),this))}}}),r}(),r.radio=function(t,e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(n.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var n=this._channels[e];return n||(n=new t.Channel(e),this._channels[e]=n),n},_proxyMethods:function(){e.each(["vent","commands","reqres"],e.bind((function(t){e.each(r[t],e.bind((function(e){this[t][e]=i(this,t,e)}),this))}),this))}});var r={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},i=function(t,n,r){return function(i){var o=t._getChannel(i)[n];return o[r].apply(o,e.rest(arguments))}};return new n}(r,e),t.Wreqr}(t,e)}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(11)],void 0===(i=function(t,e){return function(t,e){"use strict";var n=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var n=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};return e.extend(n.prototype,{add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,(function(t,e){if(t===n)return delete this._indexByCustom[e],!0}),this),delete this._views[n],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,n){e.each(this._views,(function(r){e.isFunction(r[t])&&r[t].apply(r,n||[])}))},_updateLength:function(){this.length=e.size(this._views)}}),e.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"],(function(t){n.prototype[t]=function(){var n=e.values(this._views),r=[n].concat(e.toArray(arguments));return e[t].apply(e,r)}})),n}(0,e),t.ChildViewContainer.VERSION="0.1.11",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=n,this},t.ChildViewContainer}(t,e)}.apply(e,r))||(t.exports=i)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(81),i=n(30),o={VERSION:r.VERSION,Client:n(281),Scheduler:n(88)};i.wrapper=o,t.exports=o},function(t,e,n){"use strict";(function(e){var r=n(82),i=n(10),o=(n(40),n(18)),s=n(49),a=n(50),u=n(81),c=n(8),l=n(283),f=n(32),h=n(30),p=n(51),d=n(83),g=n(285),v=n(293),m=n(294),y=n(295),b=n(296),_=i({className:"Client",UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(t,n){this.info("New client created for ?",t),l(n=n||{},["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._channels=new d.Set,this._dispatcher=g.create(this,t||this.DEFAULT_ENDPOINT,n),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(n.interval||this.INTERVAL),timeout:1e3*(n.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),a.Event&&void 0!==e.onbeforeunload&&a.Event.on(e,"beforeunload",(function(){s.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()}),this)},addWebsocketExtension:function(t){return this._dispatcher.addWebsocketExtension(t)},disable:function(t){return this._dispatcher.disable(t)},setHeader:function(t,e){return this._dispatcher.setHeader(t,e)},handshake:function(t,n){if(this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED){this._state=this.CONNECTING;var i=this;this.info("Initiating handshake with ?",o.stringify(this._dispatcher.endpoint)),this._dispatcher.selectTransport(u.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:d.HANDSHAKE,version:u.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},(function(o){o.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=o.clientId,this._dispatcher.selectTransport(o.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),t&&r((function(){t.call(n)}))):(this.info("Handshake unsuccessful"),e.setTimeout((function(){i.handshake(t,n)}),1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)}),this)}},connect:function(t,e){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake((function(){this.connect(t,e)}),this);this.callback(t,e),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:d.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var t=new y;return this._sendMessage({channel:d.DISCONNECT,clientId:this._dispatcher.clientId},{},(function(e){e.successful?(this._dispatcher.close(),t.setDeferredStatus("succeeded")):t.setDeferredStatus("failed",v.parse(e.error))}),this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new d.Set,t}},subscribe:function(t,e,n){if(t instanceof Array)return s.map(t,(function(t){return this.subscribe(t,e,n)}),this);var r=new b(this,t,e,n),i=!0===e;return this._channels.hasSubscription(t)&&!i?(this._channels.subscribe([t],r),r.setDeferredStatus("succeeded"),r):(this.connect((function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,t),i||this._channels.subscribe([t],r),this._sendMessage({channel:d.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:t},{},(function(e){if(!e.successful)return r.setDeferredStatus("failed",v.parse(e.error)),this._channels.unsubscribe(t,r);var n=[].concat(e.subscription);this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,n),r.setDeferredStatus("succeeded")}),this)}),this),r)},unsubscribe:function(t,e){if(t instanceof Array)return s.map(t,(function(t){return this.unsubscribe(t,e)}),this);this._channels.unsubscribe(t,e)&&this.connect((function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,t),this._sendMessage({channel:d.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:t},{},(function(t){if(t.successful){var e=[].concat(t.subscription);this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,e)}}),this)}),this)},publish:function(t,e,n){l(n||{},["attempts","deadline"]);var r=new y;return this.connect((function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,t,e),this._sendMessage({channel:t,data:e,clientId:this._dispatcher.clientId},n,(function(t){t.successful?r.setDeferredStatus("succeeded"):r.setDeferredStatus("failed",v.parse(t.error))}),this)}),this),r},_sendMessage:function(t,e,n,r){t.id=this._generateMessageId();var i=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",t,null,(function(t){t&&(n&&(this._responseCallbacks[t.id]=[n,r]),this._dispatcher.sendMessage(t,i,e||{}))}),this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(t){var e,n=t.id;void 0!==t.successful&&(e=this._responseCallbacks[n],delete this._responseCallbacks[n]),this.pipeThroughExtensions("incoming",t,null,(function(t){t&&(t.advice&&this._handleAdvice(t.advice),this._deliverMessage(t),e&&e[0].call(e[1],t))}),this)},_handleAdvice:function(t){c(this._advice,t),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(t){t.channel&&void 0!==t.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,t.channel,t.data),this._channels.distributeMessage(t))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var t=this;e.setTimeout((function(){t.connect()}),this._advice.interval)}});c(_.prototype,f),c(_.prototype,p),c(_.prototype,h),c(_.prototype,m),t.exports=_}).call(this,n(5))},function(t,e,n){"use strict";(function(e){function n(t){i.length||(r(),!0),i[i.length]=t}t.exports=n;var r,i=[],o=0,s=1024;function a(){for(;o<i.length;){var t=o;if(o+=1,i[t].call(),o>s){for(var e=0,n=i.length-o;e<n;e++)i[e]=i[e+o];i.length-=o,o=0}}i.length=0,o=0,!1}var u="undefined"!==typeof e?e:self,c=u.MutationObserver||u.WebKitMutationObserver;function l(t){return function(){var e=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(e),clearInterval(n),t()}}}r="function"===typeof c?function(t){var e=1,n=new c(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(a):l(a),n.requestFlush=r,n.makeRequestCallFromTimer=l}).call(this,n(5))},function(t,e,n){"use strict";var r=n(49);t.exports=function(t,e){for(var n in t)if(r.indexOf(e,n)<0)throw new Error("Unrecognized option: "+n)}},function(t,e){var n="function"===typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};function r(){}t.exports=r,r.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||n(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);e.apply(this,r)}return!0}if(n(e)){r=Array.prototype.slice.call(arguments,1);for(var i=e.slice(),o=0,s=i.length;o<s;o++)i[o].apply(this,r);return!0}return!1},r.prototype.addListener=function(t,e){if("function"!==typeof e)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",t,e),this._events[t]?n(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){var n=this;return n.on(t,(function r(){n.removeListener(t,r),e.apply(this,arguments)})),this},r.prototype.removeListener=function(t,e){if("function"!==typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var r=this._events[t];if(n(r)){var i=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}(r,e);if(i<0)return this;r.splice(i,1),0==r.length&&delete this._events[t]}else this._events[t]===e&&delete this._events[t];return this},r.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},r.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),n(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}},function(t,e,n){"use strict";(function(e){var r=n(10),i=n(18),o=n(85),s=n(8),a=n(30),u=n(51),c=n(286),l=n(88),f=r({className:"Dispatcher",MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(t,e,n){this._client=t,this.endpoint=i.parse(e),this._alternates=n.endpoints||{},this.cookies=o.CookieJar&&new o.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=n.retry||this.DEFAULT_RETRY,this._scheduler=n.scheduler||l,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=n.proxy||{},"string"===typeof this._proxy&&(this._proxy={origin:this._proxy});var r=n.websocketExtensions;if(r)for(var s=0,a=(r=[].concat(r)).length;s<a;s++)this.addWebsocketExtension(r[s]);for(var u in this.tls=n.tls||{},this.tls.ca=this.tls.ca||n.ca,this._alternates)this._alternates[u]=i.parse(this._alternates[u]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(t){return this._alternates[t]||this.endpoint},addWebsocketExtension:function(t){this.wsExtensions.push(t)},disable:function(t){this._disabled.push(t)},setHeader:function(t,e){this.headers[t]=e},close:function(){var t=this._transport;delete this._transport,t&&t.close()},getConnectionTypes:function(){return c.getConnectionTypes()},selectTransport:function(t){c.get(this,t,this._disabled,(function(t){this.debug("Selected ? transport for ?",t.connectionType,i.stringify(t.endpoint)),t!==this._transport&&(this._transport&&this._transport.close(),this._transport=t,this.connectionType=t.connectionType)}),this)},sendMessage:function(t,e,n){n=n||{};var r,i=t.id,o=n.attempts,s=n.deadline&&(new Date).getTime()+1e3*n.deadline,a=this._envelopes[i];a||(r=new this._scheduler(t,{timeout:e,interval:this.retry,attempts:o,deadline:s}),a=this._envelopes[i]={message:t,scheduler:r}),this._sendEnvelope(a)},_sendEnvelope:function(t){if(this._transport&&!t.request&&!t.timer){var n=t.message,r=t.scheduler,i=this;if(!r.isDeliverable())return r.abort(),void delete this._envelopes[n.id];t.timer=e.setTimeout((function(){i.handleError(n)}),1e3*r.getTimeout()),r.send(),t.request=this._transport.sendMessage(n)}},handleResponse:function(t){var n=this._envelopes[t.id];void 0!==t.successful&&n&&(n.scheduler.succeed(),delete this._envelopes[t.id],e.clearTimeout(n.timer)),this.trigger("message",t),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(t,n){var r=this._envelopes[t.id],i=r&&r.request,o=this;if(i){i.then((function(t){t&&t.abort&&t.abort()}));var s=r.scheduler;s.fail(),e.clearTimeout(r.timer),r.request=r.timer=null,n?this._sendEnvelope(r):r.timer=e.setTimeout((function(){r.timer=null,o._sendEnvelope(r)}),1e3*s.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down"))}}});f.create=function(t,e,n){return new f(t,e,n)},s(f.prototype,u),s(f.prototype,a),t.exports=f}).call(this,n(5))},function(t,e,n){"use strict";var r=n(22);r.register("websocket",n(288)),r.register("eventsource",n(290)),r.register("long-polling",n(87)),r.register("cross-origin-long-polling",n(291)),r.register("callback-polling",n(292)),t.exports=r},function(t,e,n){"use strict";(function(e){t.exports={addTimeout:function(t,n,r,i){if(this._timeouts=this._timeouts||{},!this._timeouts.hasOwnProperty(t)){var o=this;this._timeouts[t]=e.setTimeout((function(){delete o._timeouts[t],r.call(i)}),1e3*n)}},removeTimeout:function(t){this._timeouts=this._timeouts||{};var n=this._timeouts[t];n&&(e.clearTimeout(n),delete this._timeouts[t])},removeAllTimeouts:function(){for(var t in this._timeouts=this._timeouts||{},this._timeouts)this.removeTimeout(t)}}}).call(this,n(5))},function(t,e,n){"use strict";(function(e){var r=n(10),i=n(40),o=n(86),s=n(18),a=n(50),u=n(52),c=n(8),l=n(31),f=n(289),h=n(32),p=c(r(n(22),{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(t,e){this.callback((function(){t.call(e,!0)})),this.errback((function(){t.call(e,!1)})),this.connect()},request:function(t){this._pending=this._pending||new o;for(var e=0,n=t.length;e<n;e++)this._pending.add(t[e]);var r=this,s=new i((function(e,n){r.callback((function(n){n&&1===n.readyState&&(n.send(l(t)),e(n))})),r.connect()}));return{abort:function(){s.then((function(t){t.close()}))}}},connect:function(){if(!p._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var t=this._createSocket();if(!t)return this.setDeferredStatus("failed");var e=this;t.onopen=function(){t.headers&&e._storeCookies(t.headers["set-cookie"]),e._socket=t,e._state=e.CONNECTED,e._everConnected=!0,e._ping(),e.setDeferredStatus("succeeded",t)};var n=!1;t.onclose=t.onerror=function(){if(!n){n=!0;var r=e._state===e.CONNECTED;t.onopen=t.onclose=t.onerror=t.onmessage=null,delete e._socket,e._state=e.UNCONNECTED,e.removeTimeout("ping");var i=e._pending?e._pending.toArray():[];delete e._pending,r||e._everConnected?(e.setDeferredStatus("unknown"),e._handleError(i,r)):e.setDeferredStatus("failed")}},t.onmessage=function(t){var n;try{n=JSON.parse(t.data)}catch(o){}if(n){for(var r=0,i=(n=[].concat(n)).length;r<i;r++)void 0!==n[r].successful&&e._pending.remove(n[r]);e._receive(n)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var t=p.getSocketUrl(this.endpoint),e=this._dispatcher.headers,n=this._dispatcher.wsExtensions,r=this._getCookies(),i=this._dispatcher.tls,o={extensions:n,headers:e,proxy:this._proxy,tls:i};return""!==r&&(o.headers.Cookie=r),f.create(t,[],o)},_ping:function(){this._socket&&1===this._socket.readyState&&(this._socket.send("[]"),this.addTimeout("ping",this._dispatcher.timeout/2,this._ping,this))}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(t,e){var n=t.transports.websocket=t.transports.websocket||{};return n[e.href]=n[e.href]||new this(t,e),n[e.href]},getSocketUrl:function(t){return(t=u(t)).protocol=this.PROTOCOLS[t.protocol],s.stringify(t)},isUsable:function(t,e,n,r){this.create(t,e).isUsable(n,r)}});c(p.prototype,h),a.Event&&void 0!==e.onbeforeunload&&a.Event.on(e,"beforeunload",(function(){p._unloaded=!0})),t.exports=p}).call(this,n(5))},function(t,e,n){"use strict";(function(e){var n=e.MozWebSocket||e.WebSocket;t.exports={create:function(t,e,r){return"function"!==typeof n?null:new n(t)}}}).call(this,n(5))},function(t,e,n){"use strict";(function(e){var r=n(10),i=n(18),o=n(52),s=n(8),a=n(32),u=n(22),c=n(87),l=s(r(u,{initialize:function(t,n){if(u.prototype.initialize.call(this,t,n),!e.EventSource)return this.setDeferredStatus("failed");this._xhr=new c(t,n),(n=o(n)).pathname+="/"+t.clientId;var r=new e.EventSource(i.stringify(n)),s=this;r.onopen=function(){s._everConnected=!0,s.setDeferredStatus("succeeded")},r.onerror=function(){s._everConnected?s._handleError([]):(s.setDeferredStatus("failed"),r.close())},r.onmessage=function(t){var e;try{e=JSON.parse(t.data)}catch(n){}e?s._receive(e):s._handleError([])},this._socket=r},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(t,e){this.callback((function(){t.call(e,!0)})),this.errback((function(){t.call(e,!1)}))},encode:function(t){return this._xhr.encode(t)},request:function(t){return this._xhr.request(t)}}),{isUsable:function(t,e,n,r){if(!t.clientId)return n.call(r,!1);c.isUsable(t,e,(function(i){if(!i)return n.call(r,!1);this.create(t,e).isUsable(n,r)}),this)},create:function(t,e){var n=t.transports.eventsource=t.transports.eventsource||{},r=t.clientId,s=o(e);return s.pathname+="/"+(r||""),n[s=i.stringify(s)]=n[s]||new this(t,e),n[s]}});s(l.prototype,a),t.exports=l}).call(this,n(5))},function(t,e,n){"use strict";(function(e){var r=n(10),i=n(86),o=n(18),s=n(8),a=n(31),u=s(r(n(22),{encode:function(t){return"message="+encodeURIComponent(a(t))},request:function(t){var n,r=e.XDomainRequest?XDomainRequest:XMLHttpRequest,i=new r,s=++u._id,a=this._dispatcher.headers,c=this;if(i.open("POST",o.stringify(this.endpoint),!0),i.setRequestHeader)for(n in i.setRequestHeader("Pragma","no-cache"),a)a.hasOwnProperty(n)&&i.setRequestHeader(n,a[n]);var l=function(){if(!i)return!1;u._pending.remove(s),i.onload=i.onerror=i.ontimeout=i.onprogress=null,i=null};return i.onload=function(){var e;try{e=JSON.parse(i.responseText)}catch(n){}l(),e?c._receive(e):c._handleError(t)},i.onerror=i.ontimeout=function(){l(),c._handleError(t)},i.onprogress=function(){},r===e.XDomainRequest&&u._pending.add({id:s,xhr:i}),i.send(this.encode(t)),i}}),{_id:0,_pending:new i,isUsable:function(t,n,r,i){if(o.isSameOrigin(n))return r.call(i,!1);if(e.XDomainRequest)return r.call(i,n.protocol===location.protocol);if(e.XMLHttpRequest){var s=new XMLHttpRequest;return r.call(i,void 0!==s.withCredentials)}return r.call(i,!1)}});t.exports=u}).call(this,n(5))},function(t,e,n){"use strict";(function(e){var r=n(10),i=n(18),o=n(52),s=n(8),a=n(31),u=s(r(n(22),{encode:function(t){var e=o(this.endpoint);return e.query.message=a(t),e.query.jsonp="__jsonp"+u._cbCount+"__",i.stringify(e)},request:function(t){var n=document.getElementsByTagName("head")[0],r=document.createElement("script"),s=u.getCallbackName(),c=o(this.endpoint),l=this;c.query.message=a(t),c.query.jsonp=s;var f=function(){if(!e[s])return!1;e[s]=void 0;try{delete e[s]}catch(t){}r.parentNode.removeChild(r)};return e[s]=function(t){f(),l._receive(t)},r.type="text/javascript",r.src=i.stringify(c),n.appendChild(r),r.onerror=function(){f(),l._handleError(t)},{abort:f}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(t,e,n,r){n.call(r,!0)}});t.exports=u}).call(this,n(5))},function(t,e,n){"use strict";var r=n(10),i=n(84),o=r({initialize:function(t,e,n){this.code=t,this.params=Array.prototype.slice.call(e),this.message=n},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}});o.parse=function(t){if(t=t||"",!i.ERROR.test(t))return new o(null,[],t);var e=t.split(":"),n=parseInt(e[0]),r=e[1].split(",");t=e[2];return new o(n,r,t)};var s={versionMismatch:[300,"Version mismatch"],conntypeMismatch:[301,"Connection types not supported"],extMismatch:[302,"Extension mismatch"],badRequest:[400,"Bad request"],clientUnknown:[401,"Unknown client"],parameterMissing:[402,"Missing required parameter"],channelForbidden:[403,"Forbidden channel"],channelUnknown:[404,"Unknown channel"],channelInvalid:[405,"Invalid channel"],extUnknown:[406,"Unknown extension"],publishFailed:[407,"Failed to publish"],serverError:[500,"Internal server error"]};for(var a in s)!function(t){o[t]=function(){return new o(s[t][0],arguments,s[t][1]).toString()}}(a);t.exports=o},function(t,e,n){"use strict";var r={addExtension:function(t){this._extensions=this._extensions||[],this._extensions.push(t),t.added&&t.added(this)},removeExtension:function(t){if(this._extensions)for(var e=this._extensions.length;e--;)this._extensions[e]===t&&(this._extensions.splice(e,1),t.removed&&t.removed(this))},pipeThroughExtensions:function(t,e,n,r,i){if(this.debug("Passing through ? extensions: ?",t,e),!this._extensions)return r.call(i,e);var o=this._extensions.slice(),s=function(e){if(!e)return r.call(i,e);var a=o.shift();if(!a)return r.call(i,e);var u=a[t];if(!u)return s(e);u.length>=3?a[t](e,n,s):a[t](e,s)};s(e)}};n(8)(r,n(30)),t.exports=r},function(t,e,n){"use strict";var r=n(10),i=n(32);t.exports=r(i)},function(t,e,n){"use strict";var r=n(10),i=n(8),o=n(32),s=r({initialize:function(t,e,n,r){this._client=t,this._channels=e,this._callback=n,this._context=r,this._cancelled=!1},withChannel:function(t,e){return this._withChannel=[t,e],this},apply:function(t,e){var n=e[0];this._callback&&this._callback.call(this._context,n.data),this._withChannel&&this._withChannel[0].call(this._withChannel[1],n.channel,n.data)},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this),this._cancelled=!0)},unsubscribe:function(){this.cancel()}});i(s.prototype,o),t.exports=s},,,,function(t,e,n){var r=n(301);t.exports=function(t){return r(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},function(t,e,n){var r=n(89),i=n(302),o=String.prototype.trim;t.exports=function(t,e){return t=r(t),!e&&o?o.call(t):(e=i(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},function(t,e,n){var r=n(303);t.exports=function(t){return null==t?"\\s":t.source?t.source:"["+r(t)+"]"}},function(t,e,n){var r=n(89);t.exports=function(t){return r(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(1);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"initialize",value:function(t){return this.isShow=!i.cookie("mega_not_show"),this.element=t||null,this.windowWidth=-1!==navigator.appVersion.indexOf("MacOS")?1600:1579,this}},{key:"handle",value:function(){this.$el=i(this.element),this.options=window.Lenta.adfox.megaboard;var t=i(window).outerWidth();return this.$el&&this.isShow&&this.windowWidth<=t?(this.$el.attr("id",this.options.id),Adf.banner[this.options.function].apply(Adf.banner,this.options.arguments),function(t,e,n){var r=this,i=function(){if(r.outerWidth()>n){var i=t.offset().left+t.outerWidth(),o=r.outerWidth()-i;e.css("width",o+"px"),e.show()}else e.hide()};i(),this.resize(i)}.apply(i(window),[i(".js-root:first"),this.$el,this.windowWidth]),!0):(this.$el.hide(),!1)}}])&&r(e.prototype,n),o&&r(e,o),t}()},function(t,e,n){"use strict";var r=n(4).ScriptLoader;t.exports=function(t){var e=t.name||"PLISTA",n=t.origin?"-".concat(t.origin):"",i=window.location.protocol,o=t.name?"/".concat(t.name):"",s="".concat(i,"//static").concat(n,".plista.com/async").concat(o,".js"),a=new r;window[e]=t,a.loadAsync(s)}},function(t,e,n){"use strict";var r=n(4).ScriptLoader;t.exports=function(t){var e=window.location.protocol,n="".concat(e,"//smi2.ru/data/js/").concat(t.id,".js");(new r).loadAsync(n)}},function(t,e,n){"use strict";var r=n(4).ScriptLoader;t.exports=function(t){window.RamblerExchangeObject="re",window.re=window.re||function(){window.re.q=window.re.q||[],window.re.q.push(arguments)},(new r).loadAsync("https://api.rnet.plus//Scripts/embed.min.js",(function(){window.re("https://api.rnet.plus/",t.banners)}))}},,,,,,function(t,e,n){var r,i,o;i=[n(1)],void 0===(o="function"===typeof(r=function(t){t.fn.jScrollPane=function(e){function n(e,n){var r,i,o,s,a,u,c,l,f,h,p,d,g,v,m,y,b,_,w,x,E,S,k,M,T,O,C,I,N,A,R,P,D,j,L=this,B=!0,U=!0,F=!1,V=!1,H=e.clone(!1,!1).empty(),z=t.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";function W(n){var x,B,U,F,V,H,at=!1,ut=!1;if(r=n,void 0===i)V=e.scrollTop(),H=e.scrollLeft(),e.css({overflow:"hidden",padding:0}),o=e.innerWidth()+D,s=e.innerHeight(),e.width(o),i=t('<div class="jspPane" />').css("padding",P).append(e.children()),a=t('<div class="jspContainer" />').css({width:o+"px",height:s+"px"}).append(i).appendTo(e);else{if(e.css("width",""),at=r.stickToBottom&&function(){var t=c-s;return t>20&&t-ot()<10}(),ut=r.stickToRight&&function(){var t=u-o;return t>20&&t-it()<10}(),(F=e.innerWidth()+D!=o||e.outerHeight()!=s)&&(o=e.innerWidth()+D,s=e.innerHeight(),a.css({width:o+"px",height:s+"px"})),!F&&j==u&&i.outerHeight()==c)return void e.width(o);j=u,i.css("width",""),e.width(o),a.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}i.css("overflow","auto"),u=n.contentWidth?n.contentWidth:i[0].scrollWidth,c=i[0].scrollHeight,i.css("overflow",""),h=(f=c/s)>1,(p=(l=u/o)>1)||h?(e.addClass("jspScrollable"),(x=r.maintainPosition&&(v||b))&&(B=it(),U=ot()),h&&(a.append(t('<div class="jspVerticalBar" />').append(t('<div class="jspCap jspCapTop" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragTop" />'),t('<div class="jspDragBottom" />'))),t('<div class="jspCap jspCapBottom" />'))),_=a.find(">.jspVerticalBar"),w=_.find(">.jspTrack"),d=w.find(">.jspDrag"),r.showArrows&&(k=t('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",$(0,-1)).bind("click.jsp",st),M=t('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",$(0,1)).bind("click.jsp",st),r.arrowScrollOnHover&&(k.bind("mouseover.jsp",$(0,-1,k)),M.bind("mouseover.jsp",$(0,1,M))),G(w,r.verticalArrowPositions,k,M)),E=s,a.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each((function(){E-=t(this).outerHeight()})),d.hover((function(){d.addClass("jspHover")}),(function(){d.removeClass("jspHover")})).bind("mousedown.jsp",(function(e){t("html").bind("dragstart.jsp selectstart.jsp",st),d.addClass("jspActive");var n=e.pageY-d.position().top;return t("html").bind("mousemove.jsp",(function(t){J(t.pageY-n,!1)})).bind("mouseup.jsp mouseleave.jsp",X),!1})),Y()),p&&(a.append(t('<div class="jspHorizontalBar" />').append(t('<div class="jspCap jspCapLeft" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragLeft" />'),t('<div class="jspDragRight" />'))),t('<div class="jspCap jspCapRight" />'))),T=a.find(">.jspHorizontalBar"),O=T.find(">.jspTrack"),m=O.find(">.jspDrag"),r.showArrows&&(N=t('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",$(-1,0)).bind("click.jsp",st),A=t('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",$(1,0)).bind("click.jsp",st),r.arrowScrollOnHover&&(N.bind("mouseover.jsp",$(-1,0,N)),A.bind("mouseover.jsp",$(1,0,A))),G(O,r.horizontalArrowPositions,N,A)),m.hover((function(){m.addClass("jspHover")}),(function(){m.removeClass("jspHover")})).bind("mousedown.jsp",(function(e){t("html").bind("dragstart.jsp selectstart.jsp",st),m.addClass("jspActive");var n=e.pageX-m.position().left;return t("html").bind("mousemove.jsp",(function(t){Q(t.pageX-n,!1)})).bind("mouseup.jsp mouseleave.jsp",X),!1})),C=a.innerWidth(),q()),function(){if(p&&h){var e=O.outerHeight(),n=w.outerWidth();E-=e,t(T).find(">.jspCap:visible,>.jspArrow").each((function(){C+=t(this).outerWidth()})),C-=n,s-=n,o-=e,O.parent().append(t('<div class="jspCorner" />').css("width",e+"px")),Y(),q()}p&&i.width(a.outerWidth()-D+"px"),c=i.outerHeight(),f=c/s,p&&((I=Math.ceil(1/l*C))>r.horizontalDragMaxWidth?I=r.horizontalDragMaxWidth:I<r.horizontalDragMinWidth&&(I=r.horizontalDragMinWidth),m.width(I+"px"),y=C-I,tt(b)),h&&((S=Math.ceil(1/f*E))>r.verticalDragMaxHeight?S=r.verticalDragMaxHeight:S<r.verticalDragMinHeight&&(S=r.verticalDragMinHeight),d.height(S+"px"),g=E-S,Z(v))}(),x&&(nt(ut?u-o:B,!1),et(at?c-s:U,!1)),i.find(":input,a").unbind("focus.jsp").bind("focus.jsp",(function(t){rt(t.target,!1)})),a.unbind(z).bind(z,(function(t,e,n,i){b||(b=0),v||(v=0);var o=b,s=v,a=t.deltaFactor||r.mouseWheelSpeed;return L.scrollBy(n*a,-i*a,!1),o==b&&s==v})),function(){var t,e,n,r,i,o=!1;a.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",(function(s){var a=s.originalEvent.touches[0];t=it(),e=ot(),n=a.pageX,r=a.pageY,i=!1,o=!0})).bind("touchmove.jsp",(function(s){if(o){var a=s.originalEvent.touches[0],u=b,c=v;return L.scrollTo(t+n-a.pageX,e+r-a.pageY),i=i||Math.abs(n-a.pageX)>5||Math.abs(r-a.pageY)>5,u==b&&c==v}})).bind("touchend.jsp",(function(t){o=!1})).bind("click.jsp-touchclick",(function(t){if(i)return i=!1,!1}))}(),r.enableKeyboardNavigation&&function(){var n,o,u=[];function l(){var t=b,e=v;switch(n){case 40:L.scrollByY(r.keyboardSpeed,!1);break;case 38:L.scrollByY(-r.keyboardSpeed,!1);break;case 34:case 32:L.scrollByY(s*r.scrollPagePercent,!1);break;case 33:L.scrollByY(-s*r.scrollPagePercent,!1);break;case 39:L.scrollByX(r.keyboardSpeed,!1);break;case 37:L.scrollByX(-r.keyboardSpeed,!1)}return o=t!=b||e!=v}p&&u.push(T[0]),h&&u.push(_[0]),i.bind("focus.jsp",(function(){e.focus()})),e.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",(function(e){if(e.target===this||u.length&&t(e.target).closest(u).length){var r=b,i=v;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:n=e.keyCode,l();break;case 35:et(c-s),n=null;break;case 36:et(0),n=null}return!(o=e.keyCode==n&&r!=b||i!=v)}})).bind("keypress.jsp",(function(e){if(e.keyCode==n&&l(),e.target===this||u.length&&t(e.target).closest(u).length)return!o})),r.hideFocus?(e.css("outline","none"),"hideFocus"in a[0]&&e.attr("hideFocus",!0)):(e.css("outline",""),"hideFocus"in a[0]&&e.attr("hideFocus",!1))}(),r.clickOnTrack&&(K(),h&&w.bind("mousedown.jsp",(function(e){if(void 0===e.originalTarget||e.originalTarget==e.currentTarget){var n,i=t(this),o=i.offset(),a=e.pageY-o.top-v,u=!0,l=function(){var t=i.offset(),o=e.pageY-t.top-S/2,h=s*r.scrollPagePercent,p=g*h/(c-s);if(a<0)v-p>o?L.scrollByY(-h):J(o);else{if(!(a>0))return void f();v+p<o?L.scrollByY(h):J(o)}n=setTimeout(l,u?r.initialDelay:r.trackClickRepeatFreq),u=!1},f=function(){n&&clearTimeout(n),n=null,t(document).unbind("mouseup.jsp",f)};return l(),t(document).bind("mouseup.jsp",f),!1}})),p&&O.bind("mousedown.jsp",(function(e){if(void 0===e.originalTarget||e.originalTarget==e.currentTarget){var n,i=t(this),s=i.offset(),a=e.pageX-s.left-b,c=!0,l=function(){var t=i.offset(),s=e.pageX-t.left-I/2,h=o*r.scrollPagePercent,p=y*h/(u-o);if(a<0)b-p>s?L.scrollByX(-h):Q(s);else{if(!(a>0))return void f();b+p<s?L.scrollByX(h):Q(s)}n=setTimeout(l,c?r.initialDelay:r.trackClickRepeatFreq),c=!1},f=function(){n&&clearTimeout(n),n=null,t(document).unbind("mouseup.jsp",f)};return l(),t(document).bind("mouseup.jsp",f),!1}}))),function(){if(location.hash&&location.hash.length>1){var e,n,r=escape(location.hash.substr(1));try{e=t("#"+r+', a[name="'+r+'"]')}catch(o){return}e.length&&i.find(r)&&(0===a.scrollTop()?n=setInterval((function(){a.scrollTop()>0&&(rt(e,!0),t(document).scrollTop(a.position().top),clearInterval(n))}),50):(rt(e,!0),t(document).scrollTop(a.position().top)))}}(),r.hijackInternalLinks&&(t(document.body).data("jspHijack")||(t(document.body).data("jspHijack",!0),t(document.body).delegate("a[href*=#]","click",(function(e){var n,r,i,o,s,a=this.href.substr(0,this.href.indexOf("#")),u=location.href;if(-1!==location.href.indexOf("#")&&(u=location.href.substr(0,location.href.indexOf("#"))),a===u){n=escape(this.href.substr(this.href.indexOf("#")+1));try{r=t("#"+n+', a[name="'+n+'"]')}catch(c){return}r.length&&((i=r.closest(".jspScrollable")).data("jsp").scrollToElement(r,!0),i[0].scrollIntoView&&(o=t(window).scrollTop(),((s=r.offset().top)<o||s>o+t(window).height())&&i[0].scrollIntoView()),e.preventDefault())}}))))):(e.removeClass("jspScrollable"),i.css({top:0,left:0,width:a.width()-D}),a.unbind(z),i.find(":input,a").unbind("focus.jsp"),e.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),i.unbind(".jsp"),K()),r.autoReinitialise&&!R?R=setInterval((function(){W(r)}),r.autoReinitialiseDelay):!r.autoReinitialise&&R&&clearInterval(R),V&&e.scrollTop(0)&&et(V,!1),H&&e.scrollLeft(0)&&nt(H,!1),e.trigger("jsp-initialised",[p||h])}function Y(){w.height(E+"px"),v=0,x=r.verticalGutter+w.outerWidth(),i.width(o-x-D);try{0===_.position().left&&i.css("margin-left",x+"px")}catch(t){}}function q(){a.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each((function(){C-=t(this).outerWidth()})),O.width(C+"px"),b=0}function G(t,e,n,r){var i,o="before",s="after";"os"==e&&(e=/Mac/.test(navigator.platform)?"after":"split"),e==o?s=e:e==s&&(o=e,i=n,n=r,r=i),t[o](n)[s](r)}function $(e,n,i){return function(){return function(e,n,i,o){i=t(i).addClass("jspActive");var s,a,u=!0,c=function(){0!==e&&L.scrollByX(e*r.arrowButtonSpeed),0!==n&&L.scrollByY(n*r.arrowButtonSpeed),a=setTimeout(c,u?r.initialDelay:r.arrowRepeatFreq),u=!1};c(),s=o?"mouseout.jsp":"mouseup.jsp",(o=o||t("html")).bind(s,(function(){i.removeClass("jspActive"),a&&clearTimeout(a),a=null,o.unbind(s)}))}(e,n,this,i),this.blur(),!1}}function K(){O&&O.unbind("mousedown.jsp"),w&&w.unbind("mousedown.jsp")}function X(){t("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),d&&d.removeClass("jspActive"),m&&m.removeClass("jspActive")}function J(t,e){h&&(t<0?t=0:t>g&&(t=g),void 0===e&&(e=r.animateScroll),e?L.animate(d,"top",t,Z):(d.css("top",t),Z(t)))}function Z(t){void 0===t&&(t=d.position().top),a.scrollTop(0);var n=0===(v=t||0),o=v==g,u=-t/g*(c-s);B==n&&F==o||(B=n,F=o,e.trigger("jsp-arrow-change",[B,F,U,V])),function(t,e){r.showArrows&&(k[t?"addClass":"removeClass"]("jspDisabled"),M[e?"addClass":"removeClass"]("jspDisabled"))}(n,o),i.css("top",u),e.trigger("jsp-scroll-y",[-u,n,o]).trigger("scroll")}function Q(t,e){p&&(t<0?t=0:t>y&&(t=y),void 0===e&&(e=r.animateScroll),e?L.animate(m,"left",t,tt):(m.css("left",t),tt(t)))}function tt(t){void 0===t&&(t=m.position().left),a.scrollTop(0);var n=0===(b=t||0),s=b==y,c=-t/y*(u-o);U==n&&V==s||(U=n,V=s,e.trigger("jsp-arrow-change",[B,F,U,V])),function(t,e){r.showArrows&&(N[t?"addClass":"removeClass"]("jspDisabled"),A[e?"addClass":"removeClass"]("jspDisabled"))}(n,s),i.css("left",c),e.trigger("jsp-scroll-x",[-c,n,s]).trigger("scroll")}function et(t,e){J(t/(c-s)*g,e)}function nt(t,e){Q(t/(u-o)*y,e)}function rt(e,n,i){var u,c,l,f,h,p,d,g,v,m=0,y=0;try{u=t(e)}catch(b){return}for(c=u.outerHeight(),l=u.outerWidth(),a.scrollTop(0),a.scrollLeft(0);!u.is(".jspPane");)if(m+=u.position().top,y+=u.position().left,u=u.offsetParent(),/^body|html$/i.test(u[0].nodeName))return;p=(f=ot())+s,m<f||n?g=m-r.horizontalGutter:m+c>p&&(g=m-s+c+r.horizontalGutter),isNaN(g)||et(g,i),d=(h=it())+o,y<h||n?v=y-r.horizontalGutter:y+l>d&&(v=y-o+l+r.horizontalGutter),isNaN(v)||nt(v,i)}function it(){return-i.position().left}function ot(){return-i.position().top}function st(){return!1}"border-box"===e.css("box-sizing")?(P=0,D=0):(P=e.css("paddingTop")+" "+e.css("paddingRight")+" "+e.css("paddingBottom")+" "+e.css("paddingLeft"),D=(parseInt(e.css("paddingLeft"),10)||0)+(parseInt(e.css("paddingRight"),10)||0)),t.extend(L,{reinitialise:function(e){W(e=t.extend({},r,e))},scrollToElement:function(t,e,n){rt(t,e,n)},scrollTo:function(t,e,n){nt(t,n),et(e,n)},scrollToX:function(t,e){nt(t,e)},scrollToY:function(t,e){et(t,e)},scrollToPercentX:function(t,e){nt(t*(u-o),e)},scrollToPercentY:function(t,e){et(t*(c-s),e)},scrollBy:function(t,e,n){L.scrollByX(t,n),L.scrollByY(e,n)},scrollByX:function(t,e){Q((it()+Math[t<0?"floor":"ceil"](t))/(u-o)*y,e)},scrollByY:function(t,e){J((ot()+Math[t<0?"floor":"ceil"](t))/(c-s)*g,e)},positionDragX:function(t,e){Q(t,e)},positionDragY:function(t,e){J(t,e)},animate:function(t,e,n,i){var o={};o[e]=n,t.animate(o,{duration:r.animateDuration,easing:r.animateEase,queue:!1,step:i})},getContentPositionX:function(){return it()},getContentPositionY:function(){return ot()},getContentWidth:function(){return u},getContentHeight:function(){return c},getPercentScrolledX:function(){return it()/(u-o)},getPercentScrolledY:function(){return ot()/(c-s)},getIsScrollableH:function(){return p},getIsScrollableV:function(){return h},getContentPane:function(){return i},scrollToBottom:function(t){J(g,t)},hijackInternalLinks:t.noop,destroy:function(){!function(){var t=ot(),n=it();e.removeClass("jspScrollable").unbind(".jsp"),i.unbind(".jsp"),e.replaceWith(H.append(i.children())),H.scrollTop(t),H.scrollLeft(n),R&&clearInterval(R)}()}}),W(n)}return e=t.extend({},t.fn.jScrollPane.defaults,e),t.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],(function(){e[this]=e[this]||e.speed})),this.each((function(){var r=t(this),i=r.data("jsp");i?i.reinitialise(e):(t("script",r).filter('[type="text/javascript"],:not([type])').remove(),i=new n(r,e),r.data("jsp",i))}))},t.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r,i,o;i=[n(1)],void 0===(o="function"===typeof(r=function(t){var e,n,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(t.event.fixHooks)for(var s=r.length;s;)t.event.fixHooks[r[--s]]=t.event.mouseHooks;var a=t.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],u,!1);else this.onmousewheel=u;t.data(this,"mousewheel-line-height",a.getLineHeight(this)),t.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],u,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(t(e)["offsetParent"in t.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0}};function u(r){var i,s=r||window.event,a=o.call(arguments,1),u=0,f=0,h=0;if((r=t.event.fix(s)).type="mousewheel","detail"in s&&(h=-1*s.detail),"wheelDelta"in s&&(h=s.wheelDelta),"wheelDeltaY"in s&&(h=s.wheelDeltaY),"wheelDeltaX"in s&&(f=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(f=-1*h,h=0),u=0===h?f:h,"deltaY"in s&&(u=h=-1*s.deltaY),"deltaX"in s&&(f=s.deltaX,0===h&&(u=-1*f)),0!==h||0!==f){if(1===s.deltaMode){var p=t.data(this,"mousewheel-line-height");u*=p,h*=p,f*=p}else if(2===s.deltaMode){var d=t.data(this,"mousewheel-page-height");u*=d,h*=d,f*=d}return i=Math.max(Math.abs(h),Math.abs(f)),(!n||i<n)&&(n=i,l(s,i)&&(n/=40)),l(s,i)&&(u/=40,f/=40,h/=40),u=Math[u>=1?"floor":"ceil"](u/n),f=Math[f>=1?"floor":"ceil"](f/n),h=Math[h>=1?"floor":"ceil"](h/n),r.deltaX=f,r.deltaY=h,r.deltaFactor=n,r.deltaMode=0,a.unshift(r,u,f,h),e&&clearTimeout(e),e=setTimeout(c,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function c(){n=null}function l(t,e){return a.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})?r.apply(e,i):r)||(t.exports=o)}]]);